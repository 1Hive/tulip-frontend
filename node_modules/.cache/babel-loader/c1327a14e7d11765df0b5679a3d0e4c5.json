{"ast":null,"code":"var source = require('./source');\n\nvar sink = require('./sink');\n\nmodule.exports = function (socket, options) {\n  options = options || {};\n\n  if (options.binaryType) {\n    socket.binaryType = options.binaryType;\n  } else if (options.binary) {\n    socket.binaryType = 'arraybuffer';\n  }\n\n  var duplex = {\n    sink: sink(socket, options),\n    source: source(socket, options),\n    connected: function connected() {\n      return duplex.source.connected();\n    }\n  };\n  return duplex;\n};","map":null,"metadata":{},"sourceType":"script"}