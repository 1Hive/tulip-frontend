{"ast":null,"code":"import _objectSpread from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _createForOfIteratorHelper from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useState}from'react';import{DataView,textStyle,Button}from'@1hive/1hive-ui';import Loading from'../../Loading';import{getKnownTokenImg}from'../../../utils/known-tokens';import PairName from'../PairName';import RewardComponent from'../RewardComponent';import Fuse from'fuse.js';import DepositModal from'../DepositModal';var _StyledDiv=_styled(\"div\").withConfig({displayName:\"FarmTable___StyledDiv\",componentId:\"flmx2u-0\"})([\"\",\";font-family:'Overpass',sans-serif;font-weight:300;font-size:18px;\"],function(p){return p._css;});var _StyledDataView=_styled(DataView).withConfig({displayName:\"FarmTable___StyledDataView\",componentId:\"flmx2u-1\"})([\"border-top:none;\"]);var _StyledButton=_styled(Button).withConfig({displayName:\"FarmTable___StyledButton\",componentId:\"flmx2u-2\"})([\"background:linear-gradient(90deg,#aaf5d4,#7ce0d6);\"]);var FarmTable=function FarmTable(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalAction=_useState2[0],setModalAction=_useState2[1];var pairs=props.pairData.filter(function(id){var temp=[];var _iterator=_createForOfIteratorHelper(props.tableData),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var x=_step.value;temp.push(x.pair);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return temp.includes(id.id);});var addAPY=pairs.map(function(pair){var _iterator2=_createForOfIteratorHelper(props.tableData),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var x=_step2.value;if(x.pair===pair.id){return _objectSpread(_objectSpread({},pair),{},{apy:x.apy,sushiHarvestedUSD:x.sushiHarvestedUSD,sushiHarvested:x.sushiHarvested,slpDeposited:x.slpDeposited,allocPoint:x.allocPoint,slpBalance:x.slpBalance,slpWithdrawn:x.slpWithdrawn});}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}});var fuse=new Fuse(addAPY,{keys:['token0.name','token0.symbol','token1.name','token1.symbol']});var results=fuse.search(props.searchValue);console.log(addAPY);var handleModalActions=function handleModalActions(){setModalAction(true);};var handleModalClose=function handleModalClose(){setModalAction(false);};console.log(modalAction);if(props.tableData.length===0){return/*#__PURE__*/React.createElement(Loading,null);}else{return/*#__PURE__*/React.createElement(_StyledDiv,{_css:textStyle('body2')},/*#__PURE__*/React.createElement(_StyledDataView,{fields:['Asset','Base Yield','Reward Yield','Total Yield','Reward Asset',' '],emptyState:{default:{displayLoader:false,title:'Getting Pools',subtitle:null,illustration:/*#__PURE__*/React.createElement(Loading,null),clearLabel:null},loading:{displayLoader:true,title:'No data available.',subtitle:null,illustration:/*#__PURE__*/React.createElement(\"img\",{src:\"https://i1.wp.com/www.cssscript.com/wp-content/uploads/2014/10/iOS-OS-X-Style-Pure-CSS-Loading-Spinner.jpg?fit=400%2C300&ssl=1\",alt:\"\"}),clearLabel:null}},entries:props.searchValue?results:addAPY,header:true,renderEntry:function renderEntry(_ref){var id=_ref.id,token0=_ref.token0,token1=_ref.token1,apy=_ref.apy;var customLabel=\"\".concat(token0.symbol,\"-\").concat(token1.symbol);var baseYield=parseInt(apy.toFixed(2));var rewardYield=parseInt(apy.toFixed(2)*2);var totalYield=parseInt(baseYield+rewardYield);var token0Img=getKnownTokenImg(token0.symbol);var token1Img=getKnownTokenImg(token1.symbol);var imgObj={pair1:token0Img,pair2:token1Img};console.log(imgObj);return[/*#__PURE__*/React.createElement(PairName,{image:imgObj,name:customLabel,subheadline:\"Honeyswap\"}),/*#__PURE__*/React.createElement(\"p\",null,baseYield,\"%\"),/*#__PURE__*/React.createElement(\"p\",null,rewardYield,\"%\"),/*#__PURE__*/React.createElement(\"p\",null,totalYield,\"%\"),/*#__PURE__*/React.createElement(RewardComponent,{image:getKnownTokenImg('AG'),name:\"Agave\"}),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(_StyledButton,{id:customLabel,label:\"Stake\",onClick:handleModalActions}),/*#__PURE__*/React.createElement(DepositModal,{modalAction:modalAction,handleModalClose:handleModalClose,tokenImg:imgObj,pairName:customLabel}))];}}));}};export default FarmTable;","map":{"version":3,"sources":["/Users/fabianmolina/Documents/1hive/tulip-frontend/src/components/Farming/FarmTable/index.js"],"names":["React","useState","DataView","textStyle","Button","Loading","getKnownTokenImg","PairName","RewardComponent","Fuse","DepositModal","FarmTable","props","modalAction","setModalAction","pairs","pairData","filter","id","temp","tableData","x","push","pair","includes","addAPY","map","apy","sushiHarvestedUSD","sushiHarvested","slpDeposited","allocPoint","slpBalance","slpWithdrawn","fuse","keys","results","search","searchValue","console","log","handleModalActions","handleModalClose","length","default","displayLoader","title","subtitle","illustration","clearLabel","loading","token0","token1","customLabel","symbol","baseYield","parseInt","toFixed","rewardYield","totalYield","token0Img","token1Img","imgObj","pair1","pair2"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { DataView, textStyle, Button } from '@1hive/1hive-ui'\r\nimport Loading from '../../Loading'\r\nimport { getKnownTokenImg } from '../../../utils/known-tokens'\r\nimport PairName from '../PairName'\r\nimport RewardComponent from '../RewardComponent'\r\nimport Fuse from 'fuse.js'\r\nimport DepositModal from '../DepositModal'\r\n\r\nconst FarmTable = props => {\r\n  const [modalAction, setModalAction] = useState(false)\r\n  const pairs = props.pairData.filter(id => {\r\n    const temp = []\r\n    for (const x of props.tableData) {\r\n      temp.push(x.pair)\r\n    }\r\n    return temp.includes(id.id)\r\n  })\r\n  const addAPY = pairs.map(pair => {\r\n    for (const x of props.tableData) {\r\n      if (x.pair === pair.id) {\r\n        return {\r\n          ...pair,\r\n          apy: x.apy,\r\n          sushiHarvestedUSD: x.sushiHarvestedUSD,\r\n          sushiHarvested: x.sushiHarvested,\r\n          slpDeposited: x.slpDeposited,\r\n          allocPoint: x.allocPoint,\r\n          slpBalance: x.slpBalance,\r\n          slpWithdrawn: x.slpWithdrawn,\r\n        }\r\n      }\r\n    }\r\n  })\r\n  const fuse = new Fuse(addAPY, {\r\n    keys: ['token0.name', 'token0.symbol', 'token1.name', 'token1.symbol'],\r\n  })\r\n  const results = fuse.search(props.searchValue)\r\n  console.log(addAPY)\r\n  const handleModalActions = () => {\r\n    setModalAction(true)\r\n  }\r\n  const handleModalClose = () => {\r\n    setModalAction(false)\r\n  }\r\n  console.log(modalAction)\r\n  if (props.tableData.length === 0) {\r\n    return <Loading />\r\n  } else {\r\n    return (\r\n      <div\r\n        css={`\r\n          ${textStyle('body2')};\r\n          font-family: 'Overpass', sans-serif;\r\n          font-weight: 300;\r\n          font-size: 18px;\r\n        `}\r\n      >\r\n        <DataView\r\n          fields={[\r\n            'Asset',\r\n            'Base Yield',\r\n            'Reward Yield',\r\n            'Total Yield',\r\n            'Reward Asset',\r\n            ' ',\r\n          ]}\r\n          css={`\r\n            border-top: none;\r\n          `}\r\n          emptyState={{\r\n            default: {\r\n              displayLoader: false,\r\n              title: 'Getting Pools',\r\n              subtitle: null,\r\n              illustration: <Loading />,\r\n              clearLabel: null,\r\n            },\r\n            loading: {\r\n              displayLoader: true,\r\n              title: 'No data available.',\r\n              subtitle: null,\r\n              illustration: (\r\n                <img\r\n                  src=\"https://i1.wp.com/www.cssscript.com/wp-content/uploads/2014/10/iOS-OS-X-Style-Pure-CSS-Loading-Spinner.jpg?fit=400%2C300&ssl=1\"\r\n                  alt=\"\"\r\n                />\r\n              ),\r\n              clearLabel: null,\r\n            },\r\n          }}\r\n          entries={props.searchValue ? results : addAPY}\r\n          header\r\n          renderEntry={({ id, token0, token1, apy }) => {\r\n            const customLabel = `${token0.symbol}-${token1.symbol}`\r\n            const baseYield = parseInt(apy.toFixed(2))\r\n            const rewardYield = parseInt(apy.toFixed(2) * 2)\r\n            const totalYield = parseInt(baseYield + rewardYield)\r\n            const token0Img = getKnownTokenImg(token0.symbol)\r\n            const token1Img = getKnownTokenImg(token1.symbol)\r\n            const imgObj = {\r\n              pair1: token0Img,\r\n              pair2: token1Img,\r\n            }\r\n            console.log(imgObj)\r\n            return [\r\n              <PairName\r\n                image={imgObj}\r\n                name={customLabel}\r\n                subheadline=\"Honeyswap\"\r\n              />,\r\n              <p>{baseYield}%</p>,\r\n              <p>{rewardYield}%</p>,\r\n              <p>{totalYield}%</p>,\r\n              <RewardComponent image={getKnownTokenImg('AG')} name=\"Agave\" />,\r\n              <React.Fragment>\r\n                <Button\r\n                  css={`\r\n                    background: linear-gradient(90deg, #aaf5d4, #7ce0d6);\r\n                  `}\r\n                  id={customLabel}\r\n                  label=\"Stake\"\r\n                  onClick={handleModalActions}\r\n                />\r\n                <DepositModal\r\n                  modalAction={modalAction}\r\n                  handleModalClose={handleModalClose}\r\n                  tokenImg={imgObj}\r\n                  pairName={customLabel}\r\n                />\r\n              </React.Fragment>,\r\n            ]\r\n          }}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default FarmTable\r\n"]},"metadata":{},"sourceType":"module"}