{"ast":null,"code":"'use strict';\n\nconst {\n  Key\n} = require('interface-datastore');\n\nconst CID = require('cids');\n\nconst multibase = require('multibase');\n\nconst errcode = require('err-code');\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} cid\n * @returns {Key}\n */\n\n\nexports.cidToKey = cid => {\n  if (!CID.isCID(cid)) {\n    throw errcode(new Error('Not a valid cid'), 'ERR_INVALID_CID');\n  }\n\n  return new Key('/' + multibase.encode('base32', cid.buffer).toString().slice(1).toUpperCase(), false);\n};\n/**\n * Transform a datastore Key instance to a CID\n *\n * @param {Key} key\n * @returns {CID}\n */\n\n\nexports.keyToCid = key => {\n  return new CID(multibase.decode('b' + key.toString().slice(1).toLowerCase()));\n};","map":null,"metadata":{},"sourceType":"script"}