{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./slicedToArray-a8a77f0e.js');\n\nrequire('./unsupportedIterableToArray-f175acfa.js');\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nrequire('./toConsumableArray-cc0d28a9.js');\n\nvar _styled = require('styled-components');\n\nvar getPrototypeOf = require('./getPrototypeOf-55c9e80c.js');\n\nrequire('./color.js');\n\nvar css = require('./css.js');\n\nrequire('./miscellaneous.js');\n\nrequire('./environment.js');\n\nvar springs = require('./springs.js');\n\nrequire('./theme-dark.js');\n\nrequire('./theme-light.js');\n\nvar Theme = require('./Theme.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nvar objectWithoutProperties = require('./objectWithoutProperties-c6d3675c.js');\n\nrequire('./objectWithoutPropertiesLoose-1af20ad0.js');\n\nrequire('react-dom');\n\nvar web = require('./web-7cbdbd84.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar _styled__default = /*#__PURE__*/_interopDefaultLegacy(_styled);\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf.getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf.getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return getPrototypeOf.possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar BAR_HEIGHT = 6;\nvar HANDLE_SIZE = 24;\nvar HANDLE_SHADOW_MARGIN = 15;\nvar PADDING = 5;\nvar MIN_WIDTH = HANDLE_SIZE * 10;\nvar HEIGHT = Math.max(HANDLE_SIZE, BAR_HEIGHT) + PADDING * 2; // The check on window.DOMRect is needed for the JSDOM environment, which has\n// window but not window.DOMRect. JSDOM is used by default in Jest.\n\nvar DEFAULT_RECT = typeof window === 'undefined' || typeof window.DOMRect !== 'function' ? {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n} : new window.DOMRect();\n\nvar _StyledDiv = _styled__default['default'](\"div\").withConfig({\n  displayName: \"Slider___StyledDiv\",\n  componentId: \"sc-94djfe-0\"\n})([\"min-width:\", \"px;padding:0 \", \"px;\", \";\"], MIN_WIDTH, function (p) {\n  return p._css;\n}, css.unselectable);\n\nvar _StyledDiv2 = _styled__default['default'](\"div\").withConfig({\n  displayName: \"Slider___StyledDiv2\",\n  componentId: \"sc-94djfe-1\"\n})([\"position:relative;height:\", \"px;cursor:pointer;\"], HEIGHT);\n\nvar _StyledAnimatedDiv = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Slider___StyledAnimatedDiv\",\n  componentId: \"sc-94djfe-2\"\n})([\"position:absolute;top:50%;left:0;width:\", \"px;height:\", \"px;border:1px solid \", \";border-radius:50%;cursor:pointer;pointer-events:auto;\"], HANDLE_SIZE, HANDLE_SIZE, function (p) {\n  return p._css4;\n});\n\nvar Slider = /*#__PURE__*/function (_React$Component) {\n  getPrototypeOf.inherits(Slider, _React$Component);\n\n  var _super = _createSuper(Slider);\n\n  function Slider() {\n    var _this;\n\n    getPrototypeOf.classCallCheck(this, Slider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"state\", {\n      pressed: false\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"handleRef\", function (element) {\n      _this._mainElement = element;\n      _this._document = element && element.ownerDocument;\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"getRect\", function () {\n      var now = Date.now(); // Cache the rect if the last poll was less than a second ago\n\n      if (_this._lastRect && now - _this._lastRectTime < 1000) {\n        return _this._lastRect;\n      }\n\n      _this._lastRectTime = now;\n      _this._lastRect = _this._mainElement ? _this._mainElement.getBoundingClientRect() : DEFAULT_RECT;\n      return _this._lastRect;\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"dragStart\", function (event) {\n      _this.dragStop();\n\n      var clientX = _this.clientXFromEvent(event);\n\n      _this.setState({\n        pressed: true\n      }, function () {\n        _this.updateValueFromClientX(clientX);\n      });\n\n      _this._document.addEventListener('mouseup', _this.dragStop);\n\n      _this._document.addEventListener('touchend', _this.dragStop);\n\n      _this._document.addEventListener('mousemove', _this.dragMove);\n\n      _this._document.addEventListener('touchmove', _this.dragMove);\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"dragStop\", function () {\n      _this.setState({\n        pressed: false\n      });\n\n      _this._document.removeEventListener('mouseup', _this.dragStop);\n\n      _this._document.removeEventListener('touchend', _this.dragStop);\n\n      _this._document.removeEventListener('mousemove', _this.dragMove);\n\n      _this._document.removeEventListener('touchmove', _this.dragMove);\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"dragMove\", function (event) {\n      if (!_this.state.pressed) {\n        return;\n      }\n\n      _this.updateValueFromClientX(_this.clientXFromEvent(event));\n    });\n    return _this;\n  }\n\n  getPrototypeOf.createClass(Slider, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dragStop();\n    }\n  }, {\n    key: \"clientXFromEvent\",\n    value: function clientXFromEvent(event) {\n      return (event.touches ? event.touches.item(0) : event).clientX;\n    }\n  }, {\n    key: \"updateValueFromClientX\",\n    value: function updateValueFromClientX(clientX) {\n      var rect = this.getRect();\n      var x = Math.min(rect.width, Math.max(0, clientX - rect.x));\n      this.props.onUpdate(x / rect.width);\n    }\n  }, {\n    key: \"getHandleStyles\",\n    value: function getHandleStyles(pressProgress) {\n      return {\n        transform: pressProgress.interpolate(function (t) {\n          return \"translate3d(0, calc(\".concat(t * 0.5, \"px - 50%), 0)\");\n        }),\n        boxShadow: pressProgress.interpolate(function (t) {\n          return \"0 1px 3px rgba(0, 0, 0, \".concat(0.1 - 0.02 * t, \")\");\n        }),\n        background: pressProgress.interpolate(function (t) {\n          return \"hsl(0, 0%, \".concat(100 * (1 - t * 0.01), \"%)\");\n        })\n      };\n    }\n  }, {\n    key: \"getHandlePositionStyles\",\n    value: function getHandlePositionStyles(value) {\n      return {\n        transform: value.interpolate(function (t) {\n          return \"translate3d(calc(\".concat(t * 100, \"% + \").concat(HANDLE_SHADOW_MARGIN, \"px), 0, 0)\");\n        })\n      };\n    }\n  }, {\n    key: \"getActiveBarStyles\",\n    value: function getActiveBarStyles(value, pressProgress) {\n      return {\n        transform: value.interpolate(function (t) {\n          return \"scaleX(\".concat(t, \") translateZ(0)\");\n        })\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var pressed = this.state.pressed;\n      var _this$props = this.props,\n          onUpdate = _this$props.onUpdate,\n          value = _this$props.value,\n          theme = _this$props.theme,\n          props = objectWithoutProperties.objectWithoutProperties(_this$props, [\"onUpdate\", \"value\", \"theme\"]);\n      return /*#__PURE__*/React__default['default'].createElement(web.Spring, {\n        native: true,\n        config: springs.springs.swift,\n        to: {\n          pressProgress: Number(pressed),\n          value: Math.max(0, Math.min(1, value))\n        }\n      }, function (_ref) {\n        var value = _ref.value,\n            pressProgress = _ref.pressProgress;\n        return /*#__PURE__*/React__default['default'].createElement(_StyledDiv, _extends._extends_1({}, props, {\n          _css: HANDLE_SIZE / 2 + PADDING\n        }), /*#__PURE__*/React__default['default'].createElement(_StyledDiv2, {\n          ref: _this2.handleRef,\n          onMouseDown: _this2.dragStart,\n          onTouchStart: _this2.dragStart\n        }, /*#__PURE__*/React__default['default'].createElement(Bars, null, /*#__PURE__*/React__default['default'].createElement(_StyledBar, {\n          _css2: theme.surfaceUnder\n        }), /*#__PURE__*/React__default['default'].createElement(_StyledBar2, {\n          style: _this2.getActiveBarStyles(value, pressProgress),\n          _css3: theme.selected\n        })), /*#__PURE__*/React__default['default'].createElement(HandleClip, null, /*#__PURE__*/React__default['default'].createElement(HandlePosition, {\n          style: _this2.getHandlePositionStyles(value, pressProgress)\n        }, /*#__PURE__*/React__default['default'].createElement(_StyledAnimatedDiv, {\n          style: _this2.getHandleStyles(pressProgress),\n          _css4: theme.border\n        })))));\n      });\n    }\n  }]);\n  return Slider;\n}(React__default['default'].Component);\n\ndefineProperty.defineProperty(Slider, \"propTypes\", {\n  value: index.propTypes.number,\n  onUpdate: index.propTypes.func,\n  theme: index.propTypes.object\n});\ndefineProperty.defineProperty(Slider, \"defaultProps\", {\n  value: 0,\n  onUpdate: function onUpdate() {}\n});\n\nvar Bars = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Slider__Bars\",\n  componentId: \"sc-94djfe-3\"\n})([\"position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);overflow:hidden;border-radius:2px;height:\", \"px;\"], BAR_HEIGHT);\n\nvar Bar = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Slider__Bar\",\n  componentId: \"sc-94djfe-4\"\n})([\"position:absolute;top:0;left:0;right:0;bottom:0;\"]);\n\nvar _StyledBar2 = _styled__default['default'](Bar).withConfig({\n  displayName: \"Slider___StyledBar2\",\n  componentId: \"sc-94djfe-5\"\n})([\"transform-origin:0 0;background:\", \";\"], function (p) {\n  return p._css3;\n});\n\nvar _StyledBar = _styled__default['default'](Bar).withConfig({\n  displayName: \"Slider___StyledBar\",\n  componentId: \"sc-94djfe-6\"\n})([\"background:\", \";\"], function (p) {\n  return p._css2;\n});\n\nvar HandleClip = _styled__default['default'].div.withConfig({\n  displayName: \"Slider__HandleClip\",\n  componentId: \"sc-94djfe-7\"\n})([\"pointer-events:none;overflow:hidden;width:calc(100% + \", \"px);height:calc(100% + \", \"px);transform-origin:50% 50%;transform:translate( -\", \"px,-\", \"px );\"], HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2, HANDLE_SHADOW_MARGIN * 2, HANDLE_SIZE / 2 + HANDLE_SHADOW_MARGIN, HANDLE_SHADOW_MARGIN);\n\nvar HandlePosition = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Slider__HandlePosition\",\n  componentId: \"sc-94djfe-8\"\n})([\"width:calc(100% - \", \"px);height:100%;transform-origin:50% 50%;\"], HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2);\n\nvar Slider$1 = function (props) {\n  var theme = Theme.useTheme();\n  return /*#__PURE__*/React__default['default'].createElement(Slider, _extends._extends_1({\n    theme: theme\n  }, props));\n};\n\nexports.default = Slider$1;","map":{"version":3,"sources":["../src/components/Slider/Slider.js"],"names":["BAR_HEIGHT","HANDLE_SIZE","HANDLE_SHADOW_MARGIN","PADDING","MIN_WIDTH","HEIGHT","Math","DEFAULT_RECT","window","x","y","width","height","top","right","bottom","left","Slider","React","Component","value","PropTypes","onUpdate","theme","object","pressed","element","now","Date","event","clientX","rect","pressProgress","transform","t","boxShadow","background","props","Spring","springs","Number","unselectable","dragStart","surfaceUnder","selected","border","Bars","styled","animated","Bar","HandleClip","HandlePosition","useTheme"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Spring, animated } from 'react-spring'\nimport { springs } from '../../style'\nimport { useTheme } from '../../theme'\nimport { unselectable } from '../../utils'\n\nconst BAR_HEIGHT = 6\nconst HANDLE_SIZE = 24\nconst HANDLE_SHADOW_MARGIN = 15\nconst PADDING = 5\nconst MIN_WIDTH = HANDLE_SIZE * 10\nconst HEIGHT = Math.max(HANDLE_SIZE, BAR_HEIGHT) + PADDING * 2\n\n// The check on window.DOMRect is needed for the JSDOM environment, which has\n// window but not window.DOMRect. JSDOM is used by default in Jest.\nconst DEFAULT_RECT =\n  typeof window === 'undefined' || typeof window.DOMRect !== 'function'\n    ? { x: 0, y: 0, width: 0, height: 0, top: 0, right: 0, bottom: 0, left: 0 }\n    : new window.DOMRect()\n\nclass Slider extends React.Component {\n  static propTypes = {\n    value: PropTypes.number,\n    onUpdate: PropTypes.func,\n    theme: PropTypes.object,\n  }\n  static defaultProps = {\n    value: 0,\n    onUpdate: () => {},\n  }\n  state = {\n    pressed: false,\n  }\n  componentWillUnmount() {\n    this.dragStop()\n  }\n  handleRef = element => {\n    this._mainElement = element\n    this._document = element && element.ownerDocument\n  }\n  getRect = () => {\n    const now = Date.now()\n\n    // Cache the rect if the last poll was less than a second ago\n    if (this._lastRect && now - this._lastRectTime < 1000) {\n      return this._lastRect\n    }\n\n    this._lastRectTime = now\n    this._lastRect = this._mainElement\n      ? this._mainElement.getBoundingClientRect()\n      : DEFAULT_RECT\n\n    return this._lastRect\n  }\n  clientXFromEvent(event) {\n    return (event.touches ? event.touches.item(0) : event).clientX\n  }\n  updateValueFromClientX(clientX) {\n    const rect = this.getRect()\n    const x = Math.min(rect.width, Math.max(0, clientX - rect.x))\n    this.props.onUpdate(x / rect.width)\n  }\n  dragStart = event => {\n    this.dragStop()\n    const clientX = this.clientXFromEvent(event)\n    this.setState({ pressed: true }, () => {\n      this.updateValueFromClientX(clientX)\n    })\n    this._document.addEventListener('mouseup', this.dragStop)\n    this._document.addEventListener('touchend', this.dragStop)\n    this._document.addEventListener('mousemove', this.dragMove)\n    this._document.addEventListener('touchmove', this.dragMove)\n  }\n  dragStop = () => {\n    this.setState({ pressed: false })\n    this._document.removeEventListener('mouseup', this.dragStop)\n    this._document.removeEventListener('touchend', this.dragStop)\n    this._document.removeEventListener('mousemove', this.dragMove)\n    this._document.removeEventListener('touchmove', this.dragMove)\n  }\n  dragMove = event => {\n    if (!this.state.pressed) {\n      return\n    }\n\n    this.updateValueFromClientX(this.clientXFromEvent(event))\n  }\n  getHandleStyles(pressProgress) {\n    return {\n      transform: pressProgress.interpolate(\n        t => `translate3d(0, calc(${t * 0.5}px - 50%), 0)`\n      ),\n      boxShadow: pressProgress.interpolate(\n        t => `0 1px 3px rgba(0, 0, 0, ${0.1 - 0.02 * t})`\n      ),\n      background: pressProgress.interpolate(\n        t => `hsl(0, 0%, ${100 * (1 - t * 0.01)}%)`\n      ),\n    }\n  }\n  getHandlePositionStyles(value) {\n    return {\n      transform: value.interpolate(\n        t => `translate3d(calc(${t * 100}% + ${HANDLE_SHADOW_MARGIN}px), 0, 0)`\n      ),\n    }\n  }\n  getActiveBarStyles(value, pressProgress) {\n    return {\n      transform: value.interpolate(t => `scaleX(${t}) translateZ(0)`),\n    }\n  }\n  render() {\n    const { pressed } = this.state\n    const { onUpdate, value, theme, ...props } = this.props\n    return (\n      <Spring\n        native\n        config={springs.swift}\n        to={{\n          pressProgress: Number(pressed),\n          value: Math.max(0, Math.min(1, value)),\n        }}\n      >\n        {({ value, pressProgress }) => (\n          <div\n            css={`\n              min-width: ${MIN_WIDTH}px;\n              padding: 0 ${HANDLE_SIZE / 2 + PADDING}px;\n              ${unselectable};\n            `}\n            {...props}\n          >\n            <div\n              ref={this.handleRef}\n              onMouseDown={this.dragStart}\n              onTouchStart={this.dragStart}\n              css={`\n                position: relative;\n                height: ${HEIGHT}px;\n                cursor: pointer;\n              `}\n            >\n              <Bars>\n                <Bar\n                  css={`\n                    background: ${theme.surfaceUnder};\n                  `}\n                />\n                <Bar\n                  style={this.getActiveBarStyles(value, pressProgress)}\n                  css={`\n                    transform-origin: 0 0;\n                    background: ${theme.selected};\n                  `}\n                />\n              </Bars>\n\n              <HandleClip>\n                <HandlePosition\n                  style={this.getHandlePositionStyles(value, pressProgress)}\n                >\n                  <animated.div\n                    style={this.getHandleStyles(pressProgress)}\n                    css={`\n                      position: absolute;\n                      top: 50%;\n                      left: 0;\n                      width: ${HANDLE_SIZE}px;\n                      height: ${HANDLE_SIZE}px;\n                      border: 1px solid ${theme.border};\n                      border-radius: 50%;\n                      cursor: pointer;\n                      pointer-events: auto;\n                    `}\n                  />\n                </HandlePosition>\n              </HandleClip>\n            </div>\n          </div>\n        )}\n      </Spring>\n    )\n  }\n}\n\nconst Bars = styled(animated.div)`\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  overflow: hidden;\n  border-radius: 2px;\n  height: ${BAR_HEIGHT}px;\n`\n\nconst Bar = styled(animated.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n`\n\nconst HandleClip = styled.div`\n  pointer-events: none;\n  overflow: hidden;\n  width: calc(100% + ${HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2}px);\n  height: calc(100% + ${HANDLE_SHADOW_MARGIN * 2}px);\n  transform-origin: 50% 50%;\n  transform: translate(\n    -${HANDLE_SIZE / 2 + HANDLE_SHADOW_MARGIN}px,\n    -${HANDLE_SHADOW_MARGIN}px\n  );\n`\n\nconst HandlePosition = styled(animated.div)`\n  width: calc(100% - ${HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2}px);\n  height: 100%;\n  transform-origin: 50% 50%;\n`\n\nexport default props => {\n  const theme = useTheme()\n  return <Slider theme={theme} {...props} />\n}\n"]},"metadata":{},"sourceType":"script"}