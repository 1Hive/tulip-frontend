{"ast":null,"code":"import { _ as _slicedToArray } from './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React$1, { useState, useCallback } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport { RADIUS } from './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport './extends-db4f0c26.js';\nimport './objectWithoutProperties-234758e1.js';\nimport './index-422d37c0.js';\nimport './FocusVisible.js';\nimport ButtonBase from './ButtonBase.js';\nimport './IconPropTypes-9078a621.js';\nimport './IconAddUser.js';\nimport './IconAlert.js';\nimport './IconAlignCenter.js';\nimport './IconAlignJustify.js';\nimport './IconAlignLeft.js';\nimport './IconAlignRight.js';\nimport './IconAragon.js';\nimport './IconArrowDown.js';\nimport './IconArrowLeft.js';\nimport './IconArrowRight.js';\nimport './IconArrowUp.js';\nimport './IconAtSign.js';\nimport './IconBlock.js';\nimport './IconBookmark.js';\nimport './IconCalendar.js';\nimport './IconCanvas.js';\nimport './IconCaution.js';\nimport './IconCenter.js';\nimport './IconChart.js';\nimport './IconChat.js';\nimport './IconCheck.js';\nimport './IconChip.js';\nimport './IconCircleCheck.js';\nimport './IconCircleMinus.js';\nimport './IconCirclePlus.js';\nimport './IconClock.js';\nimport './IconCloudDownload.js';\nimport './IconCloudUpload.js';\nimport './IconCoin.js';\nimport './IconConfiguration.js';\nimport './IconConnect.js';\nimport './IconConnection.js';\nimport './IconConsole.js';\nimport './IconCopy.js';\nimport './IconCross.js';\nimport './IconDashedSquare.js';\nimport IconDown from './IconDown.js';\nimport './IconDownload.js';\nimport './IconEdit.js';\nimport IconEllipsis from './IconEllipsis.js';\nimport './IconEnter.js';\nimport './IconEthereum.js';\nimport './IconExternal.js';\nimport './IconFile.js';\nimport './IconFilter.js';\nimport './IconFlag.js';\nimport './IconFolder.js';\nimport './IconGraph2.js';\nimport './IconGraph.js';\nimport './IconGrid.js';\nimport './IconGroup.js';\nimport './IconHash.js';\nimport './IconHeart.js';\nimport './IconHide.js';\nimport './IconHome.js';\nimport './IconImage.js';\nimport './IconInfo.js';\nimport './IconLabel.js';\nimport './IconLayers.js';\nimport './IconLeft.js';\nimport './IconLink.js';\nimport './IconLocation.js';\nimport './IconLock.js';\nimport './IconMail.js';\nimport './IconMaximize.js';\nimport './IconMenu.js';\nimport './IconMinimize.js';\nimport './IconMinus.js';\nimport './IconMove.js';\nimport './IconNoPicture.js';\nimport './IconPicture.js';\nimport './IconPlus.js';\nimport './IconPower.js';\nimport './IconPrint.js';\nimport './IconProhibited.js';\nimport './IconQuestion.js';\nimport './IconRefresh.js';\nimport './IconRemoveUser.js';\nimport './IconRight.js';\nimport './IconRotateLeft.js';\nimport './IconRotateRight.js';\nimport './IconSearch.js';\nimport './IconSettings.js';\nimport './IconShare.js';\nimport './IconSquareMinus.js';\nimport './IconSquarePlus.js';\nimport './IconSquare.js';\nimport './IconStarFilled.js';\nimport './IconStar.js';\nimport './IconSwap.js';\nimport './IconTarget.js';\nimport './IconToken.js';\nimport './IconTrash.js';\nimport './IconUnlock.js';\nimport './IconUp.js';\nimport './IconUpload.js';\nimport './IconUser.js';\nimport './IconView.js';\nimport './IconVote.js';\nimport './IconWallet.js';\nimport './IconWarning.js';\nimport './IconWorld.js';\nimport './IconWrite.js';\nimport './IconZoomIn.js';\nimport './IconZoomOut.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport ReactDOM from 'react-dom';\nimport { e as extendedAnimated, S as Spring } from './web-a351a0a1.js';\nimport './_react_commonjs-external-3b63cae6.js';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ClickOutComponent = function (_React$Component) {\n  _inherits(ClickOutComponent, _React$Component);\n\n  function ClickOutComponent() {\n    _classCallCheck(this, ClickOutComponent);\n\n    return _possibleConstructorReturn(this, (ClickOutComponent.__proto__ || Object.getPrototypeOf(ClickOutComponent)).call(this));\n  }\n\n  _createClass(ClickOutComponent, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var self = this;\n      var elTouchIsClick = true;\n      var documentTouchIsClick = true;\n      var el = ReactDOM.findDOMNode(this);\n\n      self.__documentTouchStarted = function (e) {\n        el.removeEventListener('click', self.__elementClicked);\n        document.removeEventListener('click', self.__documentClicked);\n      };\n\n      self.__documentTouchMoved = function (e) {\n        documentTouchIsClick = false;\n      };\n\n      self.__documentTouchEnded = function (e) {\n        if (documentTouchIsClick) self.__documentClicked(e);\n        documentTouchIsClick = true;\n      };\n\n      self.__documentClicked = function (e) {\n        if ((e.__clickedElements || []).indexOf(el) !== -1) return;\n        var clickOutHandler = self.onClickOut || self.props.onClickOut;\n\n        if (!clickOutHandler) {\n          return console.warn('onClickOut is not defined.');\n        }\n\n        clickOutHandler.call(self, e);\n      };\n\n      self.__elementTouchMoved = function (e) {\n        elTouchIsClick = false;\n      };\n\n      self.__elementTouchEnded = function (e) {\n        if (elTouchIsClick) self.__elementClicked(e);\n        elTouchIsClick = true;\n      };\n\n      self.__elementClicked = function (e) {\n        e.__clickedElements = e.__clickedElements || [];\n\n        e.__clickedElements.push(el);\n      };\n\n      setTimeout(function () {\n        if (self.__unmounted) return;\n        self.toggleListeners('addEventListener');\n      }, 0);\n    }\n  }, {\n    key: 'toggleListeners',\n    value: function toggleListeners(listenerMethod) {\n      var el = ReactDOM.findDOMNode(this);\n      el[listenerMethod]('touchmove', this.__elementTouchMoved);\n      el[listenerMethod]('touchend', this.__elementTouchEnded);\n      el[listenerMethod]('click', this.__elementClicked);\n      document[listenerMethod]('touchstart', this.__documentTouchStarted);\n      document[listenerMethod]('touchmove', this.__documentTouchMoved);\n      document[listenerMethod]('touchend', this.__documentTouchEnded);\n      document[listenerMethod]('click', this.__documentClicked);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.toggleListeners('removeEventListener');\n      this.__unmounted = true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return Array.isArray(this.props.children) ? React$1.createElement('div', null, this.props.children) : React$1.Children.only(this.props.children);\n    }\n  }]);\n\n  return ClickOutComponent;\n}(React$1.Component);\n\nvar reactOnclickout = ClickOutComponent;\nvar BASE_WIDTH = 46;\nvar BASE_HEIGHT = 32;\n\nvar _StyledIconEllipsis = _styled(IconEllipsis).withConfig({\n  displayName: \"ContextMenu___StyledIconEllipsis\",\n  componentId: \"fcw8i6-0\"\n})([\"\"]);\n\nvar _StyledIconDown = _styled(IconDown).withConfig({\n  displayName: \"ContextMenu___StyledIconDown\",\n  componentId: \"fcw8i6-1\"\n})([\"color:\", \";\"], function (p) {\n  return p._css7;\n});\n\nvar _StyledAnimatedDiv = _styled(extendedAnimated.div).withConfig({\n  displayName: \"ContextMenu___StyledAnimatedDiv\",\n  componentId: \"fcw8i6-2\"\n})([\"z-index:\", \";overflow:hidden;position:absolute;top:\", \"px;right:0;background:\", \";border:1px solid \", \";border-radius:3px 0 3px 3px;\"], function (p) {\n  return p._css8;\n}, function (p) {\n  return p._css9;\n}, function (p) {\n  return p._css10;\n}, function (p) {\n  return p._css11;\n});\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"ContextMenu___StyledDiv\",\n  componentId: \"fcw8i6-3\"\n})([\"z-index:\", \";position:absolute;bottom:0;right:1px;height:1px;width:\", \"px;background:\", \";\"], function (p) {\n  return p._css12;\n}, function (p) {\n  return p._css13;\n}, function (p) {\n  return p._css14;\n});\n\nfunction ContextMenu(_ref) {\n  var children = _ref.children,\n      zIndex = _ref.zIndex,\n      disabled = _ref.disabled;\n  var theme = useTheme();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var handleClose = useCallback(function () {\n    setOpened(false);\n  }, []);\n  var handleBaseButtonClick = useCallback(function () {\n    setOpened(function (opened) {\n      return !opened;\n    });\n  }, []); // Increase the z-index on an opened menu, to make sure it's above any other\n  // context menus below it using the same z-index (e.g. when used in a list)\n\n  var appliedZIndex = opened ? zIndex + 1 : zIndex;\n  return /*#__PURE__*/React$1.createElement(reactOnclickout, {\n    onClickOut: handleClose\n  }, /*#__PURE__*/React$1.createElement(Spring, {\n    config: springs.smooth,\n    to: {\n      openProgress: Number(opened)\n    },\n    native: true\n  }, function (_ref2) {\n    var openProgress = _ref2.openProgress;\n    return /*#__PURE__*/React$1.createElement(_StyledMain, {\n      style: {\n        boxShadow: openProgress.interpolate(function (t) {\n          return \"0 4px 4px rgba(0, 0, 0, \".concat(t * 0.03, \")\");\n        })\n      },\n      _css: appliedZIndex\n    }, /*#__PURE__*/React$1.createElement(_StyledButton, {\n      onClick: handleBaseButtonClick,\n      opened: opened,\n      disabled: disabled,\n      focusRingRadius: RADIUS,\n      _css2: disabled ? theme.disabledContent : opened ? theme.accent : theme.surfaceContent,\n      _css3: disabled ? theme.disabled : theme.surface,\n      _css4: disabled ? '0' : \"1px solid \".concat(theme.border),\n      _css5: opened ? theme.surface : theme.border,\n      _css6: disabled ? '' : \"&:active {\\n                  background: \".concat(theme.surfacePressed, \";\\n                  border-bottom-color: \").concat(opened ? theme.surfacePressed : theme.border, \";\\n                }\")\n    }, /*#__PURE__*/React$1.createElement(_StyledIconEllipsis, null), /*#__PURE__*/React$1.createElement(extendedAnimated.div, {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        transformOrigin: '50% 50%',\n        transform: openProgress.interpolate(function (v) {\n          return \"rotate(\".concat(v * 180, \"deg)\");\n        })\n      }\n    }, /*#__PURE__*/React$1.createElement(_StyledIconDown, {\n      size: \"tiny\",\n      _css7: disabled ? theme.disabledIcon : theme.surfaceIcon\n    }))), opened && /*#__PURE__*/React$1.createElement(React$1.Fragment, null, /*#__PURE__*/React$1.createElement(_StyledAnimatedDiv, {\n      onClick: handleClose,\n      style: {\n        opacity: openProgress,\n        boxShadow: openProgress.interpolate(function (t) {\n          return \"0 4px 4px rgba(0, 0, 0, \".concat(t * 0.03, \")\");\n        })\n      },\n      _css8: appliedZIndex + 1,\n      _css9: BASE_HEIGHT - 1,\n      _css10: theme.surface,\n      _css11: theme.border\n    }, children), /*#__PURE__*/React$1.createElement(_StyledDiv, {\n      _css12: appliedZIndex + 1,\n      _css13: BASE_WIDTH - 2,\n      _css14: theme.surface\n    })));\n  }));\n}\n\nContextMenu.propTypes = {\n  children: PropTypes.node,\n  zIndex: PropTypes.number,\n  disabled: PropTypes.bool\n};\nContextMenu.defaultProps = {\n  zIndex: 0,\n  disabled: false\n};\n\nvar Main = _styled(extendedAnimated.div).withConfig({\n  displayName: \"ContextMenu__Main\",\n  componentId: \"fcw8i6-4\"\n})([\"position:relative;width:\", \"px;height:\", \"px;\"], BASE_WIDTH, BASE_HEIGHT);\n\nvar _StyledMain = _styled(Main).withConfig({\n  displayName: \"ContextMenu___StyledMain\",\n  componentId: \"fcw8i6-5\"\n})([\"z-index:\", \";\"], function (p) {\n  return p._css;\n});\n\nvar Button = _styled(ButtonBase).withConfig({\n  displayName: \"ContextMenu__Button\",\n  componentId: \"fcw8i6-6\"\n})([\"display:flex;justify-content:center;align-items:center;width:100%;height:\", \"px;border-radius:\", \";box-shadow:\", \";\"], BASE_HEIGHT, function (_ref3) {\n  var opened = _ref3.opened;\n  return opened ? \"\".concat(RADIUS, \"px \").concat(RADIUS, \"px 0 0\") : \"\".concat(RADIUS, \"px\");\n}, function (_ref4) {\n  var disabled = _ref4.disabled;\n  return disabled ? 'none' : \"0px 1px 3px rgba(0, 0, 0, 0.1)\";\n});\n\nvar _StyledButton = _styled(Button).withConfig({\n  displayName: \"ContextMenu___StyledButton\",\n  componentId: \"fcw8i6-7\"\n})([\"color:\", \";background:\", \";border:\", \";border-bottom-color:\", \";\", \"\"], function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n}, function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n}, function (p) {\n  return p._css6;\n});\n\nexport default ContextMenu;","map":null,"metadata":{},"sourceType":"module"}