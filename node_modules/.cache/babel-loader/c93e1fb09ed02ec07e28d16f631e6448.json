{"ast":null,"code":"import './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport { _ as _inherits, a as _createClass, b as _classCallCheck, e as _assertThisInitialized, c as _getPrototypeOf, d as _possibleConstructorReturn } from './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport { warnOnce } from './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport { g as getDisplayName } from './getDisplayName-d5fc7707.js';\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar observe = function observe(_observe) {\n  var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (Component) {\n    var _class, _temp;\n\n    return _temp = _class = /*#__PURE__*/function (_React$Component) {\n      _inherits(_class, _React$Component);\n\n      var _super = _createSuper(_class);\n\n      function _class() {\n        var _this;\n\n        _classCallCheck(this, _class);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super.call.apply(_super, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"state\", initialState);\n\n        _defineProperty(_assertThisInitialized(_this), \"subscribe\", function (observable) {\n          if (observable) {\n            _this.setState({\n              subscription: _observe(observable).subscribe(function (state) {\n                _this.setState(state);\n              })\n            });\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribe\", function () {\n          _this.state.subscription && _this.state.subscription.unsubscribe();\n        });\n\n        return _this;\n      }\n\n      _createClass(_class, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.subscribe(this.props.observable);\n        }\n      }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(_ref) {\n          var nextObservable = _ref.observable;\n          var observable = this.props.observable; // If a new observable gets passed in, unsubscribe from the old and subscribe to the new\n\n          if (nextObservable !== observable) {\n            this.unsubscribe();\n            this.subscribe(nextObservable);\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.unsubscribe();\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          warnOnce('observe()', 'observe() is deprecated. If you are using it with @aragon/api, using @aragon/api-react is now recommended instead.');\n\n          var props = _extends({}, this.props); // Don't pass down the given observable\n\n\n          delete props.observable;\n          return /*#__PURE__*/React.createElement(Component, _extends({}, this.state, props));\n        }\n      }]);\n\n      return _class;\n    }(React.Component), _defineProperty(_class, \"displayName\", \"Observe(\".concat(getDisplayName(Component), \")\")), _defineProperty(_class, \"propTypes\", {\n      observable: function observable(_ref2, _, componentName) {\n        var _observable = _ref2.observable;\n\n        if (_observable && typeof _observable.subscribe !== 'function') {\n          throw new Error(\"Invalid prop `observable` supplied to `\".concat(componentName, \"` \") + '(wrapped by `observe()`). ' + '`observable` must be an RxJS Observable-like object. ' + \"Given \".concat(_observable, \" instead.\"));\n        }\n      }\n    }), _temp;\n  };\n};\n\nexport { observe };","map":null,"metadata":{},"sourceType":"module"}