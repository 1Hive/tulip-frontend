{"ast":null,"code":"import './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React, { useCallback } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport { warnOnce } from './environment.js';\nimport './font.js';\nimport { c as clamp } from './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { e as extendedAnimated, S as Spring } from './web-a351a0a1.js';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar STROKE_WIDTH = 4;\nvar SIZE_DEFAULT = 80;\n\nfunction labelDefault(animValue, value) {\n  var parts = {\n    suffix: '%',\n    value: String(Math.floor(animValue * 100))\n  };\n  var animPercentage = animValue * 100;\n  var percentage = value * 100;\n  var lessThanOne = percentage > 0 && percentage < 1 && animPercentage > 0 && // We know that the actual percentage is less than 1,\n  // so this is to avoid a jump with “1%” without prefix.\n  animPercentage < 2;\n  return lessThanOne ? _objectSpread({}, parts, {\n    prefix: '<',\n    value: '1'\n  }) : parts;\n}\n\nfunction labelCompat(parts) {\n  if (typeof parts === 'string' || typeof parts === 'number' || React.isValidElement(parts)) {\n    warnOnce('CircleGraph:label:string', 'CircleGraph: the function passed to the label should not ' + 'return a React node anymore: please check the CircleGraph documentation.');\n    return {\n      value: String(parts)\n    };\n  }\n\n  return parts;\n}\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"CircleGraph___StyledDiv\",\n  componentId: \"sc-4qk1n0-0\"\n})([\"position:relative;display:flex;align-items:center;justify-content center;width:\", \"px;height:\", \"px;\"], function (p) {\n  return p._css;\n}, function (p) {\n  return p._css2;\n});\n\nvar _StyledSvg = _styled(\"svg\").withConfig({\n  displayName: \"CircleGraph___StyledSvg\",\n  componentId: \"sc-4qk1n0-1\"\n})([\"position:absolute;top:0;left:0;\"]);\n\nvar _StyledAnimatedCircle = _styled(extendedAnimated.circle).withConfig({\n  displayName: \"CircleGraph___StyledAnimatedCircle\",\n  componentId: \"sc-4qk1n0-2\"\n})([\"transform:rotate(270deg);transform-origin:50% 50%;\"]);\n\nvar _StyledDiv2 = _styled(\"div\").withConfig({\n  displayName: \"CircleGraph___StyledDiv2\",\n  componentId: \"sc-4qk1n0-3\"\n})([\"display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1.2;\"]);\n\nvar _StyledDiv3 = _styled(\"div\").withConfig({\n  displayName: \"CircleGraph___StyledDiv3\",\n  componentId: \"sc-4qk1n0-4\"\n})([\"position:absolute;top:50%;left:0;right:0;transform:translateY(-50%);\"]);\n\nvar _StyledDiv4 = _styled(\"div\").withConfig({\n  displayName: \"CircleGraph___StyledDiv4\",\n  componentId: \"sc-4qk1n0-5\"\n})([\"display:flex;align-items:baseline;justify-content:center;\"]);\n\nvar _StyledAnimatedDiv = _styled(extendedAnimated.div).withConfig({\n  displayName: \"CircleGraph___StyledAnimatedDiv\",\n  componentId: \"sc-4qk1n0-6\"\n})([\"display:flex;color:\", \";\"], function (p) {\n  return p._css3;\n});\n\nvar _StyledAnimatedDiv2 = _styled(extendedAnimated.div).withConfig({\n  displayName: \"CircleGraph___StyledAnimatedDiv2\",\n  componentId: \"sc-4qk1n0-7\"\n})([\"position:absolute;top:100%;left:0;right:0;display:flex;justify-content:center;color:\", \";\"], function (p) {\n  return p._css4;\n});\n\nfunction CircleGraph(_ref) {\n  var color = _ref.color,\n      label = _ref.label,\n      size = _ref.size,\n      strokeWidth = _ref.strokeWidth,\n      value = _ref.value;\n  var theme = useTheme();\n  var length = Math.PI * 2 * (size - strokeWidth);\n  var radius = (size - strokeWidth) / 2;\n\n  if (label === undefined) {\n    label = labelDefault;\n  }\n\n  var labelPart = useCallback(function (name) {\n    return function (animValue) {\n      if (typeof label !== 'function') {\n        return null;\n      }\n\n      var cValue = clamp(animValue);\n      var parts = labelCompat(label(cValue, value));\n      return (parts[name] === undefined ? labelDefault(cValue, value)[name] : parts[name]) || '';\n    };\n  }, [label, value]);\n  var colorFn = typeof color === 'function' ? color : function () {\n    return color || theme.accent;\n  };\n  return /*#__PURE__*/React.createElement(Spring, {\n    to: {\n      progressValue: value\n    },\n    native: true\n  }, function (_ref2) {\n    var progressValue = _ref2.progressValue;\n    return /*#__PURE__*/React.createElement(_StyledDiv, {\n      _css: size,\n      _css2: size\n    }, /*#__PURE__*/React.createElement(_StyledSvg, {\n      width: size,\n      height: size,\n      viewBox: \"0 0 \".concat(size, \" \").concat(size)\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      cx: size / 2,\n      cy: size / 2,\n      r: radius,\n      style: {\n        strokeWidth: strokeWidth\n      },\n      fill: \"none\",\n      stroke: theme.border\n    }), /*#__PURE__*/React.createElement(_StyledAnimatedCircle, {\n      cx: size / 2,\n      cy: size / 2,\n      r: radius,\n      fill: \"none\",\n      strokeLinecap: \"round\",\n      strokeDasharray: length,\n      strokeWidth: strokeWidth,\n      style: {\n        stroke: progressValue.interpolate(colorFn),\n        strokeDashoffset: progressValue.interpolate(function (t) {\n          return length - length * t / 2;\n        })\n      }\n    })), /*#__PURE__*/React.createElement(_StyledDiv2, null, typeof label !== 'function' ? label : label && /*#__PURE__*/React.createElement(_StyledDiv3, null, /*#__PURE__*/React.createElement(_StyledDiv4, null, /*#__PURE__*/React.createElement(extendedAnimated.div, {\n      style: {\n        fontSize: \"\".concat(size * 0.2, \"px\")\n      }\n    }, progressValue.interpolate(labelPart('prefix'))), /*#__PURE__*/React.createElement(extendedAnimated.div, {\n      style: {\n        fontSize: \"\".concat(size * 0.25, \"px\")\n      }\n    }, progressValue.interpolate(labelPart('value'))), /*#__PURE__*/React.createElement(_StyledAnimatedDiv, {\n      style: {\n        fontSize: \"\".concat(size * 0.13, \"px\")\n      },\n      _css3: theme.surfaceContentSecondary\n    }, progressValue.interpolate(labelPart('suffix')))), /*#__PURE__*/React.createElement(_StyledAnimatedDiv2, {\n      style: {\n        fontSize: \"\".concat(size * 0.1, \"px\")\n      },\n      _css4: theme.surfaceContentSecondary\n    }, progressValue.interpolate(labelPart('secondary'))))));\n  });\n}\n\nCircleGraph.propTypes = {\n  color: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  label: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  size: PropTypes.number,\n  strokeWidth: PropTypes.number,\n  value: PropTypes.number.isRequired\n};\nCircleGraph.defaultProps = {\n  size: SIZE_DEFAULT,\n  strokeWidth: STROKE_WIDTH\n};\nexport default CircleGraph;","map":null,"metadata":{},"sourceType":"module"}