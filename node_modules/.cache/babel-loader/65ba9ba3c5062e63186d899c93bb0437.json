{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./unsupportedIterableToArray-f175acfa.js');\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nvar toConsumableArray = require('./toConsumableArray-cc0d28a9.js');\n\nvar getPrototypeOf = require('./getPrototypeOf-55c9e80c.js');\n\nvar components = require('./components.js');\n\nvar miscellaneous = require('./miscellaneous.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf.getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf.getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return getPrototypeOf.possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar _React$createContext = /*#__PURE__*/React__default['default'].createContext({}),\n    Provider = _React$createContext.Provider,\n    Consumer = _React$createContext.Consumer;\n\nvar RadioGroup = /*#__PURE__*/function (_React$PureComponent) {\n  getPrototypeOf.inherits(RadioGroup, _React$PureComponent);\n\n  var _super = _createSuper(RadioGroup);\n\n  function RadioGroup() {\n    var _this;\n\n    getPrototypeOf.classCallCheck(this, RadioGroup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"state\", {\n      // keep track of the radios buttons to handle keyboard navigation\n      radios: new Set()\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"handleChange\", function (id) {\n      _this.props.onChange(id);\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"addRadio\", function (id) {\n      _this.setState(function (state) {\n        var radios = new Set(state.radios);\n        radios.add(id);\n        return {\n          radios: radios\n        };\n      });\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"removeRadio\", function (id) {\n      _this.setState(function (state) {\n        var radios = new Set(state.radios);\n        radios.delete(id);\n        return {\n          radios: radios\n        };\n      });\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"selectPrev\", function () {\n      var id = _this.getSiblingId(-1);\n\n      if (id !== null) {\n        _this.props.onChange(id);\n      }\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"selectNext\", function () {\n      var id = _this.getSiblingId(1);\n\n      if (id !== null) {\n        _this.props.onChange(id);\n      }\n    });\n    return _this;\n  }\n\n  getPrototypeOf.createClass(RadioGroup, [{\n    key: \"getSiblingId\",\n    value: function getSiblingId(position) {\n      var selected = this.props.selected;\n      var radios = toConsumableArray.toConsumableArray(this.state.radios);\n      var selectedIndex = selected === undefined ? 0 : radios.indexOf(selected);\n      var newSelectedIndex = selectedIndex + position; // no radios\n\n      if (radios.length === 0) {\n        return null;\n      } // up on the first item: go to the last one\n\n\n      if (newSelectedIndex === -1) {\n        return radios[radios.length - 1];\n      } // down on the last item: go to the first one\n\n\n      if (newSelectedIndex === radios.length) {\n        return radios[0];\n      } // select the item item if possible\n\n\n      if (selectedIndex > -1 && radios[newSelectedIndex]) {\n        return radios[newSelectedIndex];\n      } // default: select the first item if available\n\n\n      return radios[0] === undefined ? null : radios[0];\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var radios = this.state.radios;\n      var _this$props = this.props,\n          children = _this$props.children,\n          selected = _this$props.selected;\n      var focusableId = radios.has(selected) ? selected : toConsumableArray.toConsumableArray(radios)[0];\n      return /*#__PURE__*/React__default['default'].createElement(Provider, {\n        value: {\n          selected: selected,\n          focusableId: focusableId,\n          onChange: this.handleChange,\n          addRadio: this.addRadio,\n          removeRadio: this.removeRadio,\n          selectPrev: this.selectPrev,\n          selectNext: this.selectNext\n        }\n      }, /*#__PURE__*/React__default['default'].createElement(\"div\", _extends._extends_1({\n        role: \"radiogroup\"\n      }, components.stylingProps(this)), children));\n    }\n  }]);\n  return RadioGroup;\n}(React__default['default'].PureComponent);\n\ndefineProperty.defineProperty(RadioGroup, \"propTypes\", {\n  children: index.propTypes.node,\n  selected: index.propTypes.oneOfType([index.propTypes.string, index.propTypes.number]),\n  onChange: index.propTypes.func\n});\ndefineProperty.defineProperty(RadioGroup, \"defaultProps\", {\n  onChange: miscellaneous.noop\n});\nexports.RadioGroupConsumer = Consumer;\nexports.default = RadioGroup;","map":{"version":3,"sources":["../src/components/Radio/RadioGroup.js"],"names":["Provider","Consumer","React","RadioGroup","PureComponent","children","PropTypes","selected","onChange","func","noop","radios","state","position","selectedIndex","newSelectedIndex","id","focusableId","_toConsumableArray","addRadio","removeRadio","selectPrev","selectNext","stylingProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { stylingProps, noop } from '../../utils'\n\nconst { Provider, Consumer } = React.createContext({})\n\nclass RadioGroup extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.node,\n    selected: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onChange: PropTypes.func,\n  }\n  static defaultProps = {\n    onChange: noop,\n  }\n  state = {\n    // keep track of the radios buttons to handle keyboard navigation\n    radios: new Set(),\n  }\n  handleChange = id => {\n    this.props.onChange(id)\n  }\n  addRadio = id => {\n    this.setState(state => {\n      const radios = new Set(state.radios)\n      radios.add(id)\n      return { radios }\n    })\n  }\n  removeRadio = id => {\n    this.setState(state => {\n      const radios = new Set(state.radios)\n      radios.delete(id)\n      return { radios }\n    })\n  }\n  getSiblingId(position) {\n    const { selected } = this.props\n    const radios = [...this.state.radios]\n    const selectedIndex = selected === undefined ? 0 : radios.indexOf(selected)\n    const newSelectedIndex = selectedIndex + position\n\n    // no radios\n    if (radios.length === 0) {\n      return null\n    }\n\n    // up on the first item: go to the last one\n    if (newSelectedIndex === -1) {\n      return radios[radios.length - 1]\n    }\n\n    // down on the last item: go to the first one\n    if (newSelectedIndex === radios.length) {\n      return radios[0]\n    }\n\n    // select the item item if possible\n    if (selectedIndex > -1 && radios[newSelectedIndex]) {\n      return radios[newSelectedIndex]\n    }\n\n    // default: select the first item if available\n    return radios[0] === undefined ? null : radios[0]\n  }\n  selectPrev = () => {\n    const id = this.getSiblingId(-1)\n    if (id !== null) {\n      this.props.onChange(id)\n    }\n  }\n  selectNext = () => {\n    const id = this.getSiblingId(1)\n    if (id !== null) {\n      this.props.onChange(id)\n    }\n  }\n  render() {\n    const { radios } = this.state\n    const { children, selected } = this.props\n    const focusableId = radios.has(selected) ? selected : [...radios][0]\n    return (\n      <Provider\n        value={{\n          selected,\n          focusableId,\n          onChange: this.handleChange,\n          addRadio: this.addRadio,\n          removeRadio: this.removeRadio,\n          selectPrev: this.selectPrev,\n          selectNext: this.selectNext,\n        }}\n      >\n        <div role=\"radiogroup\" {...stylingProps(this)}>\n          {children}\n        </div>\n      </Provider>\n    )\n  }\n}\n\nexport { Consumer as RadioGroupConsumer }\nexport default RadioGroup\n"]},"metadata":{},"sourceType":"script"}