{"ast":null,"code":"var _jsxFileName = \"/Users/fabian/Documents/Projects/1hive/tulip-frontend/src/views/Profile/ProfileCreation/ProfilePicture.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport styled from 'styled-components';\nimport { AutoRenewIcon, Button, Card, CardBody, Heading, Skeleton, Text } from '@pancakeswap-libs/uikit';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useWallet } from '@binance-chain/bsc-use-wallet';\nimport nftList from 'config/constants/nfts';\nimport useI18n from 'hooks/useI18n';\nimport { useToast } from 'state/hooks';\nimport { getPancakeProfileAddress } from 'utils/addressHelpers';\nimport { usePancakeRabbits } from 'hooks/useContract';\nimport useGetWalletNfts from 'hooks/useGetWalletNfts';\nimport SelectionCard from '../components/SelectionCard';\nimport NextStepButton from '../components/NextStepButton';\nimport { ProfileCreationContext } from './contexts/ProfileCreationProvider';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Link = styled(RouterLink)`\n  color: ${({\n  theme\n}) => theme.colors.primary};\n`;\n_c = Link;\nconst NftWrapper = styled.div`\n  margin-bottom: 24px;\n`;\n_c2 = NftWrapper;\n\nconst ProfilePicture = () => {\n  _s();\n\n  const [isApproved, setIsApproved] = useState(false);\n  const [isApproving, setIsApproving] = useState(false);\n  const {\n    tokenId,\n    actions\n  } = useContext(ProfileCreationContext);\n  const TranslateString = useI18n();\n  const {\n    isLoading,\n    nfts: nftsInWallet\n  } = useGetWalletNfts();\n  const pancakeRabbitsContract = usePancakeRabbits();\n  const {\n    account\n  } = useWallet();\n  const {\n    toastError\n  } = useToast();\n  const bunnyIds = Object.keys(nftsInWallet).map(nftWalletItem => Number(nftWalletItem));\n  const walletNfts = nftList.filter(nft => bunnyIds.includes(nft.bunnyId));\n\n  const handleApprove = () => {\n    pancakeRabbitsContract.methods.approve(getPancakeProfileAddress(), tokenId).send({\n      from: account\n    }).on('sending', () => {\n      setIsApproving(true);\n    }).on('receipt', () => {\n      setIsApproving(false);\n      setIsApproved(true);\n    }).on('error', error => {\n      toastError('Error', error === null || error === void 0 ? void 0 : error.message);\n      setIsApproving(false);\n    });\n  };\n\n  if (!isLoading && walletNfts.length === 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        size: \"xl\",\n        mb: \"24px\",\n        children: TranslateString(852, 'Oops!')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        bold: true,\n        fontSize: \"20px\",\n        mb: \"24px\",\n        children: TranslateString(854, 'We couldn’t find any Pancake Collectibles in your wallet.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        children: TranslateString(856, 'You need a Pancake Collectible to finish setting up your profile. If you sold or transferred your starter collectible to another wallet, you’ll need to get it back or acquire a new one somehow. You can’t make a new starter with this wallet address.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      fontSize: \"20px\",\n      color: \"textSubtle\",\n      bold: true,\n      children: TranslateString(999, `Step ${2}`)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Heading, {\n      as: \"h3\",\n      size: \"xl\",\n      mb: \"24px\",\n      children: TranslateString(778, 'Set Profile Picture')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      mb: \"24px\",\n      children: /*#__PURE__*/_jsxDEV(CardBody, {\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h4\",\n          size: \"lg\",\n          mb: \"8px\",\n          children: TranslateString(812, 'Choose collectible')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          as: \"p\",\n          color: \"textSubtle\",\n          children: TranslateString(814, 'Choose a profile picture from the eligible collectibles (NFT) in your wallet, shown below.')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          as: \"p\",\n          color: \"textSubtle\",\n          mb: \"24px\",\n          children: [TranslateString(816, 'Only approved Pancake Collectibles can be used.'), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/collectibles\",\n            style: {\n              marginLeft: '4px'\n            },\n            children: TranslateString(999, 'See the list >')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NftWrapper, {\n          children: isLoading ? /*#__PURE__*/_jsxDEV(Skeleton, {\n            height: \"80px\",\n            mb: \"16px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this) : walletNfts.map(walletNft => {\n            const [firstTokenId] = nftsInWallet[walletNft.bunnyId].tokenIds;\n            return /*#__PURE__*/_jsxDEV(SelectionCard, {\n              name: \"profilePicture\",\n              value: firstTokenId,\n              image: `/images/nfts/${walletNft.images.md}`,\n              isChecked: firstTokenId === tokenId,\n              onChange: value => actions.setTokenId(parseInt(value, 10)),\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                bold: true,\n                children: walletNft.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this)\n            }, walletNft.bunnyId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Heading, {\n          as: \"h4\",\n          size: \"lg\",\n          mb: \"8px\",\n          children: TranslateString(818, 'Allow collectible to be locked')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          as: \"p\",\n          color: \"textSubtle\",\n          mb: \"16px\",\n          children: TranslateString(820, \"The collectible you've chosen will be locked in a smart contract while it’s being used as your profile picture. Don't worry - you'll be able to get it back at any time.\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          isLoading: isApproving,\n          disabled: isApproved || isApproving || tokenId === null,\n          onClick: handleApprove,\n          endIcon: isApproving ? /*#__PURE__*/_jsxDEV(AutoRenewIcon, {\n            spin: true,\n            color: \"currentColor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 36\n          }, this) : undefined,\n          children: TranslateString(564, 'Approve')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NextStepButton, {\n      onClick: actions.nextStep,\n      disabled: tokenId === null || !isApproved || isApproving,\n      children: TranslateString(798, 'Next Step')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProfilePicture, \"j64k3mpIC5BNd1A6ZM3i+biJU/M=\", false, function () {\n  return [useI18n, useGetWalletNfts, usePancakeRabbits, useWallet, useToast];\n});\n\n_c3 = ProfilePicture;\nexport default ProfilePicture;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Link\");\n$RefreshReg$(_c2, \"NftWrapper\");\n$RefreshReg$(_c3, \"ProfilePicture\");","map":{"version":3,"sources":["/Users/fabian/Documents/Projects/1hive/tulip-frontend/src/views/Profile/ProfileCreation/ProfilePicture.tsx"],"names":["React","useContext","useState","styled","AutoRenewIcon","Button","Card","CardBody","Heading","Skeleton","Text","Link","RouterLink","useWallet","nftList","useI18n","useToast","getPancakeProfileAddress","usePancakeRabbits","useGetWalletNfts","SelectionCard","NextStepButton","ProfileCreationContext","theme","colors","primary","NftWrapper","div","ProfilePicture","isApproved","setIsApproved","isApproving","setIsApproving","tokenId","actions","TranslateString","isLoading","nfts","nftsInWallet","pancakeRabbitsContract","account","toastError","bunnyIds","Object","keys","map","nftWalletItem","Number","walletNfts","filter","nft","includes","bunnyId","handleApprove","methods","approve","send","from","on","error","message","length","marginLeft","walletNft","firstTokenId","tokenIds","images","md","value","setTokenId","parseInt","name","undefined","nextStep"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\nimport styled from 'styled-components'\nimport { AutoRenewIcon, Button, Card, CardBody, Heading, Skeleton, Text } from '@pancakeswap-libs/uikit'\nimport { Link as RouterLink } from 'react-router-dom'\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\nimport nftList from 'config/constants/nfts'\nimport useI18n from 'hooks/useI18n'\nimport { useToast } from 'state/hooks'\nimport { getPancakeProfileAddress } from 'utils/addressHelpers'\nimport { usePancakeRabbits } from 'hooks/useContract'\nimport useGetWalletNfts from 'hooks/useGetWalletNfts'\nimport SelectionCard from '../components/SelectionCard'\nimport NextStepButton from '../components/NextStepButton'\nimport { ProfileCreationContext } from './contexts/ProfileCreationProvider'\n\nconst Link = styled(RouterLink)`\n  color: ${({ theme }) => theme.colors.primary};\n`\n\nconst NftWrapper = styled.div`\n  margin-bottom: 24px;\n`\n\nconst ProfilePicture: React.FC = () => {\n  const [isApproved, setIsApproved] = useState(false)\n  const [isApproving, setIsApproving] = useState(false)\n  const { tokenId, actions } = useContext(ProfileCreationContext)\n  const TranslateString = useI18n()\n  const { isLoading, nfts: nftsInWallet } = useGetWalletNfts()\n  const pancakeRabbitsContract = usePancakeRabbits()\n  const { account } = useWallet()\n  const { toastError } = useToast()\n  const bunnyIds = Object.keys(nftsInWallet).map((nftWalletItem) => Number(nftWalletItem))\n  const walletNfts = nftList.filter((nft) => bunnyIds.includes(nft.bunnyId))\n\n  const handleApprove = () => {\n    pancakeRabbitsContract.methods\n      .approve(getPancakeProfileAddress(), tokenId)\n      .send({ from: account })\n      .on('sending', () => {\n        setIsApproving(true)\n      })\n      .on('receipt', () => {\n        setIsApproving(false)\n        setIsApproved(true)\n      })\n      .on('error', (error) => {\n        toastError('Error', error?.message)\n        setIsApproving(false)\n      })\n  }\n\n  if (!isLoading && walletNfts.length === 0) {\n    return (\n      <>\n        <Heading size=\"xl\" mb=\"24px\">\n          {TranslateString(852, 'Oops!')}\n        </Heading>\n        <Text bold fontSize=\"20px\" mb=\"24px\">\n          {TranslateString(854, 'We couldn’t find any Pancake Collectibles in your wallet.')}\n        </Text>\n        <Text as=\"p\">\n          {TranslateString(\n            856,\n            'You need a Pancake Collectible to finish setting up your profile. If you sold or transferred your starter collectible to another wallet, you’ll need to get it back or acquire a new one somehow. You can’t make a new starter with this wallet address.',\n          )}\n        </Text>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Text fontSize=\"20px\" color=\"textSubtle\" bold>\n        {TranslateString(999, `Step ${2}`)}\n      </Text>\n      <Heading as=\"h3\" size=\"xl\" mb=\"24px\">\n        {TranslateString(778, 'Set Profile Picture')}\n      </Heading>\n      <Card mb=\"24px\">\n        <CardBody>\n          <Heading as=\"h4\" size=\"lg\" mb=\"8px\">\n            {TranslateString(812, 'Choose collectible')}\n          </Heading>\n          <Text as=\"p\" color=\"textSubtle\">\n            {TranslateString(\n              814,\n              'Choose a profile picture from the eligible collectibles (NFT) in your wallet, shown below.',\n            )}\n          </Text>\n          <Text as=\"p\" color=\"textSubtle\" mb=\"24px\">\n            {TranslateString(816, 'Only approved Pancake Collectibles can be used.')}\n            <Link to=\"/collectibles\" style={{ marginLeft: '4px' }}>\n              {TranslateString(999, 'See the list >')}\n            </Link>\n          </Text>\n          <NftWrapper>\n            {isLoading ? (\n              <Skeleton height=\"80px\" mb=\"16px\" />\n            ) : (\n              walletNfts.map((walletNft) => {\n                const [firstTokenId] = nftsInWallet[walletNft.bunnyId].tokenIds\n\n                return (\n                  <SelectionCard\n                    name=\"profilePicture\"\n                    key={walletNft.bunnyId}\n                    value={firstTokenId}\n                    image={`/images/nfts/${walletNft.images.md}`}\n                    isChecked={firstTokenId === tokenId}\n                    onChange={(value: string) => actions.setTokenId(parseInt(value, 10))}\n                  >\n                    <Text bold>{walletNft.name}</Text>\n                  </SelectionCard>\n                )\n              })\n            )}\n          </NftWrapper>\n          <Heading as=\"h4\" size=\"lg\" mb=\"8px\">\n            {TranslateString(818, 'Allow collectible to be locked')}\n          </Heading>\n          <Text as=\"p\" color=\"textSubtle\" mb=\"16px\">\n            {TranslateString(\n              820,\n              \"The collectible you've chosen will be locked in a smart contract while it’s being used as your profile picture. Don't worry - you'll be able to get it back at any time.\",\n            )}\n          </Text>\n          <Button\n            isLoading={isApproving}\n            disabled={isApproved || isApproving || tokenId === null}\n            onClick={handleApprove}\n            endIcon={isApproving ? <AutoRenewIcon spin color=\"currentColor\" /> : undefined}\n          >\n            {TranslateString(564, 'Approve')}\n          </Button>\n        </CardBody>\n      </Card>\n      <NextStepButton onClick={actions.nextStep} disabled={tokenId === null || !isApproved || isApproving}>\n        {TranslateString(798, 'Next Step')}\n      </NextStepButton>\n    </>\n  )\n}\n\nexport default ProfilePicture\n"]},"metadata":{},"sourceType":"module"}