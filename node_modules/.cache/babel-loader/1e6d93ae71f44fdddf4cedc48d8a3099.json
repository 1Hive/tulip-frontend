{"ast":null,"code":"const cbor = require('ipld-dag-cbor').util;\n\nconst CID = require('cids');\n\nconst links = (obj, path = []) => {\n  if (Buffer.isBuffer(obj)) {\n    obj = cbor.deserialize(obj);\n  }\n\n  return function* () {\n    for (let key of Object.keys(obj)) {\n      let _path = path.slice();\n\n      _path.push(key);\n\n      let val = obj[key];\n\n      if (val && typeof val === 'object') {\n        if (Array.isArray(val)) {\n          for (let i = 0; i < val.length; i++) {\n            let __path = _path.slice();\n\n            __path.push(i);\n\n            let o = val[i];\n\n            if (CID.isCID(o)) {\n              yield [__path.join('/'), o];\n            } else if (typeof o === 'object') {\n              yield* links(o, _path);\n            }\n          }\n        } else {\n          if (CID.isCID(val)) {\n            yield [_path.join('/'), val];\n          } else {\n            yield* links(val, _path);\n          }\n        }\n      }\n    }\n  }();\n};\n\nmodule.exports = links;","map":null,"metadata":{},"sourceType":"script"}