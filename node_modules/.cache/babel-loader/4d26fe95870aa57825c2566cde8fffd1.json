{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar slicedToArray = require('./slicedToArray-a8a77f0e.js');\n\nrequire('./unsupportedIterableToArray-f175acfa.js');\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nvar _styled = require('styled-components');\n\nrequire('./getPrototypeOf-55c9e80c.js');\n\nvar css = require('./css.js');\n\nrequire('./miscellaneous.js');\n\nrequire('./environment.js');\n\nvar constants = require('./constants.js');\n\nvar breakpoints = require('./breakpoints.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nvar objectWithoutProperties = require('./objectWithoutProperties-c6d3675c.js');\n\nrequire('./_baseGetTag-42b4dd3e.js');\n\nvar Viewport = require('./Viewport-819c53c9.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar _styled__default = /*#__PURE__*/_interopDefaultLegacy(_styled);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty.defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction getSizes(breakpoints) {\n  return Object.entries(breakpoints).filter(function (_ref) {\n    var _ref2 = slicedToArray.slicedToArray(_ref, 1),\n        name = _ref2[0];\n\n    return name !== 'min';\n  }).sort(function (a, b) {\n    return a[1] - b[1];\n  });\n}\n\nvar breakpointsType = index.propTypes.shape({\n  min: index.propTypes.number,\n  small: index.propTypes.number,\n  medium: index.propTypes.number,\n  large: index.propTypes.number\n}); // Minimum margin around a layout\n\nvar MIN_MARGIN = 3 * constants.GU;\n\nfunction getLayoutSize(parentWidth, breakpoints) {\n  var sizes = getSizes(breakpoints);\n  var index = sizes.length;\n\n  while (index--) {\n    if (parentWidth >= sizes[index][1]) {\n      return [sizes[index][0], sizes[index][1] - (index === 0 ? 0 : MIN_MARGIN * 2)];\n    }\n  }\n\n  return sizes[0];\n}\n\nfunction useMergeBreakpoints(breakpoints$1) {\n  var breakpointsAsString = JSON.stringify(breakpoints$1); // Only compute once by comparing values rather than object references in dependency array\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  return React.useMemo(function () {\n    return _objectSpread(_objectSpread({}, breakpoints.BREAKPOINTS), breakpoints$1);\n  }, [breakpointsAsString]);\n}\n\nvar LayoutContext = /*#__PURE__*/React__default['default'].createContext({});\n\nfunction useLayout() {\n  var _useContext = React.useContext(LayoutContext),\n      layoutWidth = _useContext.layoutWidth,\n      layoutName = _useContext.layoutName;\n\n  return {\n    layoutName: layoutName,\n    layoutWidth: layoutWidth,\n    // deprecated\n    name: layoutName,\n    width: layoutWidth\n  };\n}\n\nfunction Layout(_ref3) {\n  var breakpoints = _ref3.breakpoints,\n      children = _ref3.children,\n      paddingBottom = _ref3.paddingBottom,\n      parentWidth = _ref3.parentWidth,\n      props = objectWithoutProperties.objectWithoutProperties(_ref3, [\"breakpoints\", \"children\", \"paddingBottom\", \"parentWidth\"]);\n  var mergedBreakpoints = useMergeBreakpoints(breakpoints);\n  return /*#__PURE__*/React__default['default'].createElement(LayoutProvider, {\n    parentWidth: parentWidth,\n    breakpoints: breakpoints\n  }, /*#__PURE__*/React__default['default'].createElement(LayoutWidthLimiter, _extends._extends_1({\n    minWidth: mergedBreakpoints.min,\n    paddingBottom: paddingBottom\n  }, props), children));\n}\n\nLayout.propTypes = {\n  breakpoints: breakpointsType,\n  children: index.propTypes.node,\n  paddingBottom: index.propTypes.oneOfType([index.propTypes.number, index.propTypes.string]),\n  parentWidth: index.propTypes.number\n};\nLayout.defaultProps = {\n  breakpoints: {},\n  paddingBottom: 3 * constants.GU\n};\n\nfunction LayoutProvider(_ref4) {\n  var breakpoints = _ref4.breakpoints,\n      children = _ref4.children,\n      parentWidth = _ref4.parentWidth;\n\n  var _useViewport = Viewport.useViewport(),\n      viewportWidth = _useViewport.width;\n\n  var mergedBreakpoints = useMergeBreakpoints(breakpoints); // If the parent width is not passed, use the viewport width.\n\n  var _useMemo = React.useMemo(function () {\n    return getLayoutSize(parentWidth === undefined ? viewportWidth : parentWidth, mergedBreakpoints);\n  }, [viewportWidth, parentWidth, mergedBreakpoints]),\n      _useMemo2 = slicedToArray.slicedToArray(_useMemo, 2),\n      layoutName = _useMemo2[0],\n      layoutWidth = _useMemo2[1];\n\n  return /*#__PURE__*/React__default['default'].createElement(LayoutContext.Provider, {\n    value: {\n      layoutWidth: layoutWidth,\n      layoutName: layoutName\n    }\n  }, children);\n}\n\nLayoutProvider.propTypes = {\n  breakpoints: breakpointsType,\n  children: index.propTypes.node,\n  parentWidth: index.propTypes.number\n};\nLayoutProvider.defaultProps = {\n  breakpoints: {}\n};\n/* eslint-disable react/prop-types */\n\nvar _StyledDiv = _styled__default['default'](\"div\").withConfig({\n  displayName: \"Layout___StyledDiv\",\n  componentId: \"sc-16bvfls-0\"\n})([\"width:\", \";min-width:\", \"px;margin:0 auto;padding-bottom:\", \";\"], function (p) {\n  return p._css;\n}, function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n});\n\nfunction LayoutWidthLimiter(_ref5) {\n  var children = _ref5.children,\n      minWidth = _ref5.minWidth,\n      paddingBottom = _ref5.paddingBottom,\n      props = objectWithoutProperties.objectWithoutProperties(_ref5, [\"children\", \"minWidth\", \"paddingBottom\"]);\n\n  var _useLayout = useLayout(),\n      layoutName = _useLayout.layoutName,\n      layoutWidth = _useLayout.layoutWidth;\n\n  return /*#__PURE__*/React__default['default'].createElement(_StyledDiv, _extends._extends_1({}, props, {\n    _css: layoutName === 'small' ? 'auto' : \"\".concat(layoutWidth, \"px\"),\n    _css2: minWidth,\n    _css3: css.cssPx(paddingBottom)\n  }), children);\n}\n\nexports.LayoutProvider = LayoutProvider;\nexports.default = Layout;\nexports.useLayout = useLayout;","map":{"version":3,"sources":["../src/components/Layout/Layout.js"],"names":["name","a","b","breakpointsType","min","PropTypes","small","medium","large","number","MIN_MARGIN","GU","sizes","getSizes","index","parentWidth","breakpointsAsString","JSON","useMemo","BREAKPOINTS","LayoutContext","React","layoutWidth","layoutName","useContext","width","breakpoints","children","paddingBottom","props","mergedBreakpoints","useMergeBreakpoints","Layout","viewportWidth","useViewport","getLayoutSize","LayoutProvider","minWidth","useLayout","cssPx"],"mappings":"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","sourcesContent":["import React, { useContext, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { BREAKPOINTS, GU } from '../../style'\nimport { cssPx } from '../../utils'\n\nfunction getSizes(breakpoints) {\n  return Object.entries(breakpoints)\n    .filter(([name]) => name !== 'min')\n    .sort((a, b) => a[1] - b[1])\n}\n\nconst breakpointsType = PropTypes.shape({\n  min: PropTypes.number,\n  small: PropTypes.number,\n  medium: PropTypes.number,\n  large: PropTypes.number,\n})\n\n// Minimum margin around a layout\nconst MIN_MARGIN = 3 * GU\n\nfunction getLayoutSize(parentWidth, breakpoints) {\n  const sizes = getSizes(breakpoints)\n\n  let index = sizes.length\n  while (index--) {\n    if (parentWidth >= sizes[index][1]) {\n      return [\n        sizes[index][0],\n        sizes[index][1] - (index === 0 ? 0 : MIN_MARGIN * 2),\n      ]\n    }\n  }\n\n  return sizes[0]\n}\n\nfunction useMergeBreakpoints(breakpoints) {\n  const breakpointsAsString = JSON.stringify(breakpoints)\n\n  // Only compute once by comparing values rather than object references in dependency array\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useMemo(() => ({ ...BREAKPOINTS, ...breakpoints }), [\n    breakpointsAsString,\n  ])\n}\n\nconst LayoutContext = React.createContext({})\n\nfunction useLayout() {\n  const { layoutWidth, layoutName } = useContext(LayoutContext)\n  return {\n    layoutName,\n    layoutWidth,\n\n    // deprecated\n    name: layoutName,\n    width: layoutWidth,\n  }\n}\n\nfunction Layout({\n  breakpoints,\n  children,\n  paddingBottom,\n  parentWidth,\n  ...props\n}) {\n  const mergedBreakpoints = useMergeBreakpoints(breakpoints)\n\n  return (\n    <LayoutProvider parentWidth={parentWidth} breakpoints={breakpoints}>\n      <LayoutWidthLimiter\n        minWidth={mergedBreakpoints.min}\n        paddingBottom={paddingBottom}\n        {...props}\n      >\n        {children}\n      </LayoutWidthLimiter>\n    </LayoutProvider>\n  )\n}\n\nLayout.propTypes = {\n  breakpoints: breakpointsType,\n  children: PropTypes.node,\n  paddingBottom: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  parentWidth: PropTypes.number,\n}\n\nLayout.defaultProps = {\n  breakpoints: {},\n  paddingBottom: 3 * GU,\n}\n\nfunction LayoutProvider({ breakpoints, children, parentWidth }) {\n  const { width: viewportWidth } = useViewport()\n  const mergedBreakpoints = useMergeBreakpoints(breakpoints)\n\n  // If the parent width is not passed, use the viewport width.\n  const [layoutName, layoutWidth] = useMemo(\n    () =>\n      getLayoutSize(\n        parentWidth === undefined ? viewportWidth : parentWidth,\n        mergedBreakpoints\n      ),\n    [viewportWidth, parentWidth, mergedBreakpoints]\n  )\n\n  return (\n    <LayoutContext.Provider value={{ layoutWidth, layoutName }}>\n      {children}\n    </LayoutContext.Provider>\n  )\n}\n\nLayoutProvider.propTypes = {\n  breakpoints: breakpointsType,\n  children: PropTypes.node,\n  parentWidth: PropTypes.number,\n}\n\nLayoutProvider.defaultProps = {\n  breakpoints: {},\n}\n\n/* eslint-disable react/prop-types */\nfunction LayoutWidthLimiter({ children, minWidth, paddingBottom, ...props }) {\n  const { layoutName, layoutWidth } = useLayout()\n\n  return (\n    <div\n      {...props}\n      css={`\n        width: ${layoutName === 'small' ? 'auto' : `${layoutWidth}px`};\n        min-width: ${minWidth}px;\n        margin: 0 auto;\n        padding-bottom: ${cssPx(paddingBottom)};\n      `}\n    >\n      {children}\n    </div>\n  )\n}\n/* eslint-enable react/prop-types */\n\nexport default Layout\nexport { useLayout, LayoutProvider }\n"]},"metadata":{},"sourceType":"script"}