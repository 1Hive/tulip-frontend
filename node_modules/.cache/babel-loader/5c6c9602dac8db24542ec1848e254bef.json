{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nvar getPrototypeOf = require('./getPrototypeOf-55c9e80c.js');\n\nvar miscellaneous = require('./miscellaneous.js');\n\nvar keycodes = require('./keycodes.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nvar objectWithoutProperties = require('./objectWithoutProperties-c6d3675c.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf.getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf.getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return getPrototypeOf.possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar EscapeOutside = /*#__PURE__*/function (_React$Component) {\n  getPrototypeOf.inherits(EscapeOutside, _React$Component);\n\n  var _super = _createSuper(EscapeOutside);\n\n  function EscapeOutside() {\n    var _this;\n\n    getPrototypeOf.classCallCheck(this, EscapeOutside);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"_element\", /*#__PURE__*/React__default['default'].createRef());\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"_document\", null);\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"handleClick\", function (e) {\n      var onEscapeOutside = _this.props.onEscapeOutside;\n\n      if (!_this._element.contains(e.target)) {\n        onEscapeOutside();\n      }\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"handleEscape\", function (e) {\n      var onEscapeOutside = _this.props.onEscapeOutside;\n\n      if (e.keyCode === keycodes.KEY_ESC) {\n        onEscapeOutside();\n      }\n    });\n    return _this;\n  }\n\n  getPrototypeOf.createClass(EscapeOutside, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var useCapture = this.props.useCapture;\n      this._document = this._element.ownerDocument;\n\n      this._document.addEventListener('keydown', this.handleEscape, useCapture);\n\n      this._document.addEventListener('click', this.handleClick, useCapture);\n\n      this._document.addEventListener('touchend', this.handleClick, useCapture);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var useCapture = this.props.useCapture;\n\n      this._document.removeEventListener('keydown', this.handleEscape, useCapture);\n\n      this._document.removeEventListener('click', this.handleClick, useCapture);\n\n      this._document.removeEventListener('touchend', this.handleClick, useCapture);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          children = _this$props.children,\n          onEscapeOutside = _this$props.onEscapeOutside,\n          useCapture = _this$props.useCapture,\n          rest = objectWithoutProperties.objectWithoutProperties(_this$props, [\"children\", \"onEscapeOutside\", \"useCapture\"]);\n      return /*#__PURE__*/React__default['default'].createElement(\"div\", _extends._extends_1({}, rest, {\n        ref: function ref(n) {\n          return _this2._element = n;\n        }\n      }), children);\n    }\n  }]);\n  return EscapeOutside;\n}(React__default['default'].Component);\n\ndefineProperty.defineProperty(EscapeOutside, \"propTypes\", {\n  children: index.propTypes.node.isRequired,\n  onEscapeOutside: index.propTypes.func.isRequired,\n  useCapture: index.propTypes.bool\n});\ndefineProperty.defineProperty(EscapeOutside, \"defaultProps\", {\n  onEscapeOutside: miscellaneous.noop,\n  useCapture: false\n});\nexports.default = EscapeOutside;","map":{"version":3,"sources":["../src/components/EscapeOutside/EscapeOutside.js"],"names":["EscapeOutside","React","Component","children","PropTypes","onEscapeOutside","useCapture","bool","noop","e","KEY_ESC","rest"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIMA,aAAAA,GAAAA,aAAAA,UAAAA,gBAAAA,EAAAA;;;;;;;;;;;;;;;wGAYOC,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,SAAAA,E;4FACC,I;8FAiBE,UAAA,CAAA,EAAK;AAAA,UACTI,eADS,GACW,KAAA,CADX,KACW,CADX,eAAA;;AAEjB,UAAI,CAAC,KAAA,CAAA,QAAA,CAAA,QAAA,CAAuBI,CAAC,CAA7B,MAAK,CAAL,EAAuC;AACrCJ,QAAAA,eAAe;AAChB;AACF,K;+FAEc,UAAA,CAAA,EAAK;AAAA,UACVA,eADU,GACU,KAAA,CADV,KACU,CADV,eAAA;;AAElB,UAAII,CAAC,CAADA,OAAAA,KAAcC,QAAAA,CAAlB,OAAA,EAA2B;AACzBL,QAAAA,eAAe;AAChB;AACF,K;;;;;;wCA3BmB;AAAA,UACVC,UADU,GACK,KADL,KACK,CADL,UAAA;AAElB,WAAA,SAAA,GAAiB,KAAA,QAAA,CAAjB,aAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,SAAA,EAA2C,KAA3C,YAAA,EAAA,UAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,OAAA,EAAyC,KAAzC,WAAA,EAAA,UAAA;;AACA,WAAA,SAAA,CAAA,gBAAA,CAAA,UAAA,EAA4C,KAA5C,WAAA,EAAA,UAAA;AACD;;;2CAEsB;AAAA,UACbA,UADa,GACE,KADF,KACE,CADF,UAAA;;AAErB,WAAA,SAAA,CAAA,mBAAA,CAAA,SAAA,EAA8C,KAA9C,YAAA,EAAA,UAAA;;AACA,WAAA,SAAA,CAAA,mBAAA,CAAA,OAAA,EAA4C,KAA5C,WAAA,EAAA,UAAA;;AACA,WAAA,SAAA,CAAA,mBAAA,CAAA,UAAA,EAA+C,KAA/C,WAAA,EAAA,UAAA;AACD;;;6BAgBQ;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UAAA,WAAA,GACoD,KADpD,KAAA;AAAA,UACCH,QADD,GAAA,WAAA,CAAA,QAAA;AAAA,UACWE,eADX,GAAA,WAAA,CAAA,eAAA;AAAA,UAC4BC,UAD5B,GAAA,WAAA,CAAA,UAAA;AAAA,UAC2CK,IAD3C,GAAA,uBAAA,CAAA,uBAAA,CAAA,WAAA,EAAA,CAAA,UAAA,EAAA,iBAAA,EAAA,YAAA,CAAA,CAAA;AAGP,aAAA,aACE,cAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAA,KAAA,EAAA,QAAA,CAAA,UAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAAe,QAAA,GAAG,EAAE,SAAA,GAAA,CAAA,CAAA,EAAC;AAAA,iBAAK,MAAI,CAAJ,QAAA,GAAL,CAAA;AAAA;AAArB,OAAA,CAAA,EADF,QACE,CADF;AAKD;;;CApDGX,CAAsBC,cAAAA,CAAAA,SAAAA,CAAAA,CAAMC,SAA5BF,C;;8BAAAA,a,EAAAA,W,EACe;AACjBG,EAAAA,QAAQ,EAAEC,KAAAA,CAAAA,SAAAA,CAAAA,IAAAA,CADO,UAAA;AAEjBC,EAAAA,eAAe,EAAED,KAAAA,CAAAA,SAAAA,CAAAA,IAAAA,CAFA,UAAA;AAGjBE,EAAAA,UAAU,EAAEF,KAAAA,CAAAA,SAAAA,CAAUG;AAHL,C;8BADfP,a,EAAAA,c,EAOkB;AACpBK,EAAAA,eAAe,EAAEG,aAAAA,CADG,IAAA;AAEpBF,EAAAA,UAAU,EAAE;AAFQ,C","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { noop, KEY_ESC } from '../../utils'\n\nclass EscapeOutside extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onEscapeOutside: PropTypes.func.isRequired,\n    useCapture: PropTypes.bool,\n  }\n\n  static defaultProps = {\n    onEscapeOutside: noop,\n    useCapture: false,\n  }\n\n  _element = React.createRef()\n  _document = null\n\n  componentDidMount() {\n    const { useCapture } = this.props\n    this._document = this._element.ownerDocument\n    this._document.addEventListener('keydown', this.handleEscape, useCapture)\n    this._document.addEventListener('click', this.handleClick, useCapture)\n    this._document.addEventListener('touchend', this.handleClick, useCapture)\n  }\n\n  componentWillUnmount() {\n    const { useCapture } = this.props\n    this._document.removeEventListener('keydown', this.handleEscape, useCapture)\n    this._document.removeEventListener('click', this.handleClick, useCapture)\n    this._document.removeEventListener('touchend', this.handleClick, useCapture)\n  }\n\n  handleClick = e => {\n    const { onEscapeOutside } = this.props\n    if (!this._element.contains(e.target)) {\n      onEscapeOutside()\n    }\n  }\n\n  handleEscape = e => {\n    const { onEscapeOutside } = this.props\n    if (e.keyCode === KEY_ESC) {\n      onEscapeOutside()\n    }\n  }\n\n  render() {\n    const { children, onEscapeOutside, useCapture, ...rest } = this.props\n\n    return (\n      <div {...rest} ref={n => (this._element = n)}>\n        {children}\n      </div>\n    )\n  }\n}\n\nexport default EscapeOutside\n"]},"metadata":{},"sourceType":"script"}