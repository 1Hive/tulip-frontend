{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar KeyValueIndex = /*#__PURE__*/function () {\n  function KeyValueIndex() {\n    _classCallCheck(this, KeyValueIndex);\n\n    this._index = {};\n  }\n\n  _createClass(KeyValueIndex, [{\n    key: \"get\",\n    value: function get(key) {\n      return this._index[key];\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(oplog) {\n      var _this = this;\n\n      oplog.values.slice().reverse().reduce(function (handled, item) {\n        if (!handled.includes(item.payload.key)) {\n          handled.push(item.payload.key);\n\n          if (item.payload.op === 'PUT') {\n            _this._index[item.payload.key] = item.payload.value;\n          } else if (item.payload.op === 'DEL') {\n            delete _this._index[item.payload.key];\n          }\n        }\n\n        return handled;\n      }, []);\n    }\n  }]);\n\n  return KeyValueIndex;\n}();\n\nmodule.exports = KeyValueIndex;","map":null,"metadata":{},"sourceType":"script"}