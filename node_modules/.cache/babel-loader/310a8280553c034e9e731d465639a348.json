{"ast":null,"code":"module.exports = function (sch) {\n  var noComments = function noComments(line) {\n    var i = line.indexOf('//');\n    return i > -1 ? line.slice(0, i) : line;\n  };\n\n  var noMultilineComments = function noMultilineComments() {\n    var inside = false;\n    return function (token) {\n      if (token === '/*') {\n        inside = true;\n        return false;\n      }\n\n      if (token === '*/') {\n        inside = false;\n        return false;\n      }\n\n      return !inside;\n    };\n  };\n\n  var trim = function trim(line) {\n    return line.trim();\n  };\n\n  var removeQuotedLines = function removeQuotedLines(list) {\n    return function (str) {\n      var s = '$' + list.length + '$';\n      list.push(str);\n      return s;\n    };\n  };\n\n  var restoreQuotedLines = function restoreQuotedLines(list) {\n    var re = /^\\$(\\d+)\\$$/;\n    return function (line) {\n      var m = line.match(re);\n      return m ? list[+m[1]] : line;\n    };\n  };\n\n  var replacements = [];\n  return sch.replace(/\"(\\\\\"|[^\"\\n])*?\"|'(\\\\'|[^'\\n])*?'/gm, removeQuotedLines(replacements)).replace(/([;,{}()=:[\\]<>]|\\/\\*|\\*\\/)/g, ' $1 ').split(/\\n/).map(trim).filter(Boolean).map(noComments).map(trim).filter(Boolean).join('\\n').split(/\\s+|\\n+/gm).filter(noMultilineComments()).map(restoreQuotedLines(replacements));\n};","map":null,"metadata":{},"sourceType":"script"}