{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nvar getPrototypeOf = require('./getPrototypeOf-55c9e80c.js');\n\nrequire('./environment.js');\n\nvar breakpoints = require('./breakpoints.js');\n\nvar _baseGetTag = require('./_baseGetTag-42b4dd3e.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\n\nvar now = function () {\n  return _baseGetTag._root.Date.now();\n};\n\nvar now_1 = now;\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike_1(value) && _baseGetTag._baseGetTag(value) == symbolTag;\n}\n\nvar isSymbol_1 = isSymbol;\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n\n  if (_baseGetTag.isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = _baseGetTag.isObject_1(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar toNumber_1 = toNumber;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber_1(wait) || 0;\n\n  if (_baseGetTag.isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now_1();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n\n  if (_baseGetTag.isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce_1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf.getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf.getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return getPrototypeOf.possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty.defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar NO_DOM_WINDOW_SIZE = {\n  width: 0,\n  height: 0\n};\n\nvar WINDOW_SIZE_BASE = _objectSpread({\n  breakpoints: breakpoints.BREAKPOINTS\n}, getCurrentWindowSize());\n\nvar ViewportContext = /*#__PURE__*/React__default['default'].createContext(WINDOW_SIZE_BASE);\n\nfunction getCurrentWindowSize() {\n  return typeof window === 'undefined' ? NO_DOM_WINDOW_SIZE : {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n}\n\nvar ViewportProvider = /*#__PURE__*/function (_React$Component) {\n  getPrototypeOf.inherits(ViewportProvider, _React$Component);\n\n  var _super = _createSuper(ViewportProvider);\n\n  function ViewportProvider() {\n    var _this;\n\n    getPrototypeOf.classCallCheck(this, ViewportProvider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"state\", {\n      windowSize: _this.getWindowSize()\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"updateWindowSize\", function () {\n      _this.setState({\n        windowSize: _this.getWindowSize()\n      });\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"within\", function (min, max) {\n      var width = _this.state.windowSize.width; // Accept \"\" or -1 indifferently\n\n      if (min === '') min = -1;\n      if (max === '') max = -1; // Convert breakpoints into numbers\n\n      if (typeof min === 'string') min = breakpoints.BREAKPOINTS[min];\n      if (typeof max === 'string') max = breakpoints.BREAKPOINTS[max];\n\n      if (typeof min !== 'number') {\n        throw new Error(\"Viewport: invalid minimum value (\".concat(min, \").\"));\n      }\n\n      if (typeof max !== 'number') {\n        throw new Error(\"Viewport: invalid maximum value (\".concat(max, \").\"));\n      }\n\n      return (min === -1 || width >= min) && (max === -1 || width < max);\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"above\", function (value) {\n      return _this.within(value, -1);\n    });\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"below\", function (value) {\n      return _this.within(-1, value);\n    });\n    return _this;\n  }\n\n  getPrototypeOf.createClass(ViewportProvider, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resizeStart();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.resizeStop();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var throttle = this.props.throttle;\n\n      if (prevProps.throttle !== throttle) {\n        this.resizeStop();\n        this.resizeStart();\n      }\n    }\n  }, {\n    key: \"resizeStart\",\n    value: function resizeStart() {\n      this._handleResize = throttle_1(this.updateWindowSize, this.props.throttle);\n      this.updateWindowSize();\n\n      if (typeof window !== 'undefined') {\n        window.addEventListener('resize', this._handleResize);\n      }\n    }\n  }, {\n    key: \"resizeStop\",\n    value: function resizeStop() {\n      if (!this._handleResize) {\n        return;\n      }\n\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('resize', this._handleResize);\n      }\n\n      this._handleResize.cancel();\n\n      delete this._handleResize;\n    }\n  }, {\n    key: \"getWindowSize\",\n    value: function getWindowSize() {\n      return _objectSpread(_objectSpread({}, WINDOW_SIZE_BASE), getCurrentWindowSize());\n    } // Check if the current width is between two points.\n    // Accepts a breakpoint string ('small', 'large') or numbers (width in pixels).\n    // `min` is inclusive and `max` is exclusive.\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var windowSize = this.state.windowSize;\n      var children = this.props.children;\n      var within = this.within,\n          above = this.above,\n          below = this.below;\n      return /*#__PURE__*/React__default['default'].createElement(ViewportContext.Provider, {\n        value: _objectSpread(_objectSpread({}, windowSize), {}, {\n          within: within,\n          above: above,\n          below: below\n        })\n      }, children);\n    }\n  }]);\n  return ViewportProvider;\n}(React__default['default'].Component); // React emits a warning message if `Provider` is attached to `Consumer`, this\n// is only to prevent it.\n\n\ndefineProperty.defineProperty(ViewportProvider, \"propTypes\", {\n  children: index.propTypes.node,\n  throttle: index.propTypes.number\n});\ndefineProperty.defineProperty(ViewportProvider, \"defaultProps\", {\n  throttle: 100\n});\n\nvar Viewport = function Viewport(props) {\n  return /*#__PURE__*/React__default['default'].createElement(ViewportContext.Consumer, props);\n};\n\nViewport.Provider = ViewportProvider;\n\nvar useViewport = function useViewport() {\n  return React__default['default'].useContext(ViewportContext);\n};\n\nexports.Viewport = Viewport;\nexports.useViewport = useViewport;","map":{"version":3,"sources":["../node_modules/lodash/now.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/debounce.js","../node_modules/lodash/throttle.js","../src/providers/Viewport/Viewport.js"],"names":["root","isObjectLike","baseGetTag","isSymbol","isObject","toNumber","now","FUNC_ERROR_TEXT","debounce","NO_DOM_WINDOW_SIZE","width","height","WINDOW_SIZE_BASE","breakpoints","BREAKPOINTS","getCurrentWindowSize","ViewportContext","React","window","innerHeight","ViewportProvider","Component","children","PropTypes","throttle","number","windowSize","prevProps","min","max","within","above","below","Viewport","useViewport"],"mappings":"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","sourcesContent":["var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { BREAKPOINTS } from '../../style'\nimport throttle from 'lodash/throttle'\n\nconst NO_DOM_WINDOW_SIZE = { width: 0, height: 0 }\n\nconst WINDOW_SIZE_BASE = { breakpoints: BREAKPOINTS, ...getCurrentWindowSize() }\n\nconst ViewportContext = React.createContext(WINDOW_SIZE_BASE)\n\nfunction getCurrentWindowSize() {\n  return typeof window === 'undefined'\n    ? NO_DOM_WINDOW_SIZE\n    : { width: window.innerWidth, height: window.innerHeight }\n}\n\nclass ViewportProvider extends React.Component {\n  static propTypes = {\n    children: PropTypes.node,\n    throttle: PropTypes.number,\n  }\n\n  static defaultProps = {\n    throttle: 100,\n  }\n\n  state = { windowSize: this.getWindowSize() }\n\n  componentDidMount() {\n    this.resizeStart()\n  }\n\n  componentWillUnmount() {\n    this.resizeStop()\n  }\n\n  componentDidUpdate(prevProps) {\n    const { throttle } = this.props\n    if (prevProps.throttle !== throttle) {\n      this.resizeStop()\n      this.resizeStart()\n    }\n  }\n\n  resizeStart() {\n    this._handleResize = throttle(this.updateWindowSize, this.props.throttle)\n    this.updateWindowSize()\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('resize', this._handleResize)\n    }\n  }\n\n  resizeStop() {\n    if (!this._handleResize) {\n      return\n    }\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('resize', this._handleResize)\n    }\n    this._handleResize.cancel()\n    delete this._handleResize\n  }\n\n  updateWindowSize = () => {\n    this.setState({ windowSize: this.getWindowSize() })\n  }\n\n  getWindowSize() {\n    return {\n      ...WINDOW_SIZE_BASE,\n      ...getCurrentWindowSize(),\n    }\n  }\n\n  // Check if the current width is between two points.\n  // Accepts a breakpoint string ('small', 'large') or numbers (width in pixels).\n  // `min` is inclusive and `max` is exclusive.\n  within = (min, max) => {\n    const { width } = this.state.windowSize\n\n    // Accept \"\" or -1 indifferently\n    if (min === '') min = -1\n    if (max === '') max = -1\n\n    // Convert breakpoints into numbers\n    if (typeof min === 'string') min = BREAKPOINTS[min]\n    if (typeof max === 'string') max = BREAKPOINTS[max]\n\n    if (typeof min !== 'number') {\n      throw new Error(`Viewport: invalid minimum value (${min}).`)\n    }\n    if (typeof max !== 'number') {\n      throw new Error(`Viewport: invalid maximum value (${max}).`)\n    }\n\n    return (min === -1 || width >= min) && (max === -1 || width < max)\n  }\n\n  above = value => this.within(value, -1)\n  below = value => this.within(-1, value)\n\n  render() {\n    const { windowSize } = this.state\n    const { children } = this.props\n    const { within, above, below } = this\n    return (\n      <ViewportContext.Provider value={{ ...windowSize, within, above, below }}>\n        {children}\n      </ViewportContext.Provider>\n    )\n  }\n}\n\n// React emits a warning message if `Provider` is attached to `Consumer`, this\n// is only to prevent it.\nconst Viewport = props => <ViewportContext.Consumer {...props} />\n\nViewport.Provider = ViewportProvider\n\nexport const useViewport = () => React.useContext(ViewportContext)\nexport { Viewport }\nexport default Viewport\n"]},"metadata":{},"sourceType":"script"}