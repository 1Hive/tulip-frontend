{"ast":null,"code":"'use strict';\n\nconst {\n  Buffer\n} = require('buffer');\n\nconst Key = require('interface-datastore').Key;\n\nconst apiFile = new Key('api');\n\nmodule.exports = store => {\n  return {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @returns {Promise<String>}\n     */\n    async get() {\n      const value = await store.get(apiFile);\n      return value && value.toString();\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {Object} value - the api address to be written\n     * @returns {Promise<?>}\n     */\n    async set(value) {\n      // eslint-disable-line require-await\n      return store.put(apiFile, Buffer.from(value.toString()));\n    },\n\n    /**\n     * Deletes api file\n     *\n     * @returns {Promise<void>}\n     */\n    async delete() {\n      // eslint-disable-line require-await\n      return store.delete(apiFile);\n    }\n\n  };\n};","map":null,"metadata":{},"sourceType":"script"}