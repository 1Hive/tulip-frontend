{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DLL; // Simple doubly linked list (https://en.wikipedia.org/wiki/Doubly_linked_list) implementation\n// used for queues. This implementation assumes that the node provided by the user can be modified\n// to adjust the next and last properties. We implement only the minimal functionality\n// for queue support.\n\nfunction DLL() {\n  this.head = this.tail = null;\n  this.length = 0;\n}\n\nfunction setInitial(dll, node) {\n  dll.length = 1;\n  dll.head = dll.tail = node;\n}\n\nDLL.prototype.removeLink = function (node) {\n  if (node.prev) node.prev.next = node.next;else this.head = node.next;\n  if (node.next) node.next.prev = node.prev;else this.tail = node.prev;\n  node.prev = node.next = null;\n  this.length -= 1;\n  return node;\n};\n\nDLL.prototype.empty = function () {\n  while (this.head) {\n    this.shift();\n  }\n\n  return this;\n};\n\nDLL.prototype.insertAfter = function (node, newNode) {\n  newNode.prev = node;\n  newNode.next = node.next;\n  if (node.next) node.next.prev = newNode;else this.tail = newNode;\n  node.next = newNode;\n  this.length += 1;\n};\n\nDLL.prototype.insertBefore = function (node, newNode) {\n  newNode.prev = node.prev;\n  newNode.next = node;\n  if (node.prev) node.prev.next = newNode;else this.head = newNode;\n  node.prev = newNode;\n  this.length += 1;\n};\n\nDLL.prototype.unshift = function (node) {\n  if (this.head) this.insertBefore(this.head, node);else setInitial(this, node);\n};\n\nDLL.prototype.push = function (node) {\n  if (this.tail) this.insertAfter(this.tail, node);else setInitial(this, node);\n};\n\nDLL.prototype.shift = function () {\n  return this.head && this.removeLink(this.head);\n};\n\nDLL.prototype.pop = function () {\n  return this.tail && this.removeLink(this.tail);\n};\n\nDLL.prototype.toArray = function () {\n  var arr = Array(this.length);\n  var curr = this.head;\n\n  for (var idx = 0; idx < this.length; idx++) {\n    arr[idx] = curr.data;\n    curr = curr.next;\n  }\n\n  return arr;\n};\n\nDLL.prototype.remove = function (testFn) {\n  var curr = this.head;\n\n  while (!!curr) {\n    var next = curr.next;\n\n    if (testFn(curr)) {\n      this.removeLink(curr);\n    }\n\n    curr = next;\n  }\n\n  return this;\n};\n\nmodule.exports = exports[\"default\"];","map":null,"metadata":{},"sourceType":"script"}