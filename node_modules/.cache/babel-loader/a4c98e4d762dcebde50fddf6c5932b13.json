{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _classCallCheck = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nmodule.exports = /*#__PURE__*/function () {\n  function ApiManager() {\n    var _this = this;\n\n    _classCallCheck(this, ApiManager);\n\n    this._api = {};\n\n    this._onUndef = function () {\n      return undefined;\n    };\n\n    this.api = new Proxy(this._api, {\n      get: function get(_, prop) {\n        if (prop === 'then') return undefined; // Not a promise!\n\n        return _this._api[prop] === undefined ? _this._onUndef(prop) : _this._api[prop];\n      }\n    });\n  }\n\n  _createClass(ApiManager, [{\n    key: \"update\",\n    value: function update(nextApi, onUndef) {\n      var _this2 = this;\n\n      var prevApi = _objectSpread({}, this._api);\n\n      var prevUndef = this._onUndef;\n      Object.keys(this._api).forEach(function (k) {\n        delete _this2._api[k];\n      });\n      Object.assign(this._api, nextApi);\n      if (onUndef) this._onUndef = onUndef;\n      return {\n        cancel: function cancel() {\n          return _this2.update(prevApi, prevUndef);\n        },\n        api: this.api\n      };\n    }\n  }]);\n\n  return ApiManager;\n}();","map":null,"metadata":{},"sourceType":"script"}