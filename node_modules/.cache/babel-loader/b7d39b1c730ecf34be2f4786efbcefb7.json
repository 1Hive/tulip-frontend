{"ast":null,"code":"'use strict';\n/**\n * Keeps track of all running queries.\n */\n\nclass QueryManager {\n  /**\n   * Creates a new QueryManager.\n   */\n  constructor() {\n    this.queries = new Set();\n    this.running = false;\n  }\n  /**\n   * Called when a query is started.\n   *\n   * @param {Query} query\n   */\n\n\n  queryStarted(query) {\n    this.queries.add(query);\n  }\n  /**\n   * Called when a query completes.\n   *\n   * @param {Query} query\n   */\n\n\n  queryCompleted(query) {\n    this.queries.delete(query);\n  }\n  /**\n   * Starts the query manager.\n   */\n\n\n  start() {\n    this.running = true;\n  }\n  /**\n   * Stops all queries.\n   */\n\n\n  stop() {\n    this.running = false;\n\n    for (const query of this.queries) {\n      query.stop();\n    }\n\n    this.queries.clear();\n  }\n\n}\n\nmodule.exports = QueryManager;","map":null,"metadata":{},"sourceType":"script"}