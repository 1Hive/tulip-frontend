{"ast":null,"code":"'use strict';\n\nconst PeerId = require('peer-id');\n\nconst CID = require('cids');\n\nconst {\n  withTimeoutOption\n} = require('../../utils');\n\nmodule.exports = ({\n  bitswap\n}) => {\n  return withTimeoutOption(async function wantlist(peerId, options = {}) {\n    // eslint-disable-line require-await\n    if (peerId && !CID.isCID(peerId) && typeof peerId !== 'string' && !Buffer.isBuffer(peerId) && !PeerId.isPeerId(peerId)) {\n      options = peerId;\n      peerId = null;\n    }\n\n    const list = peerId ? bitswap.wantlistForPeer(PeerId.createFromCID(peerId)) : bitswap.getWantlist(options);\n    return Array.from(list).map(e => e[1].cid);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}