{"ast":null,"code":"'use strict';\n\nconst CID = require('cids');\n\nconst errCode = require('err-code');\n\nconst {\n  Buffer\n} = require('buffer');\n\nexports.parseArgs = (cid, path, options) => {\n  options = options || {}; // Allow options in path position\n\n  if (path !== undefined && typeof path !== 'string') {\n    options = path;\n    path = undefined;\n  }\n\n  if (typeof cid === 'string') {\n    if (cid.startsWith('/ipfs/')) {\n      cid = cid.substring(6);\n    }\n\n    const split = cid.split('/');\n\n    try {\n      cid = new CID(split[0]);\n    } catch (err) {\n      throw errCode(err, 'ERR_INVALID_CID');\n    }\n\n    split.shift();\n\n    if (split.length > 0) {\n      path = split.join('/');\n    } else {\n      path = path || '/';\n    }\n  } else if (Buffer.isBuffer(cid)) {\n    try {\n      cid = new CID(cid);\n    } catch (err) {\n      throw errCode(err, 'ERR_INVALID_CID');\n    }\n  }\n\n  return [cid, path, options];\n};","map":null,"metadata":{},"sourceType":"script"}