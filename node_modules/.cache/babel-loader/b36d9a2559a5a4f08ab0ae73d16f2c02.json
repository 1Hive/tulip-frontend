{"ast":null,"code":"import _classCallCheck from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./LineChart.css';var LineChart=/*#__PURE__*/function(_Component){_inherits(LineChart,_Component);var _super=_createSuper(LineChart);function LineChart(props){var _this;_classCallCheck(this,LineChart);_this=_super.call(this,props);_this.state={hoverLoc:null,activePoint:null};return _this;}// GET X & Y || MAX & MIN\n_createClass(LineChart,[{key:\"getX\",value:function getX(){var data=this.props.data;return{min:data[0].x,max:data[data.length-1].x};}},{key:\"getY\",value:function getY(){var data=this.props.data;return{min:data.reduce(function(min,p){return p.y<min?p.y:min;},data[0].y),max:data.reduce(function(max,p){return p.y>max?p.y:max;},data[0].y)};}// GET SVG COORDINATES\n},{key:\"getSvgX\",value:function getSvgX(x){var _this$props=this.props,width=_this$props.width,yLabelSize=_this$props.yLabelSize;return yLabelSize+x/this.getX().max*(width-yLabelSize);}},{key:\"getSvgY\",value:function getSvgY(y){var _this$props2=this.props,height=_this$props2.height,xLabelSize=_this$props2.xLabelSize;var gY=this.getY();return((height-xLabelSize)*gY.max-(height-xLabelSize)*y)/(gY.max-gY.min);}// BUILD SVG PATH\n},{key:\"makePath\",value:function makePath(){var _this2=this;var _this$props3=this.props,data=_this$props3.data,color=_this$props3.color;if(data===undefined||data.length===0){return/*#__PURE__*/React.createElement(\"div\",null);}var pathD='M '+this.getSvgX(data[0].x)+' '+this.getSvgY(data[0].y)+' ';pathD+=data.map(function(point,i){return'L '+_this2.getSvgX(point.x)+' '+_this2.getSvgY(point.y)+' ';});return/*#__PURE__*/React.createElement(\"path\",{className:\"linechart_path\",d:pathD,style:{stroke:color}});}// BUILD SHADED AREA\n},{key:\"makeArea\",value:function makeArea(){var _this3=this;var data=this.props.data;if(data===undefined||data.length===0){return/*#__PURE__*/React.createElement(\"div\",null);}var pathD='M '+this.getSvgX(data[0].x)+' '+this.getSvgY(data[0].y)+' ';pathD+=data.map(function(point,i){return'L '+_this3.getSvgX(point.x)+' '+_this3.getSvgY(point.y)+' ';});var x=this.getX();var y=this.getY();pathD+='L '+this.getSvgX(x.max)+' '+this.getSvgY(y.min)+' '+'L '+this.getSvgX(x.min)+' '+this.getSvgY(y.min)+' ';return/*#__PURE__*/React.createElement(\"svg\",null,/*#__PURE__*/React.createElement(\"defs\",null,/*#__PURE__*/React.createElement(\"linearGradient\",{id:\"MyGradient\",gradientTransform:\"rotate(80)\"},/*#__PURE__*/React.createElement(\"stop\",{offset:\"35%\",stopColor:\"#7ce0d680\"}),/*#__PURE__*/React.createElement(\"stop\",{offset:\"95%\",stopColor:\"#7ce0d600\"}))),/*#__PURE__*/React.createElement(\"path\",{className:\"linechart_area\",d:pathD}));}// BUILD GRID AXIS\n},{key:\"makeAxis\",value:function makeAxis(){var yLabelSize=this.props.yLabelSize;var x=this.getX();var y=this.getY();return/*#__PURE__*/React.createElement(\"g\",{className:\"linechart_axis\"},/*#__PURE__*/React.createElement(\"line\",{x1:this.getSvgX(x.min)-yLabelSize,y1:this.getSvgY(y.min),x2:this.getSvgX(x.max),y2:this.getSvgY(y.min),strokeDasharray:\"5\"}),/*#__PURE__*/React.createElement(\"line\",{x1:this.getSvgX(x.min)-yLabelSize,y1:this.getSvgY(y.max),x2:this.getSvgX(x.max),y2:this.getSvgY(y.max),strokeDasharray:\"5\"}));}},{key:\"makeLabels\",value:function makeLabels(){var _this$props4=this.props,height=_this$props4.height,width=_this$props4.width,xLabelSize=_this$props4.xLabelSize,yLabelSize=_this$props4.yLabelSize;var padding=5;return/*#__PURE__*/React.createElement(\"g\",{className:\"linechart_label\"},/*#__PURE__*/React.createElement(\"text\",{transform:\"translate(\".concat(yLabelSize/2,\", 20)\"),textAnchor:\"middle\"},this.getY().max.toLocaleString('us-EN',{style:'currency',currency:'USD'})),/*#__PURE__*/React.createElement(\"text\",{transform:\"translate(\".concat(yLabelSize/2,\", \").concat(height-xLabelSize-padding,\")\"),textAnchor:\"middle\"},this.getY().min.toLocaleString('us-EN',{style:'currency',currency:'USD'})),/*#__PURE__*/React.createElement(\"text\",{transform:\"translate(\".concat(yLabelSize,\", \").concat(height,\")\"),textAnchor:\"start\"},this.props.data[0].d),/*#__PURE__*/React.createElement(\"text\",{transform:\"translate(\".concat(width,\", \").concat(height,\")\"),textAnchor:\"end\"},this.props.data[this.props.data.length-1].d));}// FIND CLOSEST POINT TO MOUSE\n},{key:\"getCoords\",value:function getCoords(e){var _this4=this;var _this$props5=this.props,width=_this$props5.width,data=_this$props5.data,yLabelSize=_this$props5.yLabelSize;var svgLocation=document.getElementsByClassName('linechart')[0].getBoundingClientRect();var adjustment=(svgLocation.width-width)/2;// takes padding into consideration\nvar relativeLoc=e.clientX-svgLocation.left-adjustment;var svgData=[];data.map(function(point,i){svgData.push({svgX:_this4.getSvgX(point.x),svgY:_this4.getSvgY(point.y),d:point.d,p:point.p});});var closestPoint={};for(var i=0,c=500;i<svgData.length;i++){if(Math.abs(svgData[i].svgX-this.state.hoverLoc)<=c){c=Math.abs(svgData[i].svgX-this.state.hoverLoc);closestPoint=svgData[i];}}if(relativeLoc-yLabelSize<0){this.stopHover();}else{this.setState({hoverLoc:relativeLoc,activePoint:closestPoint});this.props.onChartHover(relativeLoc,closestPoint);}}// STOP HOVER\n},{key:\"stopHover\",value:function stopHover(){this.setState({hoverLoc:null,activePoint:null});this.props.onChartHover(null,null);}// MAKE ACTIVE POINT\n},{key:\"makeActivePoint\",value:function makeActivePoint(){var _this$props6=this.props,color=_this$props6.color,pointRadius=_this$props6.pointRadius;return/*#__PURE__*/React.createElement(\"circle\",{className:\"linechart_point\",style:{stroke:color},r:pointRadius,cx:this.state.activePoint.svgX,cy:this.state.activePoint.svgY});}// MAKE HOVER LINE\n},{key:\"createLine\",value:function createLine(){var _this$props7=this.props,height=_this$props7.height,xLabelSize=_this$props7.xLabelSize;return/*#__PURE__*/React.createElement(\"line\",{className:\"hoverLine\",x1:this.state.hoverLoc,y1:-8,x2:this.state.hoverLoc,y2:height-xLabelSize});}},{key:\"render\",value:function render(){var _this5=this;var _this$props8=this.props,height=_this$props8.height,width=_this$props8.width;return/*#__PURE__*/React.createElement(\"svg\",{width:width,height:height,viewBox:\"10 -10 \".concat(width,\" \").concat(height),className:\"linechart\",onMouseLeave:function onMouseLeave(){return _this5.stopHover();},onMouseMove:function onMouseMove(e){return _this5.getCoords(e);}},/*#__PURE__*/React.createElement(\"g\",null,this.props.showAxis&&this.makeAxis(),this.makePath(),this.makeArea(),this.props.showLabels&&this.makeLabels(),this.props.showHoverLoc&&this.state.hoverLoc?this.createLine():null,this.state.hoverLoc?this.makeActivePoint():null));}}]);return LineChart;}(Component);// DEFAULT PROPS\nLineChart.defaultProps={data:[],color:'#7CE0D6',pointRadius:6,height:300,width:900,xLabelSize:20,yLabelSize:80,showLabels:false,showHoverLoc:false,showAxis:false};export default LineChart;","map":{"version":3,"sources":["/Users/fabianmolina/Documents/1hive/tulip-frontend/src/components/LineChart/LineChart.js"],"names":["React","Component","LineChart","props","state","hoverLoc","activePoint","data","min","x","max","length","reduce","p","y","width","yLabelSize","getX","height","xLabelSize","gY","getY","color","undefined","pathD","getSvgX","getSvgY","map","point","i","stroke","padding","toLocaleString","style","currency","d","e","svgLocation","document","getElementsByClassName","getBoundingClientRect","adjustment","relativeLoc","clientX","left","svgData","push","svgX","svgY","closestPoint","c","Math","abs","stopHover","setState","onChartHover","pointRadius","getCoords","showAxis","makeAxis","makePath","makeArea","showLabels","makeLabels","showHoverLoc","createLine","makeActivePoint","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport './LineChart.css'\r\n\r\nclass LineChart extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      hoverLoc: null,\r\n      activePoint: null,\r\n    }\r\n  }\r\n\r\n  // GET X & Y || MAX & MIN\r\n  getX() {\r\n    const { data } = this.props\r\n    return {\r\n      min: data[0].x,\r\n      max: data[data.length - 1].x,\r\n    }\r\n  }\r\n\r\n  getY() {\r\n    const { data } = this.props\r\n    return {\r\n      min: data.reduce((min, p) => (p.y < min ? p.y : min), data[0].y),\r\n      max: data.reduce((max, p) => (p.y > max ? p.y : max), data[0].y),\r\n    }\r\n  }\r\n\r\n  // GET SVG COORDINATES\r\n  getSvgX(x) {\r\n    const { width, yLabelSize } = this.props\r\n    return yLabelSize + (x / this.getX().max) * (width - yLabelSize)\r\n  }\r\n\r\n  getSvgY(y) {\r\n    const { height, xLabelSize } = this.props\r\n    const gY = this.getY()\r\n    return (\r\n      ((height - xLabelSize) * gY.max - (height - xLabelSize) * y) /\r\n      (gY.max - gY.min)\r\n    )\r\n  }\r\n\r\n  // BUILD SVG PATH\r\n  makePath() {\r\n    const { data, color } = this.props\r\n    if (data === undefined || data.length === 0) {\r\n      return <div />\r\n    }\r\n    let pathD =\r\n      'M ' + this.getSvgX(data[0].x) + ' ' + this.getSvgY(data[0].y) + ' '\r\n\r\n    pathD += data.map((point, i) => {\r\n      return 'L ' + this.getSvgX(point.x) + ' ' + this.getSvgY(point.y) + ' '\r\n    })\r\n\r\n    return (\r\n      <path className=\"linechart_path\" d={pathD} style={{ stroke: color }} />\r\n    )\r\n  }\r\n\r\n  // BUILD SHADED AREA\r\n  makeArea() {\r\n    const { data } = this.props\r\n    if (data === undefined || data.length === 0) {\r\n      return <div />\r\n    }\r\n\r\n    let pathD =\r\n      'M ' + this.getSvgX(data[0].x) + ' ' + this.getSvgY(data[0].y) + ' '\r\n\r\n    pathD += data.map((point, i) => {\r\n      return 'L ' + this.getSvgX(point.x) + ' ' + this.getSvgY(point.y) + ' '\r\n    })\r\n\r\n    const x = this.getX()\r\n    const y = this.getY()\r\n    pathD +=\r\n      'L ' +\r\n      this.getSvgX(x.max) +\r\n      ' ' +\r\n      this.getSvgY(y.min) +\r\n      ' ' +\r\n      'L ' +\r\n      this.getSvgX(x.min) +\r\n      ' ' +\r\n      this.getSvgY(y.min) +\r\n      ' '\r\n\r\n    return (\r\n      <svg>\r\n        <defs>\r\n          <linearGradient id=\"MyGradient\" gradientTransform=\"rotate(80)\">\r\n            <stop offset=\"35%\" stopColor=\"#7ce0d680\" />\r\n            <stop offset=\"95%\" stopColor=\"#7ce0d600\" />\r\n          </linearGradient>\r\n        </defs>\r\n        <path className=\"linechart_area\" d={pathD} />\r\n      </svg>\r\n    )\r\n  }\r\n\r\n  // BUILD GRID AXIS\r\n  makeAxis() {\r\n    const { yLabelSize } = this.props\r\n    const x = this.getX()\r\n    const y = this.getY()\r\n\r\n    return (\r\n      <g className=\"linechart_axis\">\r\n        <line\r\n          x1={this.getSvgX(x.min) - yLabelSize}\r\n          y1={this.getSvgY(y.min)}\r\n          x2={this.getSvgX(x.max)}\r\n          y2={this.getSvgY(y.min)}\r\n          strokeDasharray=\"5\"\r\n        />\r\n        <line\r\n          x1={this.getSvgX(x.min) - yLabelSize}\r\n          y1={this.getSvgY(y.max)}\r\n          x2={this.getSvgX(x.max)}\r\n          y2={this.getSvgY(y.max)}\r\n          strokeDasharray=\"5\"\r\n        />\r\n      </g>\r\n    )\r\n  }\r\n\r\n  makeLabels() {\r\n    const { height, width, xLabelSize, yLabelSize } = this.props\r\n    const padding = 5\r\n    return (\r\n      <g className=\"linechart_label\">\r\n        {/* Y AXIS LABELS */}\r\n        <text\r\n          transform={`translate(${yLabelSize / 2}, 20)`}\r\n          textAnchor=\"middle\"\r\n        >\r\n          {this.getY().max.toLocaleString('us-EN', {\r\n            style: 'currency',\r\n            currency: 'USD',\r\n          })}\r\n        </text>\r\n        <text\r\n          transform={`translate(${yLabelSize / 2}, ${height -\r\n            xLabelSize -\r\n            padding})`}\r\n          textAnchor=\"middle\"\r\n        >\r\n          {this.getY().min.toLocaleString('us-EN', {\r\n            style: 'currency',\r\n            currency: 'USD',\r\n          })}\r\n        </text>\r\n        {/* X AXIS LABELS */}\r\n        <text\r\n          transform={`translate(${yLabelSize}, ${height})`}\r\n          textAnchor=\"start\"\r\n        >\r\n          {this.props.data[0].d}\r\n        </text>\r\n        <text transform={`translate(${width}, ${height})`} textAnchor=\"end\">\r\n          {this.props.data[this.props.data.length - 1].d}\r\n        </text>\r\n      </g>\r\n    )\r\n  }\r\n\r\n  // FIND CLOSEST POINT TO MOUSE\r\n  getCoords(e) {\r\n    const { width, data, yLabelSize } = this.props\r\n    const svgLocation = document\r\n      .getElementsByClassName('linechart')[0]\r\n      .getBoundingClientRect()\r\n    const adjustment = (svgLocation.width - width) / 2 // takes padding into consideration\r\n    const relativeLoc = e.clientX - svgLocation.left - adjustment\r\n\r\n    const svgData = []\r\n    data.map((point, i) => {\r\n      svgData.push({\r\n        svgX: this.getSvgX(point.x),\r\n        svgY: this.getSvgY(point.y),\r\n        d: point.d,\r\n        p: point.p,\r\n      })\r\n    })\r\n\r\n    let closestPoint = {}\r\n    for (let i = 0, c = 500; i < svgData.length; i++) {\r\n      if (Math.abs(svgData[i].svgX - this.state.hoverLoc) <= c) {\r\n        c = Math.abs(svgData[i].svgX - this.state.hoverLoc)\r\n        closestPoint = svgData[i]\r\n      }\r\n    }\r\n\r\n    if (relativeLoc - yLabelSize < 0) {\r\n      this.stopHover()\r\n    } else {\r\n      this.setState({\r\n        hoverLoc: relativeLoc,\r\n        activePoint: closestPoint,\r\n      })\r\n      this.props.onChartHover(relativeLoc, closestPoint)\r\n    }\r\n  }\r\n\r\n  // STOP HOVER\r\n  stopHover() {\r\n    this.setState({ hoverLoc: null, activePoint: null })\r\n    this.props.onChartHover(null, null)\r\n  }\r\n\r\n  // MAKE ACTIVE POINT\r\n  makeActivePoint() {\r\n    const { color, pointRadius } = this.props\r\n    return (\r\n      <circle\r\n        className=\"linechart_point\"\r\n        style={{ stroke: color }}\r\n        r={pointRadius}\r\n        cx={this.state.activePoint.svgX}\r\n        cy={this.state.activePoint.svgY}\r\n      />\r\n    )\r\n  }\r\n\r\n  // MAKE HOVER LINE\r\n  createLine() {\r\n    const { height, xLabelSize } = this.props\r\n    return (\r\n      <line\r\n        className=\"hoverLine\"\r\n        x1={this.state.hoverLoc}\r\n        y1={-8}\r\n        x2={this.state.hoverLoc}\r\n        y2={height - xLabelSize}\r\n      />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { height, width } = this.props\r\n    return (\r\n      <svg\r\n        width={width}\r\n        height={height}\r\n        viewBox={`10 -10 ${width} ${height}`}\r\n        className=\"linechart\"\r\n        onMouseLeave={() => this.stopHover()}\r\n        onMouseMove={e => this.getCoords(e)}\r\n      >\r\n        <g>\r\n          {this.props.showAxis && this.makeAxis()}\r\n          {this.makePath()}\r\n          {this.makeArea()}\r\n          {this.props.showLabels && this.makeLabels()}\r\n          {this.props.showHoverLoc && this.state.hoverLoc\r\n            ? this.createLine()\r\n            : null}\r\n          {this.state.hoverLoc ? this.makeActivePoint() : null}\r\n        </g>\r\n      </svg>\r\n    )\r\n  }\r\n}\r\n\r\n// DEFAULT PROPS\r\nLineChart.defaultProps = {\r\n  data: [],\r\n  color: '#7CE0D6',\r\n  pointRadius: 6,\r\n  height: 300,\r\n  width: 900,\r\n  xLabelSize: 20,\r\n  yLabelSize: 80,\r\n  showLabels: false,\r\n  showHoverLoc: false,\r\n  showAxis: false,\r\n}\r\n\r\nexport default LineChart\r\n"]},"metadata":{},"sourceType":"module"}