{"ast":null,"code":"import { _ as _slicedToArray } from './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React, { useState, useCallback, useEffect, useMemo, useRef } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport { unselectable } from './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport { warnOnce } from './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport { BIG_RADIUS, GU, RADIUS } from './constants.js';\nimport './breakpoints.js';\nimport './springs.js';\nimport { textStyle } from './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport { _ as _objectWithoutProperties } from './objectWithoutProperties-234758e1.js';\nimport { i } from './index-422d37c0.js';\nimport './isObject-c2f08dfa.js';\nimport { u as useViewport } from './Viewport-2b81deab.js';\nimport './FocusVisible.js';\nimport ButtonBase from './ButtonBase.js';\nimport './IconPropTypes-9078a621.js';\nimport './IconAddUser.js';\nimport './IconAlert.js';\nimport './IconAlignCenter.js';\nimport './IconAlignJustify.js';\nimport './IconAlignLeft.js';\nimport './IconAlignRight.js';\nimport './IconAragon.js';\nimport './IconArrowDown.js';\nimport './IconArrowLeft.js';\nimport './IconArrowRight.js';\nimport './IconArrowUp.js';\nimport './IconAtSign.js';\nimport './IconBlock.js';\nimport './IconBookmark.js';\nimport './IconCalendar.js';\nimport './IconCanvas.js';\nimport './IconCaution.js';\nimport './IconCenter.js';\nimport './IconChart.js';\nimport './IconChat.js';\nimport './IconCheck.js';\nimport './IconChip.js';\nimport './IconCircleCheck.js';\nimport './IconCircleMinus.js';\nimport './IconCirclePlus.js';\nimport './IconClock.js';\nimport './IconCloudDownload.js';\nimport './IconCloudUpload.js';\nimport './IconCoin.js';\nimport './IconConfiguration.js';\nimport './IconConnect.js';\nimport './IconConnection.js';\nimport './IconConsole.js';\nimport './IconCopy.js';\nimport './IconCross.js';\nimport './IconDashedSquare.js';\nimport IconDown from './IconDown.js';\nimport './IconDownload.js';\nimport './IconEdit.js';\nimport './IconEllipsis.js';\nimport './IconEnter.js';\nimport './IconEthereum.js';\nimport './IconExternal.js';\nimport './IconFile.js';\nimport './IconFilter.js';\nimport './IconFlag.js';\nimport './IconFolder.js';\nimport './IconGraph2.js';\nimport './IconGraph.js';\nimport './IconGrid.js';\nimport './IconGroup.js';\nimport './IconHash.js';\nimport './IconHeart.js';\nimport './IconHide.js';\nimport './IconHome.js';\nimport './IconImage.js';\nimport './IconInfo.js';\nimport './IconLabel.js';\nimport './IconLayers.js';\nimport './IconLeft.js';\nimport './IconLink.js';\nimport './IconLocation.js';\nimport './IconLock.js';\nimport './IconMail.js';\nimport './IconMaximize.js';\nimport './IconMenu.js';\nimport './IconMinimize.js';\nimport './IconMinus.js';\nimport './IconMove.js';\nimport './IconNoPicture.js';\nimport './IconPicture.js';\nimport './IconPlus.js';\nimport './IconPower.js';\nimport './IconPrint.js';\nimport './IconProhibited.js';\nimport './IconQuestion.js';\nimport './IconRefresh.js';\nimport './IconRemoveUser.js';\nimport './IconRight.js';\nimport './IconRotateLeft.js';\nimport './IconRotateRight.js';\nimport './IconSearch.js';\nimport './IconSettings.js';\nimport './IconShare.js';\nimport './IconSquareMinus.js';\nimport './IconSquarePlus.js';\nimport './IconSquare.js';\nimport './IconStarFilled.js';\nimport './IconStar.js';\nimport './IconSwap.js';\nimport './IconTarget.js';\nimport './IconToken.js';\nimport './IconTrash.js';\nimport './IconUnlock.js';\nimport './IconUp.js';\nimport './IconUpload.js';\nimport './IconUser.js';\nimport './IconView.js';\nimport './IconVote.js';\nimport './IconWallet.js';\nimport './IconWarning.js';\nimport './IconWorld.js';\nimport './IconWrite.js';\nimport './IconZoomIn.js';\nimport './IconZoomOut.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport './web-a351a0a1.js';\nimport './getDisplayName-d5fc7707.js';\nimport './index-a2f7b3fc.js';\nimport './index-77db863e.js';\nimport './RootPortal.js';\nimport './proptypes-c8a77d05.js';\nimport Popover from './Popover.js';\nimport './observe.js';\nimport './index-3be838f0.js';\nimport './providers.js';\nvar MIN_WIDTH = 128;\n\nfunction useDropDown(_ref) {\n  var buttonRef = _ref.buttonRef,\n      items = _ref.items,\n      displayedLabel = _ref.displayedLabel,\n      onChange = _ref.onChange,\n      placeholder = _ref.placeholder,\n      selected = _ref.selected;\n\n  var _useState = useState(displayedLabel),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectedLabel = _useState2[0],\n      setSelectedLabel = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      opened = _useState4[0],\n      setOpened = _useState4[1];\n\n  var close = useCallback(function () {\n    setOpened(false);\n\n    if (buttonRef.current) {\n      buttonRef.current.focus();\n    }\n  }, [buttonRef]);\n  var toggle = useCallback(function () {\n    return setOpened(function (opened) {\n      return !opened;\n    });\n  }, []);\n  var handleItemSelect = useCallback(function (index) {\n    onChange(index);\n    close();\n  }, [onChange, close]);\n  useEffect(function () {\n    if (selected === -1 || !items[selected]) {\n      if (displayedLabel) {\n        setSelectedLabel(displayedLabel);\n      }\n\n      return;\n    }\n\n    setSelectedLabel(items[selected]);\n  }, [items, selected, displayedLabel]);\n  return {\n    handleItemSelect: handleItemSelect,\n    close: close,\n    toggle: toggle,\n    opened: opened,\n    selectedLabel: selectedLabel\n  };\n}\n\nfunction useButtonRef(cb) {\n  var buttonRef = useRef(null);\n  var refCallback = useCallback(function (el) {\n    if (el) {\n      cb(el);\n    }\n\n    buttonRef.current = el;\n  }, [cb]);\n  return {\n    buttonRef: buttonRef,\n    refCallback: refCallback\n  };\n}\n\nvar _StyledButtonBase = _styled(ButtonBase).withConfig({\n  displayName: \"DropDown___StyledButtonBase\",\n  componentId: \"sc-120gxgp-0\"\n})([\"display:\", \";justify-content:space-between;align-items:center;height:\", \"px;padding-left:\", \"px;padding-right:\", \"px;width:\", \";min-width:\", \";background:\", \";color:\", \";border:\", \"px solid \", \";\", \";\", \"\"], function (p) {\n  return p._css;\n}, function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n}, function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n}, function (p) {\n  return p._css6;\n}, function (p) {\n  return p._css7;\n}, function (p) {\n  return p._css8;\n}, function (p) {\n  return p._css9;\n}, function (p) {\n  return p._css10;\n}, function (p) {\n  return p._css11;\n}, function (p) {\n  return p._css12;\n});\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"DropDown___StyledDiv\",\n  componentId: \"sc-120gxgp-1\"\n})([\"overflow:hidden;\"]);\n\nvar _StyledIconDown = _styled(IconDown).withConfig({\n  displayName: \"DropDown___StyledIconDown\",\n  componentId: \"sc-120gxgp-2\"\n})([\"margin-left:\", \"px;color:\", \";\"], function (p) {\n  return p._css13;\n}, function (p) {\n  return p._css14;\n});\n\nvar _StyledDiv2 = _styled(\"div\").withConfig({\n  displayName: \"DropDown___StyledDiv2\",\n  componentId: \"sc-120gxgp-3\"\n})([\"position:absolute;top:-100vh;left:-100vw;opacity:0;visibility:hidden;\"]);\n\nvar DropDown = React.memo(function DropDown(_ref2) {\n  var disabled = _ref2.disabled,\n      header = _ref2.header,\n      items = _ref2.items,\n      onChange = _ref2.onChange,\n      placeholder = _ref2.placeholder,\n      renderLabel = _ref2.renderLabel,\n      selected = _ref2.selected,\n      wide = _ref2.wide,\n      width = _ref2.width,\n      active = _ref2.active,\n      label = _ref2.label,\n      props = _objectWithoutProperties(_ref2, [\"disabled\", \"header\", \"items\", \"onChange\", \"placeholder\", \"renderLabel\", \"selected\", \"wide\", \"width\", \"active\", \"label\"]);\n\n  if (active !== undefined) {\n    warnOnce('DropDown:active', 'The “active” prop is deprecated. Please use “selected” to pass the selected index instead.');\n  }\n\n  if (label !== undefined) {\n    warnOnce('DropDown:label', 'DropDown: the “label” prop is deprecated, please use “placeholder” instead.');\n  }\n\n  var theme = useTheme();\n\n  var _useViewport = useViewport(),\n      vw = _useViewport.width;\n\n  var _split = (width || '').split('px'),\n      _split2 = _slicedToArray(_split, 1),\n      _split2$ = _split2[0],\n      widthNoPx = _split2$ === void 0 ? MIN_WIDTH : _split2$;\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      buttonWidth = _useState6[0],\n      setButtonWidth = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      measureWidth = _useState8[0],\n      setMeasureWidth = _useState8[1]; // Adjust the button width if the item widths are larger than declared width\n\n\n  var _useState9 = useState(Math.min(widthNoPx, MIN_WIDTH)),\n      _useState10 = _slicedToArray(_useState9, 2),\n      placeholderMinWidth = _useState10[0],\n      setPlaceholderMinWidth = _useState10[1];\n\n  var popoverRefCallback = useCallback(function (el) {\n    if (!el) {\n      return;\n    }\n\n    setPlaceholderMinWidth(el.clientWidth);\n    setMeasureWidth(false);\n  }, []);\n  useEffect(function () {\n    setMeasureWidth(true);\n  }, [vw, items]); // Update the button width every time the reference updates\n\n  var _useButtonRef = useButtonRef(function (el) {\n    setButtonWidth(el.clientWidth);\n  }),\n      refCallback = _useButtonRef.refCallback,\n      buttonRef = _useButtonRef.buttonRef; // And every time the viewport resizes\n\n\n  useEffect(function () {\n    if (!buttonRef.current) {\n      return;\n    }\n\n    setButtonWidth(buttonRef.current.clientWidth);\n  }, [buttonRef, vw]);\n  var selectedIndex = useMemo(function () {\n    if (selected !== undefined) {\n      return selected;\n    }\n\n    if (active !== undefined) {\n      return active;\n    }\n\n    return -1;\n  }, [active, selected]);\n\n  var _useDropDown = useDropDown({\n    buttonRef: buttonRef,\n    displayedLabel: placeholder || label,\n    items: items,\n    onChange: onChange,\n    selected: selected\n  }),\n      handleItemSelect = _useDropDown.handleItemSelect,\n      close = _useDropDown.close,\n      toggle = _useDropDown.toggle,\n      opened = _useDropDown.opened,\n      selectedLabel = _useDropDown.selectedLabel;\n\n  var closedWithChanges = !opened && selectedIndex !== -1;\n  var Label = renderLabel;\n  return /*#__PURE__*/React.createElement(i, {\n    name: \"DropDown\"\n  }, /*#__PURE__*/React.createElement(_StyledButtonBase, _extends({\n    ref: refCallback,\n    disabled: disabled,\n    onClick: toggle,\n    focusRingRadius: BIG_RADIUS,\n    focusRingSpacing: 1\n  }, props, {\n    _css: wide ? 'flex' : 'inline-flex',\n    _css2: 5 * GU,\n    _css3: 2 * GU,\n    _css4: 1.5 * GU,\n    _css5: width || (wide ? '100%' : 'auto'),\n    _css6: wide ? 'auto' : \"\".concat(placeholderMinWidth, \"px\"),\n    _css7: disabled ? theme.disabled : theme.surface,\n    _css8: disabled ? theme.disabledContent : theme.surfaceContent,\n    _css9: disabled ? 0 : 1,\n    _css10: closedWithChanges ? theme.selected : theme.border,\n    _css11: textStyle('body2'),\n    _css12: disabled ? 'font-weight: 600;' : \"\\n              &:active {\\n                background: \".concat(theme.surfacePressed, \";\\n              }\\n            \")\n  }), /*#__PURE__*/React.createElement(_StyledDiv, null, /*#__PURE__*/React.createElement(Label, {\n    selectedIndex: selectedIndex,\n    selectedLabel: selectedLabel\n  })), /*#__PURE__*/React.createElement(_StyledIconDown, {\n    size: \"tiny\",\n    _css13: 1.5 * GU,\n    _css14: disabled ? theme.disabledIcon : closedWithChanges ? theme.accent : theme.surfaceIcon\n  })), measureWidth && /*#__PURE__*/React.createElement(_StyledDiv2, null, /*#__PURE__*/React.createElement(PopoverContent, {\n    refCallback: popoverRefCallback,\n    buttonWidth: buttonWidth,\n    header: header,\n    items: items\n  })), /*#__PURE__*/React.createElement(Popover, {\n    onClose: close,\n    opener: buttonRef.current,\n    visible: opened\n  }, /*#__PURE__*/React.createElement(PopoverContent, {\n    buttonWidth: buttonWidth,\n    header: header,\n    items: items,\n    handleItemSelect: handleItemSelect,\n    selectedIndex: selectedIndex\n  })));\n});\nDropDown.propTypes = {\n  disabled: PropTypes.bool,\n  header: PropTypes.node,\n  items: PropTypes.arrayOf(PropTypes.node).isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.node,\n  renderLabel: PropTypes.func,\n  selected: PropTypes.number,\n  wide: PropTypes.bool,\n  width: PropTypes.string,\n  // deprecated\n  active: PropTypes.number,\n  label: PropTypes.string\n};\nDropDown.defaultProps = {\n  placeholder: 'Select an item',\n  renderLabel: function renderLabel(_ref3) {\n    var selectedLabel = _ref3.selectedLabel;\n    return selectedLabel;\n  },\n  wide: false\n};\n\nvar _StyledDiv3 = _styled(\"div\").withConfig({\n  displayName: \"DropDown___StyledDiv3\",\n  componentId: \"sc-120gxgp-4\"\n})([\"min-width:\", \"px;color:\", \";\"], function (p) {\n  return p._css15;\n}, function (p) {\n  return p._css16;\n});\n\nvar _StyledDiv4 = _styled(\"div\").withConfig({\n  displayName: \"DropDown___StyledDiv4\",\n  componentId: \"sc-120gxgp-5\"\n})([\"padding:\", \"px \", \"px \", \"px;\", \";\", \";\"], function (p) {\n  return p._css17;\n}, function (p) {\n  return p._css18;\n}, function (p) {\n  return p._css19;\n}, function (p) {\n  return p._css20;\n}, unselectable);\n\nvar _StyledUl = _styled(\"ul\").withConfig({\n  displayName: \"DropDown___StyledUl\",\n  componentId: \"sc-120gxgp-6\"\n})([\"margin:0;padding:0;list-style:none;width:100%;\"]);\n\nvar PopoverContent = React.memo(function PopoverContent(_ref4) {\n  var refCallback = _ref4.refCallback,\n      buttonWidth = _ref4.buttonWidth,\n      header = _ref4.header,\n      items = _ref4.items,\n      handleItemSelect = _ref4.handleItemSelect,\n      selectedIndex = _ref4.selectedIndex;\n  var theme = useTheme();\n  return /*#__PURE__*/React.createElement(_StyledDiv3, {\n    _css15: buttonWidth,\n    _css16: theme.surfaceContentSecondary\n  }, header && /*#__PURE__*/React.createElement(_StyledDiv4, {\n    _css17: 1.5 * GU,\n    _css18: 2 * GU,\n    _css19: 1.25 * GU,\n    _css20: textStyle('label2')\n  }, header), /*#__PURE__*/React.createElement(_StyledUl, {\n    ref: refCallback\n  }, /*#__PURE__*/React.createElement(i, {\n    name: \"DropDown:menu\"\n  }, items.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Item, {\n      key: index,\n      index: index,\n      onSelect: handleItemSelect,\n      theme: theme,\n      item: item,\n      header: header,\n      length: items.length,\n      selected: selectedIndex\n    });\n  }))));\n});\nPopoverContent.propTypes = {\n  refCallback: PropTypes.func.isRequired,\n  buttonWidth: PropTypes.number.isRequired,\n  header: PropTypes.node,\n  items: PropTypes.array.isRequired,\n  handleItemSelect: PropTypes.func.isRequired,\n  selectedIndex: PropTypes.number.isRequired\n};\nPopoverContent.defaultProps = {\n  refCallback: function refCallback() {\n    return null;\n  },\n  handleItemSelect: function handleItemSelect() {\n    return null;\n  },\n  selectedIndex: -1\n};\n\nvar _StyledButtonBase2 = _styled(ButtonBase).withConfig({\n  displayName: \"DropDown___StyledButtonBase2\",\n  componentId: \"sc-120gxgp-7\"\n})([\"width:100%;text-align:left;padding:\", \"px \", \"px;border-radius:0;color:\", \";\", \";\", \" \", \" \", \" &:active{background:\", \";}\"], function (p) {\n  return p._css21;\n}, function (p) {\n  return p._css22;\n}, function (p) {\n  return p._css23;\n}, function (p) {\n  return p._css24;\n}, function (p) {\n  return p._css25;\n}, function (p) {\n  return p._css26;\n}, function (p) {\n  return p._css27;\n}, function (p) {\n  return p._css28;\n});\n\nvar Item = React.memo(function Item(_ref5) {\n  var header = _ref5.header,\n      index = _ref5.index,\n      item = _ref5.item,\n      length = _ref5.length,\n      onSelect = _ref5.onSelect,\n      selected = _ref5.selected,\n      theme = _ref5.theme;\n  var handleClick = useCallback(function () {\n    onSelect(index);\n  }, [index, onSelect]);\n  return /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(_StyledButtonBase2, {\n    onClick: handleClick,\n    _css21: 1.25 * GU,\n    _css22: 2 * GU,\n    _css23: theme.content,\n    _css24: textStyle('body2'),\n    _css25: !header && index === 0 ? \"border-top-left-radius: \".concat(RADIUS, \"px;\") : '',\n    _css26: index === length - 1 ? \"border-bottom-left-radius: \".concat(RADIUS, \"px;\") : '',\n    _css27: selected === index ? \"\\n              border-left: 2px solid \".concat(theme.accent, \";\\n              background: \").concat(theme.surfaceSelected, \";\\n            \") : '',\n    _css28: theme.surfacePressed\n  }, item));\n});\nItem.propTypes = {\n  header: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  item: PropTypes.node.isRequired,\n  length: PropTypes.number.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  selected: PropTypes.number.isRequired,\n  theme: PropTypes.object.isRequired\n};\nexport default DropDown;","map":null,"metadata":{},"sourceType":"module"}