{"ast":null,"code":"import { _ as _slicedToArray } from './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport { GU } from './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport { textStyle } from './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport './extends-db4f0c26.js';\nimport './objectWithoutProperties-234758e1.js';\nimport './index-422d37c0.js';\nimport './isObject-c2f08dfa.js';\nimport './Viewport-2b81deab.js';\nimport { useLayout } from './Layout.js';\nimport './FocusVisible.js';\nimport './ButtonBase.js';\nimport './IconPropTypes-9078a621.js';\nimport './IconAddUser.js';\nimport './IconAlert.js';\nimport './IconAlignCenter.js';\nimport './IconAlignJustify.js';\nimport './IconAlignLeft.js';\nimport './IconAlignRight.js';\nimport './IconAragon.js';\nimport './IconArrowDown.js';\nimport './IconArrowLeft.js';\nimport './IconArrowRight.js';\nimport './IconArrowUp.js';\nimport './IconAtSign.js';\nimport './IconBlock.js';\nimport './IconBookmark.js';\nimport './IconCalendar.js';\nimport './IconCanvas.js';\nimport './IconCaution.js';\nimport './IconCenter.js';\nimport './IconChart.js';\nimport './IconChat.js';\nimport './IconCheck.js';\nimport './IconChip.js';\nimport './IconCircleCheck.js';\nimport './IconCircleMinus.js';\nimport './IconCirclePlus.js';\nimport './IconClock.js';\nimport './IconCloudDownload.js';\nimport './IconCloudUpload.js';\nimport './IconCoin.js';\nimport './IconConfiguration.js';\nimport './IconConnect.js';\nimport './IconConnection.js';\nimport './IconConsole.js';\nimport './IconCopy.js';\nimport './IconCross.js';\nimport './IconDashedSquare.js';\nimport './IconDown.js';\nimport './IconDownload.js';\nimport './IconEdit.js';\nimport './IconEllipsis.js';\nimport './IconEnter.js';\nimport './IconEthereum.js';\nimport './IconExternal.js';\nimport './IconFile.js';\nimport './IconFilter.js';\nimport './IconFlag.js';\nimport './IconFolder.js';\nimport './IconGraph2.js';\nimport './IconGraph.js';\nimport './IconGrid.js';\nimport './IconGroup.js';\nimport './IconHash.js';\nimport './IconHeart.js';\nimport './IconHide.js';\nimport './IconHome.js';\nimport './IconImage.js';\nimport './IconInfo.js';\nimport './IconLabel.js';\nimport './IconLayers.js';\nimport './IconLeft.js';\nimport './IconLink.js';\nimport './IconLocation.js';\nimport './IconLock.js';\nimport './IconMail.js';\nimport './IconMaximize.js';\nimport './IconMenu.js';\nimport './IconMinimize.js';\nimport './IconMinus.js';\nimport './IconMove.js';\nimport './IconNoPicture.js';\nimport './IconPicture.js';\nimport './IconPlus.js';\nimport './IconPower.js';\nimport './IconPrint.js';\nimport './IconProhibited.js';\nimport './IconQuestion.js';\nimport './IconRefresh.js';\nimport './IconRemoveUser.js';\nimport './IconRight.js';\nimport './IconRotateLeft.js';\nimport './IconRotateRight.js';\nimport './IconSearch.js';\nimport './IconSettings.js';\nimport './IconShare.js';\nimport './IconSquareMinus.js';\nimport './IconSquarePlus.js';\nimport './IconSquare.js';\nimport './IconStarFilled.js';\nimport './IconStar.js';\nimport './IconSwap.js';\nimport './IconTarget.js';\nimport './IconToken.js';\nimport './IconTrash.js';\nimport './IconUnlock.js';\nimport './IconUp.js';\nimport './IconUpload.js';\nimport './IconUser.js';\nimport './IconView.js';\nimport './IconVote.js';\nimport './IconWallet.js';\nimport './IconWarning.js';\nimport './IconWorld.js';\nimport './IconWrite.js';\nimport './IconZoomIn.js';\nimport './IconZoomOut.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { e as extendedAnimated, T as Transition } from './web-a351a0a1.js';\nimport Checkbox from './Checkbox.js';\nimport './Button.js';\nimport './ButtonIcon.js';\nimport { ToggleButton } from './ToggleButton.js';\nimport { OpenedSurfaceBorder } from './OpenedSurfaceBorder.js';\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction headingsFromFields(fields, _ref) {\n  var hasAnyActions = _ref.hasAnyActions,\n      hasAnyExpansion = _ref.hasAnyExpansion,\n      selectContent = _ref.selectContent,\n      selectable = _ref.selectable;\n  var cells = fields.map(function (field, index) {\n    return [field.label, field.align === 'end' ? 'right' : 'left'];\n  });\n\n  if (hasAnyExpansion || selectable) {\n    cells.unshift([selectable ? selectContent : null, 'left']);\n  }\n\n  if (hasAnyActions) {\n    cells.push([null, 'left']);\n  } // Return null if all the fields are empty\n\n\n  if (cells.every(function (cell) {\n    return !cell[0];\n  })) {\n    return null;\n  }\n\n  return cells;\n}\n\nfunction cellsFromEntry(entry, _ref2) {\n  var fields = _ref2.fields,\n      hasAnyActions = _ref2.hasAnyActions,\n      hasAnyExpansion = _ref2.hasAnyExpansion,\n      hasExpansion = _ref2.hasExpansion,\n      selectContent = _ref2.selectContent,\n      selectable = _ref2.selectable,\n      toggleChildContent = _ref2.toggleChildContent;\n  var cells = entry.entryNodes.map(function (content, index) {\n    return [content, fields[index].align, false];\n  }); // Checkbox\n\n  if (selectable) {\n    cells.unshift([selectContent, 'start', true]);\n  } // Toggle child\n\n\n  if (!selectable && hasAnyExpansion) {\n    cells.unshift([hasExpansion && toggleChildContent, 'start', true]);\n  } // Actions\n\n\n  if (hasAnyActions) {\n    cells.push([entry.actions, 'end', true]);\n  }\n\n  return cells;\n}\n\nvar _StyledTable = _styled(\"table\").withConfig({\n  displayName: \"TableView___StyledTable\",\n  componentId: \"sc-1t132wa-0\"\n})([\"width:100%;border-spacing:0;border-collapse:separate;\"]);\n\nfunction TableView(_ref3) {\n  var alignChildOnField = _ref3.alignChildOnField,\n      allSelected = _ref3.allSelected,\n      entries = _ref3.entries,\n      fields = _ref3.fields,\n      hasAnyActions = _ref3.hasAnyActions,\n      hasAnyExpansion = _ref3.hasAnyExpansion,\n      onSelect = _ref3.onSelect,\n      onSelectAll = _ref3.onSelectAll,\n      renderSelectionCount = _ref3.renderSelectionCount,\n      rowHeight = _ref3.rowHeight,\n      selectable = _ref3.selectable,\n      selectedCount = _ref3.selectedCount;\n\n  var _useState = useState(-1),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var toggleEntry = useCallback(function (index) {\n    setOpened(function (opened) {\n      return opened === index ? -1 : index;\n    });\n  }, []);\n  var headCells = useMemo(function () {\n    return headingsFromFields(fields, {\n      hasAnyActions: hasAnyActions,\n      hasAnyExpansion: hasAnyExpansion,\n      selectContent: /*#__PURE__*/React.createElement(Checkbox, {\n        indeterminate: allSelected === 0,\n        checked: allSelected > -1,\n        onChange: onSelectAll\n      }),\n      selectable: selectable\n    });\n  }, [fields, hasAnyActions, hasAnyExpansion, allSelected, onSelectAll, selectable]);\n  useEffect(function () {\n    setOpened(-1);\n  }, [entries, fields]);\n  return /*#__PURE__*/React.createElement(_StyledTable, null, headCells && /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(HeadRow, {\n    cells: headCells,\n    selectedCount: selectedCount,\n    renderSelectionCount: renderSelectionCount\n  })), /*#__PURE__*/React.createElement(\"tbody\", null, entries.map(function (entry, index) {\n    return /*#__PURE__*/React.createElement(Entry, {\n      key: entry.index,\n      alignChildOnField: alignChildOnField,\n      entry: entry,\n      fields: fields,\n      firstRow: index === 0,\n      hasAnyActions: hasAnyActions,\n      hasAnyExpansion: hasAnyExpansion,\n      onSelect: onSelect,\n      onToggle: toggleEntry,\n      opened: opened === entry.index,\n      rowHeight: rowHeight,\n      selectable: selectable\n    });\n  })));\n}\n\nTableView.propTypes = {\n  alignChildOnField: PropTypes.number.isRequired,\n  allSelected: PropTypes.oneOf([-1, 0, 1]).isRequired,\n  entries: PropTypes.array.isRequired,\n  fields: PropTypes.array.isRequired,\n  hasAnyActions: PropTypes.bool.isRequired,\n  hasAnyExpansion: PropTypes.bool.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onSelectAll: PropTypes.func.isRequired,\n  renderSelectionCount: PropTypes.func.isRequired,\n  rowHeight: PropTypes.number.isRequired,\n  selectable: PropTypes.bool.isRequired,\n  selectedCount: PropTypes.number.isRequired\n}; // Disable prop types check for internal components\n\n/* eslint-disable react/prop-types */\n\nfunction useSidePadding() {\n  var _useLayout = useLayout(),\n      layoutName = _useLayout.layoutName;\n\n  return layoutName === 'small' ? 2 * GU : 3 * GU;\n}\n\nvar _StyledTh = _styled(\"th\").withConfig({\n  displayName: \"TableView___StyledTh\",\n  componentId: \"sc-1t132wa-1\"\n})([\"height:\", \"px;padding:0;padding-left:\", \"px;padding-right:\", \"px;text-align:\", \";\", \";color:\", \";border-bottom:1px solid \", \";\"], function (p) {\n  return p._css;\n}, function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n}, function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n}, function (p) {\n  return p._css6;\n}, function (p) {\n  return p._css7;\n});\n\nfunction HeadRow(_ref4) {\n  var cells = _ref4.cells,\n      selectedCount = _ref4.selectedCount,\n      renderSelectionCount = _ref4.renderSelectionCount;\n  var theme = useTheme();\n  var sidePadding = useSidePadding();\n  return /*#__PURE__*/React.createElement(\"tr\", null, cells.map(function (cell, index) {\n    var hidden = selectedCount > 0 && index > 1;\n    var content = selectedCount > 0 && index === 1 ? renderSelectionCount(selectedCount) : cell[0];\n    return !hidden && /*#__PURE__*/React.createElement(_StyledTh, {\n      key: index,\n      colSpan: selectedCount > 0 && index === 1 ? cells.length - 1 : 1,\n      _css: 4 * GU,\n      _css2: index === 0 ? sidePadding : 0,\n      _css3: index === cells.length - 1 ? sidePadding : 0,\n      _css4: cell[1],\n      _css5: textStyle('label2'),\n      _css6: theme.surfaceContentSecondary,\n      _css7: theme.border\n    }, content);\n  }));\n}\n\nvar Entry = React.memo(function Entry(_ref5) {\n  var alignChildOnField = _ref5.alignChildOnField,\n      entry = _ref5.entry,\n      fields = _ref5.fields,\n      firstRow = _ref5.firstRow,\n      hasAnyActions = _ref5.hasAnyActions,\n      hasAnyExpansion = _ref5.hasAnyExpansion,\n      onSelect = _ref5.onSelect,\n      onToggle = _ref5.onToggle,\n      opened = _ref5.opened,\n      rowHeight = _ref5.rowHeight,\n      selectable = _ref5.selectable;\n  var hasExpansion = entry.expansion.content.length > 0;\n  var entryIndex = entry.index;\n  var handleToggle = useCallback(function () {\n    onToggle(entryIndex);\n  }, [entryIndex, onToggle]);\n  var handleSelectChange = useCallback(function (check) {\n    onSelect(entryIndex, check);\n  }, [entryIndex, onSelect]);\n  var cells = cellsFromEntry(entry, {\n    fields: fields,\n    hasAnyActions: hasAnyActions,\n    hasAnyExpansion: hasAnyExpansion,\n    hasExpansion: hasExpansion,\n    selectable: selectable,\n    toggleChildContent: hasAnyExpansion ? /*#__PURE__*/React.createElement(Toggle, {\n      opened: opened,\n      onToggle: handleToggle\n    }) : null,\n    selectContent: selectable ? /*#__PURE__*/React.createElement(Checkbox, {\n      onChange: handleSelectChange,\n      checked: entry.selected\n    }) : null\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EntryRow, {\n    cells: cells,\n    firstRow: firstRow,\n    rowHeight: rowHeight,\n    selected: entry.selected\n  }), hasExpansion && /*#__PURE__*/React.createElement(EntryExpansion, {\n    alignChildOnCell: alignChildOnField + 1,\n    cellsCount: cells.length,\n    expansion: entry.expansion,\n    opened: opened,\n    rowHeight: rowHeight\n  }));\n});\n\nvar _StyledTr = _styled(\"tr\").withConfig({\n  displayName: \"TableView___StyledTr\",\n  componentId: \"sc-1t132wa-2\"\n})([\"transition:background 150ms ease-in-out;background:\", \";\"], function (p) {\n  return p._css8;\n});\n\nvar _StyledTd = _styled(\"td\").withConfig({\n  displayName: \"TableView___StyledTd\",\n  componentId: \"sc-1t132wa-3\"\n})([\"position:relative;width:\", \";height:\", \"px;padding-top:0;padding-bottom:0;padding-left:\", \"px;padding-right:\", \"px;border-top:\", \";\"], function (p) {\n  return p._css9;\n}, function (p) {\n  return p._css10;\n}, function (p) {\n  return p._css11;\n}, function (p) {\n  return p._css12;\n}, function (p) {\n  return p._css13;\n});\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"TableView___StyledDiv\",\n  componentId: \"sc-1t132wa-4\"\n})([\"display:flex;width:100%;justify-content:\", \";\"], function (p) {\n  return p._css14;\n});\n\nfunction EntryRow(_ref6) {\n  var firstRow = _ref6.firstRow,\n      cells = _ref6.cells,\n      selected = _ref6.selected,\n      rowHeight = _ref6.rowHeight,\n      mode = _ref6.mode;\n  var theme = useTheme();\n  var sidePadding = useSidePadding();\n  return /*#__PURE__*/React.createElement(_StyledTr, {\n    _css8: selected ? theme.surfaceSelected : 'none'\n  }, cells.map(function (_ref7, index, cells) {\n    var _ref8 = _slicedToArray(_ref7, 3),\n        content = _ref8[0],\n        align = _ref8[1],\n        compact = _ref8[2];\n\n    var first = index === 0;\n    var last = index === cells.length - 1;\n    return /*#__PURE__*/React.createElement(_StyledTd, {\n      key: index,\n      _css9: compact ? '1px' // For some reason Blink tends to make 0 grow but not 1px\n      : 'auto',\n      _css10: rowHeight,\n      _css11: first || compact ? sidePadding : 0,\n      _css12: !first && (align !== 'end' || last) || compact ? sidePadding : 0,\n      _css13: firstRow ? '0' : \"1px solid \".concat(theme.border)\n    }, /*#__PURE__*/React.createElement(_StyledDiv, {\n      _css14: \"flex-\".concat(align)\n    }, content));\n  }));\n}\n\nvar _StyledTr2 = _styled(\"tr\").withConfig({\n  displayName: \"TableView___StyledTr2\",\n  componentId: \"sc-1t132wa-5\"\n})([\"td{position:relative;padding:0;box-shadow:inset 0 6px 4px -4px rgba(0,0,0,0.16);background:\", \";}\"], function (p) {\n  return p._css15;\n});\n\nvar _StyledAnimatedDiv = _styled(extendedAnimated.div).withConfig({\n  displayName: \"TableView___StyledAnimatedDiv\",\n  componentId: \"sc-1t132wa-6\"\n})([\"overflow:hidden\"]);\n\nvar _StyledDiv2 = _styled(\"div\").withConfig({\n  displayName: \"TableView___StyledDiv2\",\n  componentId: \"sc-1t132wa-7\"\n})([\"height:\", \";border-top:1px solid \", \";\"], function (p) {\n  return p._css16;\n}, function (p) {\n  return p._css17;\n});\n\nvar _StyledAnimatedDiv2 = _styled(extendedAnimated.div).withConfig({\n  displayName: \"TableView___StyledAnimatedDiv2\",\n  componentId: \"sc-1t132wa-8\"\n})([\"overflow:hidden\"]);\n\nvar _StyledDiv3 = _styled(\"div\").withConfig({\n  displayName: \"TableView___StyledDiv3\",\n  componentId: \"sc-1t132wa-9\"\n})([\"display:flex;align-items:center;height:\", \";padding-left:\", \"px;padding-right:\", \"px;border-top:1px solid \", \";\"], function (p) {\n  return p._css18;\n}, function (p) {\n  return p._css19;\n}, function (p) {\n  return p._css20;\n}, function (p) {\n  return p._css21;\n});\n\nfunction EntryExpansion(_ref9) {\n  var alignChildOnCell = _ref9.alignChildOnCell,\n      cellsCount = _ref9.cellsCount,\n      expansion = _ref9.expansion,\n      opened = _ref9.opened,\n      rowHeight = _ref9.rowHeight;\n  var theme = useTheme(); // Handles the height of the expansion in free layout mode\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      freeLayoutContentHeight = _useState4[0],\n      setFreeLayoutContentHeight = _useState4[1];\n\n  var handleFreeLayoutContentRef = useCallback(function (element) {\n    if (element) {\n      setFreeLayoutContentHeight(element.getBoundingClientRect().height);\n    }\n  }, []);\n  var height = expansion.freeLayout ? freeLayoutContentHeight : rowHeight * expansion.content.length;\n  return /*#__PURE__*/React.createElement(Transition, {\n    native: true,\n    unique: true,\n    items: opened,\n    from: {\n      height: 0\n    },\n    enter: {\n      height: height\n    },\n    update: {\n      height: height\n    },\n    leave: {\n      height: 0\n    },\n    config: _objectSpread({}, springs.smooth, {\n      precision: 0.1\n    })\n  }, function (show) {\n    return show && function (_ref10) {\n      var height = _ref10.height;\n      return /*#__PURE__*/React.createElement(_StyledTr2, {\n        _css15: theme.surfaceUnder\n      }, alignChildOnCell > 0 && /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: alignChildOnCell\n      }, /*#__PURE__*/React.createElement(OpenedSurfaceBorder, {\n        opened: opened\n      }), /*#__PURE__*/React.createElement(_StyledAnimatedDiv, {\n        style: {\n          height: height\n        }\n      }, expansion.content.map(function (child, i) {\n        return /*#__PURE__*/React.createElement(_StyledDiv2, {\n          key: i,\n          _css16: expansion.freeLayout ? 'auto' : \"\".concat(rowHeight, \"px\"),\n          _css17: theme.border\n        });\n      }))), /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: alignChildOnCell === -1 ? cellsCount : cellsCount - alignChildOnCell\n      }, alignChildOnCell === 0 && /*#__PURE__*/React.createElement(OpenedSurfaceBorder, {\n        opened: opened\n      }), /*#__PURE__*/React.createElement(_StyledAnimatedDiv2, {\n        style: {\n          height: height\n        }\n      }, expansion.content.map(function (child, i) {\n        return /*#__PURE__*/React.createElement(_StyledDiv3, {\n          key: i,\n          ref: expansion.freeLayout ? handleFreeLayoutContentRef : null,\n          _css18: expansion.freeLayout ? 'auto' : \"\".concat(rowHeight, \"px\"),\n          _css19: alignChildOnCell < 1 ? 3 * GU : 0,\n          _css20: 3 * GU,\n          _css21: theme.border\n        }, child);\n      }))));\n    };\n  });\n}\n\nvar _StyledDiv4 = _styled(\"div\").withConfig({\n  displayName: \"TableView___StyledDiv4\",\n  componentId: \"sc-1t132wa-10\"\n})([\"width:100%;height:100%;\"]);\n\nvar Toggle = React.memo(function Toggle(_ref11) {\n  var opened = _ref11.opened,\n      onToggle = _ref11.onToggle;\n  return /*#__PURE__*/React.createElement(_StyledDiv4, null, /*#__PURE__*/React.createElement(OpenedSurfaceBorder, {\n    opened: opened\n  }), /*#__PURE__*/React.createElement(ToggleButton, {\n    opened: opened,\n    onClick: onToggle\n  }));\n});\nexport { TableView };","map":null,"metadata":{},"sourceType":"module"}