{"ast":null,"code":"'use strict';\n\nvar multiaddr = require('multiaddr');\n\nvar errCode = require('err-code');\n\nvar _require = require('ip-address'),\n    Address4 = _require.Address4,\n    Address6 = _require.Address6;\n\nvar errors = {\n  ERR_INVALID_IP_PARAMETER: 'ERR_INVALID_IP_PARAMETER',\n  ERR_INVALID_PORT_PARAMETER: 'ERR_INVALID_PORT_PARAMETER',\n  ERR_INVALID_IP: 'ERR_INVALID_IP'\n};\n\nmodule.exports = function (ip, port) {\n  if (typeof ip !== 'string') {\n    throw errCode(new Error(\"invalid ip provided: \".concat(ip)), errors.ERR_INVALID_IP_PARAMETER);\n  }\n\n  port = parseInt(port);\n\n  if (isNaN(port)) {\n    throw errCode(new Error(\"invalid port provided: \".concat(port)), errors.ERR_INVALID_PORT_PARAMETER);\n  }\n\n  if (new Address4(ip).isValid()) {\n    return multiaddr(\"/ip4/\".concat(ip, \"/tcp/\").concat(port));\n  }\n\n  var ip6 = new Address6(ip);\n\n  if (ip6.isValid()) {\n    return ip6.is4() ? multiaddr(\"/ip4/\".concat(ip6.to4().correctForm(), \"/tcp/\").concat(port)) : multiaddr(\"/ip6/\".concat(ip, \"/tcp/\").concat(port));\n  }\n\n  throw errCode(new Error(\"invalid ip:port for creating a multiaddr: \".concat(ip, \":\").concat(port)), errors.ERR_INVALID_IP);\n};\n\nmodule.exports.Errors = errors;","map":null,"metadata":{},"sourceType":"script"}