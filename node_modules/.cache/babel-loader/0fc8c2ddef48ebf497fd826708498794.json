{"ast":null,"code":"import './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport { _ as _defineProperty } from './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport { _ as _inherits, a as _createClass, b as _classCallCheck, e as _assertThisInitialized, c as _getPrototypeOf, d as _possibleConstructorReturn } from './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport { unselectable } from './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport { _ as _objectWithoutProperties } from './objectWithoutProperties-234758e1.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { e as extendedAnimated, S as Spring } from './web-a351a0a1.js';\n\nfunction _createSuper(Derived) {\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (_isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar BAR_HEIGHT = 6;\nvar HANDLE_SIZE = 24;\nvar HANDLE_SHADOW_MARGIN = 15;\nvar PADDING = 5;\nvar MIN_WIDTH = HANDLE_SIZE * 10;\nvar HEIGHT = Math.max(HANDLE_SIZE, BAR_HEIGHT) + PADDING * 2; // The check on window.DOMRect is needed for the JSDOM environment, which has\n// window but not window.DOMRect. JSDOM is used by default in Jest.\n\nvar DEFAULT_RECT = typeof window === 'undefined' || typeof window.DOMRect !== 'function' ? {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n} : new window.DOMRect();\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"Slider___StyledDiv\",\n  componentId: \"sc-17waq4t-0\"\n})([\"min-width:\", \"px;padding:0 \", \"px;\", \";\"], MIN_WIDTH, function (p) {\n  return p._css;\n}, unselectable);\n\nvar _StyledDiv2 = _styled(\"div\").withConfig({\n  displayName: \"Slider___StyledDiv2\",\n  componentId: \"sc-17waq4t-1\"\n})([\"position:relative;height:\", \"px;cursor:pointer;\"], HEIGHT);\n\nvar _StyledAnimatedDiv = _styled(extendedAnimated.div).withConfig({\n  displayName: \"Slider___StyledAnimatedDiv\",\n  componentId: \"sc-17waq4t-2\"\n})([\"position:absolute;top:50%;left:0;width:\", \"px;height:\", \"px;border:1px solid \", \";border-radius:50%;cursor:pointer;pointer-events:auto;\"], HANDLE_SIZE, HANDLE_SIZE, function (p) {\n  return p._css4;\n});\n\nvar Slider = /*#__PURE__*/function (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  var _super = _createSuper(Slider);\n\n  function Slider() {\n    var _this;\n\n    _classCallCheck(this, Slider);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      pressed: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRef\", function (element) {\n      _this._mainElement = element;\n      _this._document = element && element.ownerDocument;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getRect\", function () {\n      var now = Date.now(); // Cache the rect if the last poll was less than a second ago\n\n      if (_this._lastRect && now - _this._lastRectTime < 1000) {\n        return _this._lastRect;\n      }\n\n      _this._lastRectTime = now;\n      _this._lastRect = _this._mainElement ? _this._mainElement.getBoundingClientRect() : DEFAULT_RECT;\n      return _this._lastRect;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragStart\", function (event) {\n      _this.dragStop();\n\n      var clientX = _this.clientXFromEvent(event);\n\n      _this.setState({\n        pressed: true\n      }, function () {\n        _this.updateValueFromClientX(clientX);\n      });\n\n      _this._document.addEventListener('mouseup', _this.dragStop);\n\n      _this._document.addEventListener('touchend', _this.dragStop);\n\n      _this._document.addEventListener('mousemove', _this.dragMove);\n\n      _this._document.addEventListener('touchmove', _this.dragMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragStop\", function () {\n      _this.setState({\n        pressed: false\n      });\n\n      _this._document.removeEventListener('mouseup', _this.dragStop);\n\n      _this._document.removeEventListener('touchend', _this.dragStop);\n\n      _this._document.removeEventListener('mousemove', _this.dragMove);\n\n      _this._document.removeEventListener('touchmove', _this.dragMove);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragMove\", function (event) {\n      if (!_this.state.pressed) {\n        return;\n      }\n\n      _this.updateValueFromClientX(_this.clientXFromEvent(event));\n    });\n\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.dragStop();\n    }\n  }, {\n    key: \"clientXFromEvent\",\n    value: function clientXFromEvent(event) {\n      return (event.touches ? event.touches.item(0) : event).clientX;\n    }\n  }, {\n    key: \"updateValueFromClientX\",\n    value: function updateValueFromClientX(clientX) {\n      var rect = this.getRect();\n      var x = Math.min(rect.width, Math.max(0, clientX - rect.x));\n      this.props.onUpdate(x / rect.width);\n    }\n  }, {\n    key: \"getHandleStyles\",\n    value: function getHandleStyles(pressProgress) {\n      return {\n        transform: pressProgress.interpolate(function (t) {\n          return \"translate3d(0, calc(\".concat(t * 0.5, \"px - 50%), 0)\");\n        }),\n        boxShadow: pressProgress.interpolate(function (t) {\n          return \"0 1px 3px rgba(0, 0, 0, \".concat(0.1 - 0.02 * t, \")\");\n        }),\n        background: pressProgress.interpolate(function (t) {\n          return \"hsl(0, 0%, \".concat(100 * (1 - t * 0.01), \"%)\");\n        })\n      };\n    }\n  }, {\n    key: \"getHandlePositionStyles\",\n    value: function getHandlePositionStyles(value) {\n      return {\n        transform: value.interpolate(function (t) {\n          return \"translate3d(calc(\".concat(t * 100, \"% + \").concat(HANDLE_SHADOW_MARGIN, \"px), 0, 0)\");\n        })\n      };\n    }\n  }, {\n    key: \"getActiveBarStyles\",\n    value: function getActiveBarStyles(value, pressProgress) {\n      return {\n        transform: value.interpolate(function (t) {\n          return \"scaleX(\".concat(t, \") translateZ(0)\");\n        })\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var pressed = this.state.pressed;\n\n      var _this$props = this.props,\n          onUpdate = _this$props.onUpdate,\n          value = _this$props.value,\n          theme = _this$props.theme,\n          props = _objectWithoutProperties(_this$props, [\"onUpdate\", \"value\", \"theme\"]);\n\n      return /*#__PURE__*/React.createElement(Spring, {\n        native: true,\n        config: springs.swift,\n        to: {\n          pressProgress: Number(pressed),\n          value: Math.max(0, Math.min(1, value))\n        }\n      }, function (_ref) {\n        var value = _ref.value,\n            pressProgress = _ref.pressProgress;\n        return /*#__PURE__*/React.createElement(_StyledDiv, _extends({}, props, {\n          _css: HANDLE_SIZE / 2 + PADDING\n        }), /*#__PURE__*/React.createElement(_StyledDiv2, {\n          ref: _this2.handleRef,\n          onMouseDown: _this2.dragStart,\n          onTouchStart: _this2.dragStart\n        }, /*#__PURE__*/React.createElement(Bars, null, /*#__PURE__*/React.createElement(_StyledBar, {\n          _css2: theme.surfaceUnder\n        }), /*#__PURE__*/React.createElement(_StyledBar2, {\n          style: _this2.getActiveBarStyles(value, pressProgress),\n          _css3: theme.selected\n        })), /*#__PURE__*/React.createElement(HandleClip, null, /*#__PURE__*/React.createElement(HandlePosition, {\n          style: _this2.getHandlePositionStyles(value, pressProgress)\n        }, /*#__PURE__*/React.createElement(_StyledAnimatedDiv, {\n          style: _this2.getHandleStyles(pressProgress),\n          _css4: theme.border\n        })))));\n      });\n    }\n  }]);\n\n  return Slider;\n}(React.Component);\n\n_defineProperty(Slider, \"propTypes\", {\n  value: PropTypes.number,\n  onUpdate: PropTypes.func,\n  theme: PropTypes.object\n});\n\n_defineProperty(Slider, \"defaultProps\", {\n  value: 0,\n  onUpdate: function onUpdate() {}\n});\n\nvar Bars = _styled(extendedAnimated.div).withConfig({\n  displayName: \"Slider__Bars\",\n  componentId: \"sc-17waq4t-3\"\n})([\"position:absolute;left:0;right:0;top:50%;transform:translateY(-50%);overflow:hidden;border-radius:2px;height:\", \"px;\"], BAR_HEIGHT);\n\nvar Bar = _styled(extendedAnimated.div).withConfig({\n  displayName: \"Slider__Bar\",\n  componentId: \"sc-17waq4t-4\"\n})([\"position:absolute;top:0;left:0;right:0;bottom:0;\"]);\n\nvar _StyledBar2 = _styled(Bar).withConfig({\n  displayName: \"Slider___StyledBar2\",\n  componentId: \"sc-17waq4t-5\"\n})([\"transform-origin:0 0;background:\", \";\"], function (p) {\n  return p._css3;\n});\n\nvar _StyledBar = _styled(Bar).withConfig({\n  displayName: \"Slider___StyledBar\",\n  componentId: \"sc-17waq4t-6\"\n})([\"background:\", \";\"], function (p) {\n  return p._css2;\n});\n\nvar HandleClip = _styled.div.withConfig({\n  displayName: \"Slider__HandleClip\",\n  componentId: \"sc-17waq4t-7\"\n})([\"pointer-events:none;overflow:hidden;width:calc(100% + \", \"px);height:calc(100% + \", \"px);transform-origin:50% 50%;transform:translate( -\", \"px,-\", \"px );\"], HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2, HANDLE_SHADOW_MARGIN * 2, HANDLE_SIZE / 2 + HANDLE_SHADOW_MARGIN, HANDLE_SHADOW_MARGIN);\n\nvar HandlePosition = _styled(extendedAnimated.div).withConfig({\n  displayName: \"Slider__HandlePosition\",\n  componentId: \"sc-17waq4t-8\"\n})([\"width:calc(100% - \", \"px);height:100%;transform-origin:50% 50%;\"], HANDLE_SIZE + HANDLE_SHADOW_MARGIN * 2);\n\nvar Slider$1 = function Slider$1(props) {\n  var theme = useTheme();\n  return /*#__PURE__*/React.createElement(Slider, _extends({\n    theme: theme\n  }, props));\n};\n\nexport default Slider$1;","map":null,"metadata":{},"sourceType":"module"}