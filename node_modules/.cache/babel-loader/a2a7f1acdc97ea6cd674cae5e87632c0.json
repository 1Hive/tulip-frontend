{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst lower_bound_1 = require(\"./lower-bound\");\n\nclass PriorityQueue {\n  constructor() {\n    this._queue = [];\n  }\n\n  enqueue(run, options) {\n    options = Object.assign({\n      priority: 0\n    }, options);\n    const element = {\n      priority: options.priority,\n      run\n    };\n\n    if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n      this._queue.push(element);\n\n      return;\n    }\n\n    const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n\n    this._queue.splice(index, 0, element);\n  }\n\n  dequeue() {\n    const item = this._queue.shift();\n\n    return item === null || item === void 0 ? void 0 : item.run;\n  }\n\n  filter(options) {\n    return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n  }\n\n  get size() {\n    return this._queue.length;\n  }\n\n}\n\nexports.default = PriorityQueue;","map":null,"metadata":{},"sourceType":"script"}