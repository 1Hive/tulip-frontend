{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./slicedToArray-a8a77f0e.js');\n\nrequire('./unsupportedIterableToArray-f175acfa.js');\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nrequire('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nrequire('./toConsumableArray-cc0d28a9.js');\n\nvar _styled = require('styled-components');\n\nrequire('./getPrototypeOf-55c9e80c.js');\n\nrequire('./color.js');\n\nrequire('./css.js');\n\nrequire('./miscellaneous.js');\n\nrequire('./environment.js');\n\nrequire('./font.js');\n\nrequire('./keycodes.js');\n\nrequire('./constants.js');\n\nrequire('./breakpoints.js');\n\nrequire('./text-styles.js');\n\nrequire('./theme-dark.js');\n\nrequire('./theme-light.js');\n\nvar Theme = require('./Theme.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nvar objectWithoutProperties = require('./objectWithoutProperties-c6d3675c.js');\n\nrequire('./index-4def0554.js');\n\nrequire('./_baseGetTag-42b4dd3e.js');\n\nrequire('./Viewport-819c53c9.js');\n\nrequire('./Layout.js');\n\nrequire('./FocusVisible.js');\n\nrequire('./ButtonBase.js');\n\nrequire('./IconPropTypes-12cd7567.js');\n\nvar IconCross = require('./IconCross.js');\n\nvar IconSearch = require('./IconSearch.js');\n\nrequire('./Button.js');\n\nvar ButtonIcon = require('./ButtonIcon.js');\n\nvar TextInput = require('./TextInput.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar _styled__default = /*#__PURE__*/_interopDefaultLegacy(_styled);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty.defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar EMPTY = '';\n\nvar _StyledIconSearch = _styled__default['default'](IconSearch.default).withConfig({\n  displayName: \"SearchInput___StyledIconSearch\",\n  componentId: \"sc-13u679s-0\"\n})([\"color:\", \";\"], function (p) {\n  return p._css;\n});\n\nvar _StyledButtonIcon = _styled__default['default'](ButtonIcon.default).withConfig({\n  displayName: \"SearchInput___StyledButtonIcon\",\n  componentId: \"sc-13u679s-1\"\n})([\"color:\", \";\"], function (p) {\n  return p._css2;\n});\n\nvar SearchInput = /*#__PURE__*/React__default['default'].forwardRef(function (_ref2, ref) {\n  var onChange = _ref2.onChange,\n      props = objectWithoutProperties.objectWithoutProperties(_ref2, [\"onChange\"]);\n  var theme = Theme.useTheme();\n  var fallbackRef = React.useRef();\n\n  var _ref = ref || fallbackRef;\n\n  var handleChange = React.useCallback(function (ev) {\n    var value = ev.currentTarget.value;\n    onChange(value, {\n      inputChangeEvent: ev\n    });\n  }, [onChange]);\n  var handleClearClick = React.useCallback(function (ev) {\n    onChange(EMPTY, {\n      clearClickEvent: ev\n    });\n\n    if (_ref.current) {\n      _ref.current.focus();\n    }\n  }, [onChange, _ref]);\n  return /*#__PURE__*/React__default['default'].createElement(TextInput.default, _extends._extends_1({\n    ref: _ref,\n    adornment: (props.value || '') === EMPTY ? /*#__PURE__*/React__default['default'].createElement(_StyledIconSearch, {\n      _css: theme.surfaceIcon\n    }) : /*#__PURE__*/React__default['default'].createElement(_StyledButtonIcon, {\n      onClick: handleClearClick,\n      label: \"Clear search input\",\n      _css2: theme.surfaceIcon\n    }, /*#__PURE__*/React__default['default'].createElement(IconCross.default, null)),\n    adornmentPosition: \"end\",\n    onChange: handleChange\n  }, props));\n});\nSearchInput.propTypes = _objectSpread({}, TextInput.default.propTypes);\nexports.default = SearchInput;","map":{"version":3,"sources":["../src/components/Input/SearchInput.js"],"names":["EMPTY","SearchInput","onChange","props","theme","useTheme","fallbackRef","useRef","_ref","ref","handleChange","useCallback","value","ev","inputChangeEvent","handleClearClick","clearClickEvent","TextInput","surfaceIcon","React","IconCross"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,KAAK,GAAX,EAAA;;;;;;;;;;;;;;;;IAEMC,WAAW,GAAA,aAAG,cAAA,CAAA,SAAA,CAAA,CAAA,UAAA,CAAiB,UAAA,KAAA,EAAA,GAAA,EAAiC;AAAA,MAA9BC,QAA8B,GAAA,KAAA,CAA9BA,QAA8B;AAAA,MAAjBC,KAAiB,GAAA,uBAAA,CAAA,uBAAA,CAAA,KAAA,EAAA,CAAA,UAAA,CAAA,CAAA;AACpE,MAAMC,KAAK,GAAGC,KAAAA,CAAd,QAAcA,EAAd;AACA,MAAMC,WAAW,GAAGC,KAAAA,CAApB,MAAoBA,EAApB;;AACA,MAAMC,IAAI,GAAGC,GAAG,IAAhB,WAAA;;AAEA,MAAMC,YAAY,GAAGC,KAAAA,CAAAA,WAAAA,CACnB,UAAA,EAAA,EAAM;AAAA,QACIC,KADJ,GACcC,EAAE,CADhB,aACcA,CADd,KAAA;AAEJX,IAAAA,QAAQ,CAAA,KAAA,EAAQ;AAAEY,MAAAA,gBAAgB,EAAED;AAApB,KAAR,CAARX;AAH4B,GAAXS,EAKnB,CALF,QAKE,CALmBA,CAArB;AAQA,MAAMI,gBAAgB,GAAGJ,KAAAA,CAAAA,WAAAA,CACvB,UAAA,EAAA,EAAM;AACJT,IAAAA,QAAQ,CAAA,KAAA,EAAQ;AAAEc,MAAAA,eAAe,EAAEH;AAAnB,KAAR,CAARX;;AACA,QAAIM,IAAI,CAAR,OAAA,EAAkB;AAChBA,MAAAA,IAAI,CAAJA,OAAAA,CAAAA,KAAAA;AACD;AAL+B,GAAXG,EAOvB,CAAA,QAAA,EAPF,IAOE,CAPuBA,CAAzB;AAUA,SAAA,aACE,cAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAACM,SAAAA,CAAD,OAAA,EAAA,QAAA,CAAA,UAAA,CAAA;AACE,IAAA,GAAG,EADL,IAAA;AAEE,IAAA,SAAS,EACP,CAACd,KAAK,CAALA,KAAAA,IAAD,EAAA,MAAA,KAAA,GAAA,aACE,cAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAA,iBAAA,EAAA;AAAA,MAAA,IAAA,EAEaC,KAAK,CAACc;AAFnB,KAAA,CADF,GAAA,aAOE,cAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAA,iBAAA,EAAA;AACE,MAAA,OAAO,EADT,gBAAA;AAEE,MAAA,KAAK,EAFP,oBAAA;AAAA,MAAA,KAAA,EAIad,KAAK,CAACc;AAJnB,KAAA,EAAA,aAOEC,cAAAA,CAAAA,SAAAA,CAAAA,CAAAA,aAAAA,CAACC,SAAAA,CAADD,OAAAA,EAjBR,IAiBQA,CAPF,CAVN;AAqBE,IAAA,iBAAiB,EArBnB,KAAA;AAsBE,IAAA,QAAQ,EAAET;AAtBZ,GAAA,EADF,KACE,CAAA,CADF;AAvBkB,CAAA,C;AAoDpBT,WAAW,CAAXA,SAAAA,GAAAA,aAAAA,CAAAA,EAAAA,EACKgB,SAAAA,CAAAA,OAAAA,CADLhB,SAAAA,CAAAA","sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport ButtonIcon from '../Button/ButtonIcon'\nimport TextInput from './TextInput'\nimport { IconSearch, IconCross } from '../../icons'\nimport { useTheme } from '../../theme'\n\nconst EMPTY = ''\n\nconst SearchInput = React.forwardRef(({ onChange, ...props }, ref) => {\n  const theme = useTheme()\n  const fallbackRef = useRef()\n  const _ref = ref || fallbackRef\n\n  const handleChange = useCallback(\n    ev => {\n      const { value } = ev.currentTarget\n      onChange(value, { inputChangeEvent: ev })\n    },\n    [onChange]\n  )\n\n  const handleClearClick = useCallback(\n    ev => {\n      onChange(EMPTY, { clearClickEvent: ev })\n      if (_ref.current) {\n        _ref.current.focus()\n      }\n    },\n    [onChange, _ref]\n  )\n\n  return (\n    <TextInput\n      ref={_ref}\n      adornment={\n        (props.value || '') === EMPTY ? (\n          <IconSearch\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          />\n        ) : (\n          <ButtonIcon\n            onClick={handleClearClick}\n            label=\"Clear search input\"\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          >\n            <IconCross />\n          </ButtonIcon>\n        )\n      }\n      adornmentPosition=\"end\"\n      onChange={handleChange}\n      {...props}\n    />\n  )\n})\n\nSearchInput.propTypes = {\n  ...TextInput.propTypes,\n}\n\nexport default SearchInput\n"]},"metadata":{},"sourceType":"script"}