{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _createForOfIteratorHelper = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _inherits = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _wrapNativeSuper = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar AggregateError = require('aggregate-error');\n\nvar PCancelable = require('p-cancelable');\n\nvar FilterError = /*#__PURE__*/function (_Error) {\n  _inherits(FilterError, _Error);\n\n  var _super = _createSuper(FilterError);\n\n  function FilterError() {\n    _classCallCheck(this, FilterError);\n\n    return _super.apply(this, arguments);\n  }\n\n  return FilterError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar pSome = function pSome(iterable, options) {\n  return new PCancelable(function (resolve, reject, onCancel) {\n    var count = options.count,\n        _options$filter = options.filter,\n        filter = _options$filter === void 0 ? function () {\n      return true;\n    } : _options$filter;\n\n    if (!Number.isFinite(count)) {\n      reject(new TypeError(\"Expected a finite number, got \".concat(typeof options.count)));\n      return;\n    }\n\n    var values = [];\n    var errors = [];\n    var elementCount = 0;\n    var isSettled = false;\n    var completed = new Set();\n\n    var maybeSettle = function maybeSettle() {\n      if (values.length === count) {\n        resolve(values);\n        isSettled = true;\n      }\n\n      if (elementCount - errors.length < count) {\n        reject(new AggregateError(errors));\n        isSettled = true;\n      }\n\n      return isSettled;\n    };\n\n    var cancelPending = function cancelPending() {\n      var _iterator = _createForOfIteratorHelper(iterable),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var promise = _step.value;\n\n          if (!completed.has(promise) && typeof promise.cancel === 'function') {\n            promise.cancel();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n\n    onCancel(cancelPending);\n\n    var _iterator2 = _createForOfIteratorHelper(iterable),\n        _step2;\n\n    try {\n      var _loop = function _loop() {\n        var element = _step2.value;\n        elementCount++;\n\n        _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var value;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return element;\n\n                case 3:\n                  value = _context.sent;\n\n                  if (!isSettled) {\n                    _context.next = 6;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 6:\n                  if (filter(value)) {\n                    _context.next = 8;\n                    break;\n                  }\n\n                  throw new FilterError('Value does not satisfy filter');\n\n                case 8:\n                  values.push(value);\n                  _context.next = 14;\n                  break;\n\n                case 11:\n                  _context.prev = 11;\n                  _context.t0 = _context[\"catch\"](0);\n                  errors.push(_context.t0);\n\n                case 14:\n                  _context.prev = 14;\n                  completed.add(element);\n\n                  if (!isSettled && maybeSettle()) {\n                    cancelPending();\n                  }\n\n                  return _context.finish(14);\n\n                case 18:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 11, 14, 18]]);\n        }))();\n      };\n\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    if (count > elementCount) {\n      reject(new RangeError(\"Expected input to contain at least \".concat(options.count, \" items, but contains \").concat(elementCount, \" items\")));\n      cancelPending();\n    }\n  });\n};\n\nmodule.exports = pSome;\nmodule.exports.AggregateError = AggregateError;\nmodule.exports.FilterError = FilterError;","map":null,"metadata":{},"sourceType":"script"}