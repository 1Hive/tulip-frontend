{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nvar _styled = require('styled-components');\n\nvar getPrototypeOf = require('./getPrototypeOf-55c9e80c.js');\n\nrequire('./miscellaneous.js');\n\nrequire('./environment.js');\n\nvar springs = require('./springs.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nrequire('./objectWithoutPropertiesLoose-1af20ad0.js');\n\nrequire('react-dom');\n\nvar web = require('./web-7cbdbd84.js');\n\nvar LeftIcon = require('./LeftIcon.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar _styled__default = /*#__PURE__*/_interopDefaultLegacy(_styled);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty.defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf.getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf.getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return getPrototypeOf.possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar NavigationBar = /*#__PURE__*/function (_React$Component) {\n  getPrototypeOf.inherits(NavigationBar, _React$Component);\n\n  var _super = _createSuper(NavigationBar);\n\n  function NavigationBar() {\n    var _this;\n\n    getPrototypeOf.classCallCheck(this, NavigationBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    defineProperty.defineProperty(getPrototypeOf.assertThisInitialized(_this), \"state\", {\n      cachedItems: null,\n      direction: -1\n    });\n    return _this;\n  }\n\n  getPrototypeOf.createClass(NavigationBar, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onBack = _this$props.onBack,\n          items = _this$props.items,\n          compact = _this$props.compact;\n      var displayedItems = items.map(function (node, index) {\n        return {\n          node: node,\n          index: index\n        };\n      }).slice(-1);\n      return /*#__PURE__*/React__default['default'].createElement(Container, null, /*#__PURE__*/React__default['default'].createElement(web.Transition, {\n        items: displayedItems,\n        keys: displayedItems.map( // Use a different key than 0 when there is only one item, so that\n        // the “leave” transition of the first item can be executed when a\n        // second item is added.\n        function (item) {\n          return items.length === 1 ? -1 : item.index;\n        }),\n        config: springs.springs.smooth,\n        initial: null,\n        from: {\n          opacity: 0,\n          position: this.state.direction * -1\n        },\n        enter: {\n          opacity: 1,\n          position: 0\n        },\n        leave: {\n          opacity: 0,\n          position: this.state.direction\n        },\n        native: true\n      }, function (item) {\n        return function (styles) {\n          return /*#__PURE__*/React__default['default'].createElement(Item, _extends._extends_1({\n            label: item.node,\n            onBack: onBack,\n            displayBack: item.index > 0,\n            compact: compact\n          }, styles));\n        };\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var updatedState = {\n        cachedItems: props.items\n      };\n\n      if (!state.cachedItems) {\n        return updatedState;\n      }\n\n      return _objectSpread(_objectSpread({}, updatedState), {}, {\n        direction: state.cachedItems.length > props.items.length ? 1 : -1\n      });\n    }\n  }]);\n  return NavigationBar;\n}(React__default['default'].Component);\n\ndefineProperty.defineProperty(NavigationBar, \"propTypes\", {\n  onBack: index.propTypes.func,\n  items: index.propTypes.arrayOf(index.propTypes.node),\n  compact: index.propTypes.bool\n});\ndefineProperty.defineProperty(NavigationBar, \"defaultProps\", {\n  onBack: function onBack() {},\n  items: [],\n  compact: false\n});\n\nvar Item = function Item(_ref) {\n  var opacity = _ref.opacity,\n      position = _ref.position,\n      displayBack = _ref.displayBack,\n      onBack = _ref.onBack,\n      label = _ref.label,\n      compact = _ref.compact;\n  return /*#__PURE__*/React__default['default'].createElement(web.extendedAnimated.span, {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      opacity: opacity,\n      transform: position.interpolate(function (p) {\n        return \"translate(\".concat(p * 20, \"px, 0)\");\n      })\n    }\n  }, /*#__PURE__*/React__default['default'].createElement(Title, null, displayBack && /*#__PURE__*/React__default['default'].createElement(BackButton, {\n    onClick: onBack,\n    compact: compact\n  }, /*#__PURE__*/React__default['default'].createElement(LeftIcon.default, null)), /*#__PURE__*/React__default['default'].createElement(Label, null, label)));\n};\n\nItem.propTypes = {\n  compact: index.propTypes.bool,\n  displayBack: index.propTypes.bool,\n  label: index.propTypes.node,\n  onBack: index.propTypes.func,\n  opacity: index.propTypes.object,\n  position: index.propTypes.object\n};\n\nvar Container = _styled__default['default'].span.withConfig({\n  displayName: \"NavigationBar__Container\",\n  componentId: \"pd4tzi-0\"\n})([\"display:flex;position:relative;height:100%;\"]);\n\nvar Title = _styled__default['default'].span.withConfig({\n  displayName: \"NavigationBar__Title\",\n  componentId: \"pd4tzi-1\"\n})([\"display:flex;align-items:center;position:absolute;left:0;top:0;bottom:0;\"]);\n\nvar Label = _styled__default['default'].span.withConfig({\n  displayName: \"NavigationBar__Label\",\n  componentId: \"pd4tzi-2\"\n})([\"display:flex;height:100%;align-items:center;padding-left:30px;white-space:nowrap;font-size:22px;\"]);\n\nvar BackButton = _styled__default['default'].span.withConfig({\n  displayName: \"NavigationBar__BackButton\",\n  componentId: \"pd4tzi-3\"\n})([\"display:flex;align-items:center;height:63px;padding:\", \";cursor:pointer;svg{color:hsl(179,76%,48%);}:active svg{color:hsl(179,76%,63%);}& + \", \"{padding-left:0;}\"], function (p) {\n  return p.compact ? '0 16px' : '0 20px 0 30px';\n}, Label);\n\nexports.default = NavigationBar;","map":{"version":3,"sources":["../src/components/NavigationBar/NavigationBar.js"],"names":["NavigationBar","React","Component","onBack","PropTypes","items","compact","bool","cachedItems","direction","props","state","updatedState","displayedItems","node","index","Transition","item","springs","opacity","position","Item","displayBack","label","animated","display","alignItems","transform","p","LeftIcon","object","Container","styled","Title","Label","BackButton"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { Transition, animated } from 'react-spring'\nimport { springs } from '../../style'\nimport LeftIcon from './LeftIcon'\n\nclass NavigationBar extends React.Component {\n  static propTypes = {\n    onBack: PropTypes.func,\n    items: PropTypes.arrayOf(PropTypes.node),\n    compact: PropTypes.bool,\n  }\n  static defaultProps = {\n    onBack: () => {},\n    items: [],\n    compact: false,\n  }\n  state = {\n    cachedItems: null,\n    direction: -1,\n  }\n  static getDerivedStateFromProps(props, state) {\n    const updatedState = { cachedItems: props.items }\n    if (!state.cachedItems) {\n      return updatedState\n    }\n    return {\n      ...updatedState,\n      direction: state.cachedItems.length > props.items.length ? 1 : -1,\n    }\n  }\n  render() {\n    const { onBack, items, compact } = this.props\n    const displayedItems = items\n      .map((node, index) => ({ node, index }))\n      .slice(-1)\n    return (\n      <Container>\n        <Transition\n          items={displayedItems}\n          keys={displayedItems.map(\n            // Use a different key than 0 when there is only one item, so that\n            // the “leave” transition of the first item can be executed when a\n            // second item is added.\n            item => (items.length === 1 ? -1 : item.index)\n          )}\n          config={springs.smooth}\n          initial={null}\n          from={{ opacity: 0, position: this.state.direction * -1 }}\n          enter={{ opacity: 1, position: 0 }}\n          leave={{ opacity: 0, position: this.state.direction }}\n          native\n        >\n          {item => styles => (\n            <Item\n              label={item.node}\n              onBack={onBack}\n              displayBack={item.index > 0}\n              compact={compact}\n              {...styles}\n            />\n          )}\n        </Transition>\n      </Container>\n    )\n  }\n}\n\nconst Item = ({ opacity, position, displayBack, onBack, label, compact }) => (\n  <animated.span\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      opacity,\n      transform: position.interpolate(p => `translate(${p * 20}px, 0)`),\n    }}\n  >\n    <Title>\n      {displayBack && (\n        <BackButton onClick={onBack} compact={compact}>\n          <LeftIcon />\n        </BackButton>\n      )}\n      <Label>{label}</Label>\n    </Title>\n  </animated.span>\n)\n\nItem.propTypes = {\n  compact: PropTypes.bool,\n  displayBack: PropTypes.bool,\n  label: PropTypes.node,\n  onBack: PropTypes.func,\n  opacity: PropTypes.object,\n  position: PropTypes.object,\n}\n\nconst Container = styled.span`\n  display: flex;\n  position: relative;\n  height: 100%;\n`\n\nconst Title = styled.span`\n  display: flex;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n`\n\nconst Label = styled.span`\n  display: flex;\n  height: 100%;\n  align-items: center;\n  padding-left: 30px;\n  white-space: nowrap;\n  font-size: 22px;\n`\n\nconst BackButton = styled.span`\n  display: flex;\n  align-items: center;\n  height: 63px;\n  padding: ${p => (p.compact ? '0 16px' : '0 20px 0 30px')};\n  cursor: pointer;\n  svg {\n    color: hsl(179, 76%, 48%);\n  }\n  :active svg {\n    color: hsl(179, 76%, 63%);\n  }\n  & + ${Label} {\n    padding-left: 0;\n  }\n`\n\nexport default NavigationBar\n"]},"metadata":{},"sourceType":"script"}