{"ast":null,"code":"import{useCallback,useRef}from'react';import{useHistory,useLocation}from'react-router-dom';// Preferences base query string\nvar GLOBAL_PREFERENCES_QUERY_PARAM='?preferences=';export function getPreferencesSearch(screen){return\"\".concat(GLOBAL_PREFERENCES_QUERY_PARAM).concat(screen);}function parsePreferences(){var search=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var searchParams=new URLSearchParams(search);return{screen:searchParams.get('preferences')};}/**\r\n * Hook to interact with the preferences\r\n * @returns {Array} [open preferences handler, close preferences handler, current preference screen]\r\n */export default function usePreferences(){// We need to keep track of the path where the preference was called in order to return to the same path when the preference modal is closed\nvar _useLocation=useLocation(),basePath=_useLocation.pathname,search=_useLocation.search;var history=useHistory();var _parsePreferences=parsePreferences(search),screen=_parsePreferences.screen;var preferenceScreen=useRef(screen);var handleOpenPreferences=useCallback(function(screen){preferenceScreen.current=screen;var fullPath=basePath+getPreferencesSearch(preferenceScreen.current);history.push(fullPath);},[basePath,history]);var handleClosePreferences=useCallback(function(){preferenceScreen.current='';history.push(basePath);},[basePath,history]);return[handleOpenPreferences,handleClosePreferences,preferenceScreen.current];}","map":{"version":3,"sources":["/Users/fabianmolina/Documents/1hive/tulip-frontend/src/hooks/usePreferences.js"],"names":["useCallback","useRef","useHistory","useLocation","GLOBAL_PREFERENCES_QUERY_PARAM","getPreferencesSearch","screen","parsePreferences","search","searchParams","URLSearchParams","get","usePreferences","basePath","pathname","history","preferenceScreen","handleOpenPreferences","current","fullPath","push","handleClosePreferences"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,MAAtB,KAAoC,OAApC,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,kBAAxC,CAEA;AACA,GAAMC,CAAAA,8BAA8B,CAAG,eAAvC,CAEA,MAAO,SAASC,CAAAA,oBAAT,CAA8BC,MAA9B,CAAsC,CAC3C,gBAAUF,8BAAV,SAA2CE,MAA3C,EACD,CAED,QAASC,CAAAA,gBAAT,EAAuC,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CACrC,GAAMC,CAAAA,YAAY,CAAG,GAAIC,CAAAA,eAAJ,CAAoBF,MAApB,CAArB,CAEA,MAAO,CACLF,MAAM,CAAEG,YAAY,CAACE,GAAb,CAAiB,aAAjB,CADH,CAAP,CAGD,CAED;AACA;AACA;AACA,GACA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACvC;AADuC,iBAEAT,WAAW,EAFX,CAErBU,QAFqB,cAE/BC,QAF+B,CAEXN,MAFW,cAEXA,MAFW,CAGvC,GAAMO,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CAHuC,sBAKpBK,gBAAgB,CAACC,MAAD,CALI,CAK/BF,MAL+B,mBAK/BA,MAL+B,CAOvC,GAAMU,CAAAA,gBAAgB,CAAGf,MAAM,CAACK,MAAD,CAA/B,CAEA,GAAMW,CAAAA,qBAAqB,CAAGjB,WAAW,CACvC,SAAAM,MAAM,CAAI,CACRU,gBAAgB,CAACE,OAAjB,CAA2BZ,MAA3B,CACA,GAAMa,CAAAA,QAAQ,CAAGN,QAAQ,CAAGR,oBAAoB,CAACW,gBAAgB,CAACE,OAAlB,CAAhD,CACAH,OAAO,CAACK,IAAR,CAAaD,QAAb,EACD,CALsC,CAMvC,CAACN,QAAD,CAAWE,OAAX,CANuC,CAAzC,CASA,GAAMM,CAAAA,sBAAsB,CAAGrB,WAAW,CAAC,UAAM,CAC/CgB,gBAAgB,CAACE,OAAjB,CAA2B,EAA3B,CACAH,OAAO,CAACK,IAAR,CAAaP,QAAb,EACD,CAHyC,CAGvC,CAACA,QAAD,CAAWE,OAAX,CAHuC,CAA1C,CAKA,MAAO,CACLE,qBADK,CAELI,sBAFK,CAGLL,gBAAgB,CAACE,OAHZ,CAAP,CAKD","sourcesContent":["import { useCallback, useRef } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\n// Preferences base query string\r\nconst GLOBAL_PREFERENCES_QUERY_PARAM = '?preferences='\r\n\r\nexport function getPreferencesSearch(screen) {\r\n  return `${GLOBAL_PREFERENCES_QUERY_PARAM}${screen}`\r\n}\r\n\r\nfunction parsePreferences(search = '') {\r\n  const searchParams = new URLSearchParams(search)\r\n\r\n  return {\r\n    screen: searchParams.get('preferences'),\r\n  }\r\n}\r\n\r\n/**\r\n * Hook to interact with the preferences\r\n * @returns {Array} [open preferences handler, close preferences handler, current preference screen]\r\n */\r\nexport default function usePreferences() {\r\n  // We need to keep track of the path where the preference was called in order to return to the same path when the preference modal is closed\r\n  const { pathname: basePath, search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const { screen } = parsePreferences(search)\r\n\r\n  const preferenceScreen = useRef(screen)\r\n\r\n  const handleOpenPreferences = useCallback(\r\n    screen => {\r\n      preferenceScreen.current = screen\r\n      const fullPath = basePath + getPreferencesSearch(preferenceScreen.current)\r\n      history.push(fullPath)\r\n    },\r\n    [basePath, history]\r\n  )\r\n\r\n  const handleClosePreferences = useCallback(() => {\r\n    preferenceScreen.current = ''\r\n    history.push(basePath)\r\n  }, [basePath, history])\r\n\r\n  return [\r\n    handleOpenPreferences,\r\n    handleClosePreferences,\r\n    preferenceScreen.current,\r\n  ]\r\n}\r\n"]},"metadata":{},"sourceType":"module"}