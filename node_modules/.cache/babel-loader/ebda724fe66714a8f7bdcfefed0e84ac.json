{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar FeedIndex = /*#__PURE__*/function () {\n  function FeedIndex() {\n    _classCallCheck(this, FeedIndex);\n\n    this._index = {};\n  }\n\n  _createClass(FeedIndex, [{\n    key: \"get\",\n    value: function get() {\n      var _this = this;\n\n      return Object.keys(this._index).map(function (f) {\n        return _this._index[f];\n      });\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(oplog) {\n      var _this2 = this;\n\n      this._index = {};\n      oplog.values.reduce(function (handled, item) {\n        if (!handled.includes(item.hash)) {\n          handled.push(item.hash);\n\n          if (item.payload.op === 'ADD') {\n            _this2._index[item.hash] = item;\n          } else if (item.payload.op === 'DEL') {\n            delete _this2._index[item.payload.value];\n          }\n        }\n\n        return handled;\n      }, []);\n    }\n  }]);\n\n  return FeedIndex;\n}();\n\nmodule.exports = FeedIndex;","map":null,"metadata":{},"sourceType":"script"}