{"ast":null,"code":"'use strict';\n\nconst {\n  withTimeoutOption\n} = require('../utils');\n\nconst errCode = require('err-code');\n\nmodule.exports = ({\n  libp2p\n}) => {\n  return {\n    subscribe: withTimeoutOption((...args) => libp2p.pubsub.subscribe(...args)),\n    unsubscribe: withTimeoutOption((...args) => libp2p.pubsub.unsubscribe(...args)),\n    publish: withTimeoutOption(async (topic, data, options) => {\n      if (!data) {\n        throw errCode(new Error('argument \"data\" is required'), 'ERR_ARG_REQUIRED');\n      }\n\n      await libp2p.pubsub.publish(topic, data);\n    }),\n    ls: withTimeoutOption((...args) => libp2p.pubsub.getTopics(...args)),\n    peers: withTimeoutOption((...args) => libp2p.pubsub.getSubscribers(...args))\n  };\n};","map":null,"metadata":{},"sourceType":"script"}