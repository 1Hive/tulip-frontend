{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { getProfileContract } from 'utils/contractHelpers';\nimport makeBatchRequest from 'utils/makeBatchRequest';\nimport { useToast } from 'state/hooks';\n\nconst useGetProfileCosts = () => {\n  _s();\n\n  const [costs, setCosts] = useState({\n    numberCakeToReactivate: new BigNumber(0),\n    numberCakeToRegister: new BigNumber(0),\n    numberCakeToUpdate: new BigNumber(0)\n  });\n  const {\n    toastError\n  } = useToast();\n  useEffect(() => {\n    const fetchCosts = async () => {\n      try {\n        const profileContract = getProfileContract();\n        const [numberCakeToReactivate, numberCakeToRegister, numberCakeToUpdate] = await makeBatchRequest([profileContract.methods.numberCakeToReactivate().call, profileContract.methods.numberCakeToRegister().call, profileContract.methods.numberCakeToUpdate().call]);\n        setCosts({\n          numberCakeToReactivate: new BigNumber(numberCakeToReactivate),\n          numberCakeToRegister: new BigNumber(numberCakeToRegister),\n          numberCakeToUpdate: new BigNumber(numberCakeToUpdate)\n        });\n      } catch (error) {\n        toastError('Error', 'Could not retrieve CAKE costs for profile');\n      }\n    };\n\n    fetchCosts();\n  }, [setCosts, toastError]);\n  return costs;\n};\n\n_s(useGetProfileCosts, \"1OI2vSRQfB6an3qoZQfLnc0xCss=\", false, function () {\n  return [useToast];\n});\n\nexport default useGetProfileCosts;","map":{"version":3,"sources":["/Users/fabian/Documents/Projects/1hive/tulip-frontend/src/views/Profile/hooks/useGetProfileCosts.ts"],"names":["useEffect","useState","BigNumber","getProfileContract","makeBatchRequest","useToast","useGetProfileCosts","costs","setCosts","numberCakeToReactivate","numberCakeToRegister","numberCakeToUpdate","toastError","fetchCosts","profileContract","methods","call","error"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,OAAOC,gBAAP,MAA6B,wBAA7B;AACA,SAASC,QAAT,QAAyB,aAAzB;;AAEA,MAAMC,kBAAkB,GAAG,MAAM;AAAA;;AAC/B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC;AACjCQ,IAAAA,sBAAsB,EAAE,IAAIP,SAAJ,CAAc,CAAd,CADS;AAEjCQ,IAAAA,oBAAoB,EAAE,IAAIR,SAAJ,CAAc,CAAd,CAFW;AAGjCS,IAAAA,kBAAkB,EAAE,IAAIT,SAAJ,CAAc,CAAd;AAHa,GAAD,CAAlC;AAKA,QAAM;AAAEU,IAAAA;AAAF,MAAiBP,QAAQ,EAA/B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMa,UAAU,GAAG,YAAY;AAC7B,UAAI;AACF,cAAMC,eAAe,GAAGX,kBAAkB,EAA1C;AACA,cAAM,CAACM,sBAAD,EAAyBC,oBAAzB,EAA+CC,kBAA/C,IAAqE,MAAMP,gBAAgB,CAAC,CAChGU,eAAe,CAACC,OAAhB,CAAwBN,sBAAxB,GAAiDO,IAD+C,EAEhGF,eAAe,CAACC,OAAhB,CAAwBL,oBAAxB,GAA+CM,IAFiD,EAGhGF,eAAe,CAACC,OAAhB,CAAwBJ,kBAAxB,GAA6CK,IAHmD,CAAD,CAAjG;AAMAR,QAAAA,QAAQ,CAAC;AACPC,UAAAA,sBAAsB,EAAE,IAAIP,SAAJ,CAAcO,sBAAd,CADjB;AAEPC,UAAAA,oBAAoB,EAAE,IAAIR,SAAJ,CAAcQ,oBAAd,CAFf;AAGPC,UAAAA,kBAAkB,EAAE,IAAIT,SAAJ,CAAcS,kBAAd;AAHb,SAAD,CAAR;AAKD,OAbD,CAaE,OAAOM,KAAP,EAAc;AACdL,QAAAA,UAAU,CAAC,OAAD,EAAU,2CAAV,CAAV;AACD;AACF,KAjBD;;AAmBAC,IAAAA,UAAU;AACX,GArBQ,EAqBN,CAACL,QAAD,EAAWI,UAAX,CArBM,CAAT;AAuBA,SAAOL,KAAP;AACD,CAhCD;;GAAMD,kB;UAMmBD,Q;;;AA4BzB,eAAeC,kBAAf","sourcesContent":["import { useEffect, useState } from 'react'\nimport BigNumber from 'bignumber.js'\nimport { getProfileContract } from 'utils/contractHelpers'\nimport makeBatchRequest from 'utils/makeBatchRequest'\nimport { useToast } from 'state/hooks'\n\nconst useGetProfileCosts = () => {\n  const [costs, setCosts] = useState({\n    numberCakeToReactivate: new BigNumber(0),\n    numberCakeToRegister: new BigNumber(0),\n    numberCakeToUpdate: new BigNumber(0),\n  })\n  const { toastError } = useToast()\n\n  useEffect(() => {\n    const fetchCosts = async () => {\n      try {\n        const profileContract = getProfileContract()\n        const [numberCakeToReactivate, numberCakeToRegister, numberCakeToUpdate] = await makeBatchRequest([\n          profileContract.methods.numberCakeToReactivate().call,\n          profileContract.methods.numberCakeToRegister().call,\n          profileContract.methods.numberCakeToUpdate().call,\n        ])\n\n        setCosts({\n          numberCakeToReactivate: new BigNumber(numberCakeToReactivate as string),\n          numberCakeToRegister: new BigNumber(numberCakeToRegister as string),\n          numberCakeToUpdate: new BigNumber(numberCakeToUpdate as string),\n        })\n      } catch (error) {\n        toastError('Error', 'Could not retrieve CAKE costs for profile')\n      }\n    }\n\n    fetchCosts()\n  }, [setCosts, toastError])\n\n  return costs\n}\n\nexport default useGetProfileCosts\n"]},"metadata":{},"sourceType":"module"}