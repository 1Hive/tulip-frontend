{"ast":null,"code":"'use strict';\n\nconst mergeOptions = require('merge-options');\n\nconst Constants = require('./constants');\n\nconst DefaultConfig = {\n  connectionManager: {\n    minPeers: 25\n  },\n  dialer: {\n    maxParallelDials: Constants.MAX_PARALLEL_DIALS,\n    maxDialsPerPeer: Constants.MAX_PER_PEER_DIALS,\n    dialTimeout: Constants.DIAL_TIMEOUT\n  },\n  metrics: {\n    enabled: false\n  },\n  config: {\n    dht: {\n      enabled: false,\n      kBucketSize: 20,\n      randomWalk: {\n        enabled: false,\n        // disabled waiting for https://github.com/libp2p/js-libp2p-kad-dht/issues/86\n        queriesPerPeriod: 1,\n        interval: 300e3,\n        timeout: 10e3\n      }\n    },\n    peerDiscovery: {\n      autoDial: true\n    },\n    pubsub: {\n      enabled: true,\n      emitSelf: true,\n      signMessages: true,\n      strictSigning: true\n    },\n    relay: {\n      enabled: true,\n      hop: {\n        enabled: false,\n        active: false\n      }\n    },\n    transport: {}\n  }\n};\n\nmodule.exports.validate = opts => {\n  opts = mergeOptions(DefaultConfig, opts);\n  if (opts.modules.transport.length < 1) throw new Error(\"'options.modules.transport' must contain at least 1 transport\");\n  return opts;\n};","map":null,"metadata":{},"sourceType":"script"}