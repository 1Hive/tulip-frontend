{"ast":null,"code":"import _slicedToArray from\"/Users/fabianmolina/Documents/1hive/tulip-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _styled7 from\"styled-components\";import _styled6 from\"styled-components\";import _styled5 from\"styled-components\";import _styled4 from\"styled-components\";import _styled3 from\"styled-components\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import React,{useCallback,useEffect,useState}from'react';import{Layout,Root,ScrollView,useViewport}from'@1hive/1hive-ui';import usePreferences from'../hooks/usePreferences';import MenuPanel from'./MenuPanel';import Header from'./Header/Header';import GlobalPreferences from'./GlobalPreferences/GlobalPreferences';var _StyledDiv=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv\",componentId:\"sc-1umivxv-0\"})([\"display:flex;flex-direction:column;height:100vh;\"]);var _StyledDiv2=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv2\",componentId:\"sc-1umivxv-1\"})([\"flex-shrink:0;\"]);var _StyledDiv3=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv3\",componentId:\"sc-1umivxv-2\"})([\"flex-grow:1;flex-shrink:1;height:0;display:flex;\"]);var _StyledDiv4=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv4\",componentId:\"sc-1umivxv-3\"})([\"flex-shrink:0;z-index:3;height:100%;\"]);var _StyledRootProvider=_styled(Root.Provider).withConfig({displayName:\"MainView___StyledRootProvider\",componentId:\"sc-1umivxv-4\"})([\"flex-grow:1;height:100%;position:relative;\"]);var _StyledDiv5=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv5\",componentId:\"sc-1umivxv-5\"})([\"display:flex;flex-direction:column;height:100%;\"]);var _StyledDiv6=_styled(\"div\").withConfig({displayName:\"MainView___StyledDiv6\",componentId:\"sc-1umivxv-6\"})([\"flex:1 0 auto;\"]);function MainView(_ref){var children=_ref.children;var _useViewport=useViewport(),vw=_useViewport.width,below=_useViewport.below;var compactMode=below('medium');var _useState=useState(!compactMode),_useState2=_slicedToArray(_useState,2),menuPanelOpen=_useState2[0],setMenuPanelOpen=_useState2[1];var _usePreferences=usePreferences(),_usePreferences2=_slicedToArray(_usePreferences,3),openPreferences=_usePreferences2[0],closePreferences=_usePreferences2[1],preferenceOption=_usePreferences2[2];var toggleMenuPanel=useCallback(function(){return setMenuPanelOpen(function(opened){return!opened;});},[]);var handleCloseMenuPanel=useCallback(function(){return setMenuPanelOpen(false);},[]);var handleOpenPage=useCallback(function(){if(compactMode){handleCloseMenuPanel();}},[compactMode,handleCloseMenuPanel]);useEffect(function(){setMenuPanelOpen(!compactMode);},[compactMode]);if(preferenceOption){return/*#__PURE__*/React.createElement(GlobalPreferences,{path:preferenceOption,onScreenChange:openPreferences,onClose:closePreferences});}return/*#__PURE__*/React.createElement(_StyledDiv,null,/*#__PURE__*/React.createElement(_StyledDiv2,null,/*#__PURE__*/React.createElement(Header,{compactMode:compactMode,toggleMenuPanel:toggleMenuPanel,onOpenPreferences:openPreferences})),/*#__PURE__*/React.createElement(_StyledDiv3,null,/*#__PURE__*/React.createElement(_StyledDiv4,null,/*#__PURE__*/React.createElement(MenuPanel,{autoClosing:compactMode,opened:menuPanelOpen,onMenuPanelClose:handleCloseMenuPanel,onOpenPage:handleOpenPage})),/*#__PURE__*/React.createElement(_StyledRootProvider,null,/*#__PURE__*/React.createElement(ScrollView,null,/*#__PURE__*/React.createElement(_StyledDiv5,null,/*#__PURE__*/React.createElement(_StyledDiv6,null,/*#__PURE__*/React.createElement(Layout,{parentWidth:vw,paddingBottom:0},children)))))));}export default MainView;","map":{"version":3,"sources":["/Users/fabianmolina/Documents/1hive/tulip-frontend/src/components/MainView.js"],"names":["React","useCallback","useEffect","useState","Layout","Root","ScrollView","useViewport","usePreferences","MenuPanel","Header","GlobalPreferences","MainView","children","vw","width","below","compactMode","menuPanelOpen","setMenuPanelOpen","openPreferences","closePreferences","preferenceOption","toggleMenuPanel","opened","handleCloseMenuPanel","handleOpenPage"],"mappings":"gcAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CACA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,UAAvB,CAAmCC,WAAnC,KAAsD,iBAAtD,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,iBAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,C,6iCAEA,QAASC,CAAAA,QAAT,MAAgC,IAAZC,CAAAA,QAAY,MAAZA,QAAY,kBACDN,WAAW,EADV,CACfO,EADe,cACtBC,KADsB,CACXC,KADW,cACXA,KADW,CAE9B,GAAMC,CAAAA,WAAW,CAAGD,KAAK,CAAC,QAAD,CAAzB,CAF8B,cAGYb,QAAQ,CAAC,CAACc,WAAF,CAHpB,wCAGvBC,aAHuB,eAGRC,gBAHQ,mCAKgCX,cAAc,EAL9C,oDAKvBY,eALuB,qBAKNC,gBALM,qBAKYC,gBALZ,qBAO9B,GAAMC,CAAAA,eAAe,CAAGtB,WAAW,CACjC,iBAAMkB,CAAAA,gBAAgB,CAAC,SAAAK,MAAM,QAAI,CAACA,MAAL,EAAP,CAAtB,EADiC,CAEjC,EAFiC,CAAnC,CAKA,GAAMC,CAAAA,oBAAoB,CAAGxB,WAAW,CAAC,iBAAMkB,CAAAA,gBAAgB,CAAC,KAAD,CAAtB,EAAD,CAAgC,EAAhC,CAAxC,CAEA,GAAMO,CAAAA,cAAc,CAAGzB,WAAW,CAAC,UAAM,CACvC,GAAIgB,WAAJ,CAAiB,CACfQ,oBAAoB,GACrB,CACF,CAJiC,CAI/B,CAACR,WAAD,CAAcQ,oBAAd,CAJ+B,CAAlC,CAMAvB,SAAS,CAAC,UAAM,CACdiB,gBAAgB,CAAC,CAACF,WAAF,CAAhB,CACD,CAFQ,CAEN,CAACA,WAAD,CAFM,CAAT,CAIA,GAAIK,gBAAJ,CAAsB,CACpB,mBACE,oBAAC,iBAAD,EACE,IAAI,CAAEA,gBADR,CAEE,cAAc,CAAEF,eAFlB,CAGE,OAAO,CAAEC,gBAHX,EADF,CAOD,CACD,mBACE,iDAOE,kDAKE,oBAAC,MAAD,EACE,WAAW,CAAEJ,WADf,CAEE,eAAe,CAAEM,eAFnB,CAGE,iBAAiB,CAAEH,eAHrB,EALF,CAPF,cAkBE,kDAQE,kDAOE,oBAAC,SAAD,EACE,WAAW,CAAEH,WADf,CAEE,MAAM,CAAEC,aAFV,CAGE,gBAAgB,CAAEO,oBAHpB,CAIE,UAAU,CAAEC,cAJd,EAPF,CARF,cAsBE,0DAOE,oBAAC,UAAD,mBACE,kDAOE,kDAKE,oBAAC,MAAD,EAAQ,WAAW,CAAEZ,EAArB,CAAyB,aAAa,CAAE,CAAxC,EACGD,QADH,CALF,CAPF,CADF,CAPF,CAtBF,CAlBF,CADF,CAuED,CAED,cAAeD,CAAAA,QAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\nimport { Layout, Root, ScrollView, useViewport } from '@1hive/1hive-ui'\r\nimport usePreferences from '../hooks/usePreferences'\r\nimport MenuPanel from './MenuPanel'\r\nimport Header from './Header/Header'\r\nimport GlobalPreferences from './GlobalPreferences/GlobalPreferences'\r\n\r\nfunction MainView({ children }) {\r\n  const { width: vw, below } = useViewport()\r\n  const compactMode = below('medium')\r\n  const [menuPanelOpen, setMenuPanelOpen] = useState(!compactMode)\r\n\r\n  const [openPreferences, closePreferences, preferenceOption] = usePreferences()\r\n\r\n  const toggleMenuPanel = useCallback(\r\n    () => setMenuPanelOpen(opened => !opened),\r\n    []\r\n  )\r\n\r\n  const handleCloseMenuPanel = useCallback(() => setMenuPanelOpen(false), [])\r\n\r\n  const handleOpenPage = useCallback(() => {\r\n    if (compactMode) {\r\n      handleCloseMenuPanel()\r\n    }\r\n  }, [compactMode, handleCloseMenuPanel])\r\n\r\n  useEffect(() => {\r\n    setMenuPanelOpen(!compactMode)\r\n  }, [compactMode])\r\n\r\n  if (preferenceOption) {\r\n    return (\r\n      <GlobalPreferences\r\n        path={preferenceOption}\r\n        onScreenChange={openPreferences}\r\n        onClose={closePreferences}\r\n      />\r\n    )\r\n  }\r\n  return (\r\n    <div\r\n      css={`\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 100vh;\r\n      `}\r\n    >\r\n      <div\r\n        css={`\r\n          flex-shrink: 0;\r\n        `}\r\n      >\r\n        <Header\r\n          compactMode={compactMode}\r\n          toggleMenuPanel={toggleMenuPanel}\r\n          onOpenPreferences={openPreferences}\r\n        />\r\n      </div>\r\n      <div\r\n        css={`\r\n          flex-grow: 1;\r\n          flex-shrink: 1;\r\n          height: 0;\r\n          display: flex;\r\n        `}\r\n      >\r\n        <div\r\n          css={`\r\n            flex-shrink: 0;\r\n            z-index: 3;\r\n            height: 100%;\r\n          `}\r\n        >\r\n          <MenuPanel\r\n            autoClosing={compactMode}\r\n            opened={menuPanelOpen}\r\n            onMenuPanelClose={handleCloseMenuPanel}\r\n            onOpenPage={handleOpenPage}\r\n          />\r\n        </div>\r\n        <Root.Provider\r\n          css={`\r\n            flex-grow: 1;\r\n            height: 100%;\r\n            position: relative;\r\n          `}\r\n        >\r\n          <ScrollView>\r\n            <div\r\n              css={`\r\n                display: flex;\r\n                flex-direction: column;\r\n                height: 100%;\r\n              `}\r\n            >\r\n              <div\r\n                css={`\r\n                  flex: 1 0 auto;\r\n                `}\r\n              >\r\n                <Layout parentWidth={vw} paddingBottom={0}>\r\n                  {children}\r\n                </Layout>\r\n              </div>\r\n            </div>\r\n          </ScrollView>\r\n        </Root.Provider>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainView\r\n"]},"metadata":{},"sourceType":"module"}