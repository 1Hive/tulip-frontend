{"ast":null,"code":"'use strict';\n\nconst {\n  parseArgs\n} = require('./utils');\n\nconst {\n  withTimeoutOption\n} = require('../../utils');\n\nmodule.exports = ({\n  ipld,\n  preload\n}) => {\n  return withTimeoutOption(async function get(cid, path, options) {\n    [cid, path, options] = parseArgs(cid, path, options);\n\n    if (options.preload !== false) {\n      preload(cid);\n    }\n\n    if (path == null || path === '/') {\n      const value = await ipld.get(cid, options);\n      return {\n        value,\n        remainderPath: ''\n      };\n    } else {\n      let result;\n\n      for await (const entry of ipld.resolve(cid, path)) {\n        if (options.localResolve) {\n          return entry;\n        }\n\n        result = entry;\n      }\n\n      return result;\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"script"}