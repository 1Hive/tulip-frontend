{"ast":null,"code":"'use strict';\n\nconst applyDefaultOptions = require('./utils/apply-default-options');\n\nconst toSources = require('./utils/to-sources');\n\nconst cp = require('./cp');\n\nconst rm = require('./rm');\n\nconst {\n  withTimeoutOption\n} = require('../../utils');\n\nconst defaultOptions = {\n  parents: false,\n  recursive: false,\n  flush: true,\n  cidVersion: 0,\n  hashAlg: 'sha2-256',\n  shardSplitThreshold: 1000\n};\n\nmodule.exports = context => {\n  return withTimeoutOption(async function mfsMv(...args) {\n    if (Array.isArray(args[0])) {\n      args = args[0].concat(args.slice(1));\n    }\n\n    const {\n      sources\n    } = await toSources(context, args);\n    const options = applyDefaultOptions(args, defaultOptions);\n    const cpArgs = sources.map(source => source.path).concat(options); // remove the last source as it'll be the destination\n\n    const rmArgs = sources.slice(0, -1).map(source => source.path).concat(Object.assign(options, {\n      recursive: true\n    }));\n    await cp(context).apply(null, cpArgs);\n    await rm(context).apply(null, rmArgs);\n  });\n};","map":null,"metadata":{},"sourceType":"script"}