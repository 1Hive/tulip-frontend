{"ast":null,"code":"import { _ as _slicedToArray } from './slicedToArray-ad07b557.js';\nimport './unsupportedIterableToArray-aef68344.js';\nimport React, { useCallback, useState, useRef, useEffect } from 'react';\nimport './_commonjsHelpers-97e6d7b1.js';\nimport { P as PropTypes } from './index-097535f1.js';\nimport './defineProperty-a0480c32.js';\nimport './toConsumableArray-07f01111.js';\nimport _styled from 'styled-components';\nimport './getPrototypeOf-97db713a.js';\nimport './color.js';\nimport './components.js';\nimport './contains-component.js';\nimport { unselectable } from './css.js';\nimport './dayjs.min-e57fb69a.js';\nimport './date.js';\nimport { noop, identity } from './miscellaneous.js';\nimport './environment.js';\nimport './font.js';\nimport './math-e6d0e93a.js';\nimport './characters.js';\nimport './format.js';\nimport { KEY_ESC } from './keycodes.js';\nimport './url.js';\nimport './web3.js';\nimport './constants.js';\nimport './breakpoints.js';\nimport { springs } from './springs.js';\nimport './text-styles.js';\nimport './theme-dark.js';\nimport './theme-light.js';\nimport { useTheme } from './Theme.js';\nimport { _ as _extends } from './extends-db4f0c26.js';\nimport './objectWithoutProperties-234758e1.js';\nimport './index-422d37c0.js';\nimport './isObject-c2f08dfa.js';\nimport './Viewport-2b81deab.js';\nimport './Layout.js';\nimport './FocusVisible.js';\nimport ButtonBase from './ButtonBase.js';\nimport './IconPropTypes-9078a621.js';\nimport './IconAddUser.js';\nimport './IconAlert.js';\nimport './IconAlignCenter.js';\nimport './IconAlignJustify.js';\nimport './IconAlignLeft.js';\nimport './IconAlignRight.js';\nimport './IconAragon.js';\nimport './IconArrowDown.js';\nimport './IconArrowLeft.js';\nimport './IconArrowRight.js';\nimport './IconArrowUp.js';\nimport './IconAtSign.js';\nimport './IconBlock.js';\nimport './IconBookmark.js';\nimport './IconCalendar.js';\nimport './IconCanvas.js';\nimport './IconCaution.js';\nimport './IconCenter.js';\nimport './IconChart.js';\nimport './IconChat.js';\nimport './IconCheck.js';\nimport './IconChip.js';\nimport './IconCircleCheck.js';\nimport './IconCircleMinus.js';\nimport './IconCirclePlus.js';\nimport './IconClock.js';\nimport './IconCloudDownload.js';\nimport './IconCloudUpload.js';\nimport './IconCoin.js';\nimport './IconConfiguration.js';\nimport './IconConnect.js';\nimport './IconConnection.js';\nimport './IconConsole.js';\nimport './IconCopy.js';\nimport './IconCross.js';\nimport './IconDashedSquare.js';\nimport './IconDown.js';\nimport './IconDownload.js';\nimport './IconEdit.js';\nimport './IconEllipsis.js';\nimport './IconEnter.js';\nimport './IconEthereum.js';\nimport './IconExternal.js';\nimport './IconFile.js';\nimport './IconFilter.js';\nimport './IconFlag.js';\nimport './IconFolder.js';\nimport './IconGraph2.js';\nimport './IconGraph.js';\nimport './IconGrid.js';\nimport './IconGroup.js';\nimport './IconHash.js';\nimport './IconHeart.js';\nimport './IconHide.js';\nimport './IconHome.js';\nimport './IconImage.js';\nimport './IconInfo.js';\nimport './IconLabel.js';\nimport './IconLayers.js';\nimport './IconLeft.js';\nimport './IconLink.js';\nimport './IconLocation.js';\nimport './IconLock.js';\nimport './IconMail.js';\nimport './IconMaximize.js';\nimport './IconMenu.js';\nimport './IconMinimize.js';\nimport './IconMinus.js';\nimport './IconMove.js';\nimport './IconNoPicture.js';\nimport './IconPicture.js';\nimport './IconPlus.js';\nimport './IconPower.js';\nimport './IconPrint.js';\nimport './IconProhibited.js';\nimport './IconQuestion.js';\nimport './IconRefresh.js';\nimport './IconRemoveUser.js';\nimport './IconRight.js';\nimport './IconRotateLeft.js';\nimport './IconRotateRight.js';\nimport './IconSearch.js';\nimport './IconSettings.js';\nimport './IconShare.js';\nimport './IconSquareMinus.js';\nimport './IconSquarePlus.js';\nimport './IconSquare.js';\nimport './IconStarFilled.js';\nimport './IconStar.js';\nimport './IconSwap.js';\nimport './IconTarget.js';\nimport './IconToken.js';\nimport './IconTrash.js';\nimport './IconUnlock.js';\nimport './IconUp.js';\nimport './IconUpload.js';\nimport './IconUser.js';\nimport './IconView.js';\nimport './IconVote.js';\nimport './IconWallet.js';\nimport './IconWarning.js';\nimport './IconWorld.js';\nimport './IconWrite.js';\nimport './IconZoomIn.js';\nimport './IconZoomOut.js';\nimport './objectWithoutPropertiesLoose-9606ad13.js';\nimport 'react-dom';\nimport { e as extendedAnimated, T as Transition } from './web-a351a0a1.js';\nimport './Button.js';\nimport './ButtonIcon.js';\nimport './TextInput.js';\nimport { useArrowKeysFocus } from './useArrowKeysFocus.js';\nimport { useClickOutside } from './useClickOutside.js';\nimport './useFocusEnter.js';\nimport { useFocusLeave } from './useFocusLeave.js';\nimport './useImageExists.js';\nimport { useKeyDown } from './useKeyDown.js';\nimport './useOnBlur.js';\nimport SearchInput from './SearchInput.js';\n\nvar _StyledDiv = _styled(\"div\").withConfig({\n  displayName: \"AutoComplete___StyledDiv\",\n  componentId: \"sc-26kvp4-0\"\n})([\"position:relative\"]);\n\nfunction AutoComplete(_ref) {\n  var forwardedRef = _ref.forwardedRef,\n      _ref$itemButtonStyles = _ref.itemButtonStyles,\n      itemButtonStyles = _ref$itemButtonStyles === void 0 ? '' : _ref$itemButtonStyles,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      _ref$onSelect = _ref.onSelect,\n      onSelect = _ref$onSelect === void 0 ? noop : _ref$onSelect,\n      _ref$onChange = _ref.onChange,\n      onChange = _ref$onChange === void 0 ? noop : _ref$onChange,\n      placeholder = _ref.placeholder,\n      _ref$renderItem = _ref.renderItem,\n      renderItem = _ref$renderItem === void 0 ? identity : _ref$renderItem,\n      required = _ref.required,\n      value = _ref.value,\n      wide = _ref.wide;\n  var ref = forwardedRef;\n  var uniqueItems = new Set(items);\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var wrapRef = useRef();\n  var refs = useRef([]);\n  var handleClose = useCallback(function () {\n    return setOpened(false);\n  }, []);\n  var handleFocus = useCallback(function () {\n    return setOpened(true);\n  }, []);\n  var handleSelect = useCallback(function (item) {\n    onSelect(item);\n    setOpened(false);\n  }, [onSelect]);\n  var handleInputChange = useCallback(function () {\n    setOpened(true);\n    onChange.apply(void 0, arguments);\n  }, [onChange]);\n\n  var _useFocusLeave = useFocusLeave(handleClose, wrapRef),\n      handleFocusLeave = _useFocusLeave.handleFocusLeave;\n\n  var _useArrowKeysFocus = useArrowKeysFocus(refs),\n      highlightedIndex = _useArrowKeysFocus.highlightedIndex,\n      setHighlightedIndex = _useArrowKeysFocus.setHighlightedIndex;\n\n  useClickOutside(handleClose, wrapRef);\n  useKeyDown(KEY_ESC, handleClose);\n  useEffect(function () {\n    setHighlightedIndex(-1);\n  }, [opened, items, value, setHighlightedIndex]);\n  return /*#__PURE__*/React.createElement(_StyledDiv, {\n    ref: wrapRef,\n    onBlur: handleFocusLeave\n  }, /*#__PURE__*/React.createElement(SearchInput, {\n    ref: ref,\n    wide: wide,\n    placeholder: placeholder,\n    required: required,\n    onChange: handleInputChange,\n    onFocus: handleFocus,\n    value: value\n  }), /*#__PURE__*/React.createElement(Transition, {\n    config: springs.swift,\n    items: opened && items.length > 0,\n    from: {\n      scale: 0.98,\n      opacity: 0\n    },\n    enter: {\n      scale: 1,\n      opacity: 1\n    },\n    leave: {\n      scale: 1,\n      opacity: 0\n    },\n    native: true\n  }, function (show) {\n    return show &&\n    /* eslint-disable react/prop-types */\n    function (_ref2) {\n      var scale = _ref2.scale,\n          opacity = _ref2.opacity;\n      return /*#__PURE__*/React.createElement(Items, {\n        style: {\n          opacity: opacity,\n          transform: scale.interpolate(function (t) {\n            return \"scale3d(\".concat(t, \",\").concat(t, \",1)\");\n          })\n        }\n      }, Array.from(uniqueItems).map(function (item, index) {\n        return /*#__PURE__*/React.createElement(Item, {\n          key: item.key || item,\n          ref: function ref(node) {\n            return refs.current[index] = node;\n          },\n          index: index,\n          item: item,\n          itemButtonStyles: itemButtonStyles,\n          onHighlight: setHighlightedIndex,\n          onSelect: handleSelect,\n          selected: index === highlightedIndex\n        }, renderItem(item, value));\n      }));\n    };\n  }\n  /* eslint-enable react/prop-types */\n  ));\n}\n\nAutoComplete.propTypes = {\n  forwardedRef: PropTypes.object,\n  itemButtonStyles: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  renderItem: PropTypes.func,\n  required: PropTypes.bool,\n  value: PropTypes.string,\n  wide: PropTypes.bool\n};\n/* eslint-disable react/prop-types */\n\nvar _StyledLi = _styled(\"li\").withConfig({\n  displayName: \"AutoComplete___StyledLi\",\n  componentId: \"sc-26kvp4-1\"\n})([\"overflow:hidden;cursor:pointer;\", \";\"], function (p) {\n  return p._css;\n});\n\nvar _StyledButtonBase = _styled(ButtonBase).withConfig({\n  displayName: \"AutoComplete___StyledButtonBase\",\n  componentId: \"sc-26kvp4-2\"\n})([\"text-align:left;padding:4px 8px;width:100%;border-radius:0;border-left:3px solid transparent;cursor:pointer;\", \";\", \";\"], function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n});\n\nvar Item = React.forwardRef(function Item(_ref3, ref) {\n  var children = _ref3.children,\n      index = _ref3.index,\n      item = _ref3.item,\n      itemButtonStyles = _ref3.itemButtonStyles,\n      onHighlight = _ref3.onHighlight,\n      onSelect = _ref3.onSelect,\n      selected = _ref3.selected;\n  var theme = useTheme();\n  var handleClick = useCallback(function (event) {\n    event.preventDefault();\n    onSelect(item);\n  }, [item, onSelect]);\n  var handleFocusOrMouseOver = useCallback(function () {\n    onHighlight(index);\n  }, [index, onHighlight]);\n  return /*#__PURE__*/React.createElement(_StyledLi, {\n    role: \"option\",\n    _css: unselectable()\n  }, /*#__PURE__*/React.createElement(_StyledButtonBase, {\n    ref: ref,\n    onClick: handleClick,\n    onFocus: handleFocusOrMouseOver,\n    onMouseOver: handleFocusOrMouseOver,\n    _css2: selected ? \"\\n                outline: 2px solid \".concat(theme.accent, \";\\n                background: \").concat(theme.surfaceHighlight, \";\\n                border-left: 3px solid \").concat(theme.accent, \";\\n              \") : '',\n    _css3: itemButtonStyles\n  }, children));\n});\n/* eslint-enable react/prop-types */\n\n/* eslint-disable react/prop-types */\n\nvar _StyledAnimatedUl = _styled(extendedAnimated.ul).withConfig({\n  displayName: \"AutoComplete___StyledAnimatedUl\",\n  componentId: \"sc-26kvp4-3\"\n})([\"position:absolute;z-index:2;top:100%;width:100%;padding:8px 0;color:\", \";background:\", \";border:1px solid \", \";box-shadow:0 4px 4px 0 rgba(0,0,0,0.06);border-radius:3px;padding:0;margin:0;list-style:none;& > li:first-child{border-top-left-radius:3px;border-top-right-radius:3px;}& > li:last-child{border-bottom-left-radius:3px;border-bottom-right-radius:3px;}\"], function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n}, function (p) {\n  return p._css6;\n});\n\nvar Items = function Items(props) {\n  var theme = useTheme();\n  return /*#__PURE__*/React.createElement(_StyledAnimatedUl, _extends({\n    role: \"listbox\"\n  }, props, {\n    _css4: theme.surfaceContent,\n    _css5: theme.surface,\n    _css6: theme.border\n  }));\n};\n/* eslint-enable react/prop-types */\n\n\nvar AutoCompleteMemo = React.memo(AutoComplete);\nvar AutoComplete$1 = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(AutoCompleteMemo, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});\nexport default AutoComplete$1;","map":null,"metadata":{},"sourceType":"module"}