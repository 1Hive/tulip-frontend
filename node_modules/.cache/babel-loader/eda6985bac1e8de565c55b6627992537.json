{"ast":null,"code":"module.exports = class FixedFIFO {\n  constructor(hwm) {\n    if (!(hwm > 0) || (hwm - 1 & hwm) !== 0) throw new Error('Max size for a FixedFIFO should be a power of two');\n    this.buffer = new Array(hwm);\n    this.mask = hwm - 1;\n    this.top = 0;\n    this.btm = 0;\n    this.next = null;\n  }\n\n  push(data) {\n    if (this.buffer[this.top] !== undefined) return false;\n    this.buffer[this.top] = data;\n    this.top = this.top + 1 & this.mask;\n    return true;\n  }\n\n  shift() {\n    const last = this.buffer[this.btm];\n    if (last === undefined) return undefined;\n    this.buffer[this.btm] = undefined;\n    this.btm = this.btm + 1 & this.mask;\n    return last;\n  }\n\n  isEmpty() {\n    return this.buffer[this.btm] === undefined;\n  }\n\n};","map":null,"metadata":{},"sourceType":"script"}