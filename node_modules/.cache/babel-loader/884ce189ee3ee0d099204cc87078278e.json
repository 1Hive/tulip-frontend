{"ast":null,"code":"const source = require('./source');\n\nconst sink = require('./sink');\n\nmodule.exports = (socket, options) => {\n  options = options || {};\n\n  if (options.binaryType) {\n    socket.binaryType = options.binaryType;\n  } else if (options.binary) {\n    socket.binaryType = 'arraybuffer';\n  }\n\n  const duplex = {\n    sink: sink(socket, options),\n    source: source(socket, options),\n    connected: () => duplex.source.connected()\n  };\n  return duplex;\n};","map":null,"metadata":{},"sourceType":"script"}