{"ast":null,"code":"'use strict';\n\nconst dagPB = require('ipld-dag-pb');\n\nconst {\n  withTimeoutOption\n} = require('../../utils');\n\nmodule.exports = ({\n  ipld,\n  preload\n}) => {\n  const get = require('./get')({\n    ipld,\n    preload\n  });\n\n  return withTimeoutOption(async function stat(multihash, options) {\n    options = options || {};\n    const node = await get(multihash, options);\n    const serialized = dagPB.util.serialize(node);\n    const cid = await dagPB.util.cid(serialized, {\n      cidVersion: 0\n    });\n    const blockSize = serialized.length;\n    const linkLength = node.Links.reduce((a, l) => a + l.Tsize, 0);\n    return {\n      Hash: cid.toBaseEncodedString(),\n      NumLinks: node.Links.length,\n      BlockSize: blockSize,\n      LinksSize: blockSize - node.Data.length,\n      DataSize: node.Data.length,\n      CumulativeSize: blockSize + linkLength\n    };\n  });\n};","map":null,"metadata":{},"sourceType":"script"}