{"ast":null,"code":"'use strict';\n\nconst UnixFS = require('ipfs-unixfs');\n\nconst persist = require('../utils/persist');\n\nconst {\n  DAGNode\n} = require('ipld-dag-pb');\n\nconst dirBuilder = async (item, block, options) => {\n  const unixfs = new UnixFS({\n    type: 'directory',\n    mtime: item.mtime,\n    mode: item.mode\n  });\n  const buffer = new DAGNode(unixfs.marshal()).serialize();\n  const cid = await persist(buffer, block, options);\n  const path = item.path;\n  return {\n    cid,\n    path,\n    unixfs,\n    size: buffer.length\n  };\n};\n\nmodule.exports = dirBuilder;","map":null,"metadata":{},"sourceType":"script"}