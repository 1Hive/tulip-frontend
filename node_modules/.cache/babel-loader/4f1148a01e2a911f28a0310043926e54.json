{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nrequire('./slicedToArray-a8a77f0e.js');\n\nrequire('./unsupportedIterableToArray-f175acfa.js');\n\nvar React = require('react');\n\nrequire('./_commonjsHelpers-1b94f6bc.js');\n\nvar index = require('./index-46d0e707.js');\n\nvar defineProperty = require('./defineProperty-3cad0327.js');\n\nrequire('./toConsumableArray-cc0d28a9.js');\n\nvar _styled = require('styled-components');\n\nrequire('./getPrototypeOf-55c9e80c.js');\n\nrequire('./color.js');\n\nvar css = require('./css.js');\n\nvar miscellaneous = require('./miscellaneous.js');\n\nrequire('./environment.js');\n\nrequire('./font.js');\n\nrequire('./keycodes.js');\n\nvar constants = require('./constants.js');\n\nrequire('./breakpoints.js');\n\nvar springs = require('./springs.js');\n\nrequire('./text-styles.js');\n\nrequire('./theme-dark.js');\n\nrequire('./theme-light.js');\n\nvar Theme = require('./Theme.js');\n\nvar _extends = require('./extends-023d783e.js');\n\nvar objectWithoutProperties = require('./objectWithoutProperties-c6d3675c.js');\n\nrequire('./index-4def0554.js');\n\nrequire('./_baseGetTag-42b4dd3e.js');\n\nvar Viewport = require('./Viewport-819c53c9.js');\n\nrequire('./Layout.js');\n\nrequire('./FocusVisible.js');\n\nrequire('./ButtonBase.js');\n\nrequire('./IconPropTypes-12cd7567.js');\n\nvar IconCross = require('./IconCross.js');\n\nrequire('./objectWithoutPropertiesLoose-1af20ad0.js');\n\nrequire('react-dom');\n\nvar web = require('./web-7cbdbd84.js');\n\nrequire('./Button.js');\n\nvar ButtonIcon = require('./ButtonIcon.js');\n\nrequire('./Root-8693e46b.js');\n\nvar RootPortal = require('./RootPortal.js');\n\nvar EscapeOutside = require('./EscapeOutside.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar _styled__default = /*#__PURE__*/_interopDefaultLegacy(_styled);\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty.defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar SPACE_AROUND = 4 * constants.GU;\n\nvar _StyledAnimatedDiv = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Modal___StyledAnimatedDiv\",\n  componentId: \"sc-1ofisn3-0\"\n})([\"position:fixed;top:0;left:0;right:0;bottom:0;background:\", \";\"], function (p) {\n  return p._css;\n});\n\nvar _StyledAnimatedDiv2 = _styled__default['default'](web.extendedAnimated.div).withConfig({\n  displayName: \"Modal___StyledAnimatedDiv2\",\n  componentId: \"sc-1ofisn3-1\"\n})([\"position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;display:grid;align-items:center;justify-content:center;overflow:auto;\"]);\n\nvar _StyledDiv = _styled__default['default'](\"div\").withConfig({\n  displayName: \"Modal___StyledDiv\",\n  componentId: \"sc-1ofisn3-2\"\n})([\"padding:\", \"px 0;\"], SPACE_AROUND);\n\nvar _StyledEscapeOutside = _styled__default['default'](EscapeOutside.default).withConfig({\n  displayName: \"Modal___StyledEscapeOutside\",\n  componentId: \"sc-1ofisn3-3\"\n})([\"position:relative;overflow:hidden;min-width:\", \"px;background:\", \";box-shadow:0 10px 28px rgba(0,0,0,0.15);\"], function (p) {\n  return p._css2;\n}, function (p) {\n  return p._css3;\n});\n\nvar _StyledButtonIcon = _styled__default['default'](ButtonIcon.default).withConfig({\n  displayName: \"Modal___StyledButtonIcon\",\n  componentId: \"sc-1ofisn3-4\"\n})([\"position:absolute;z-index:2;top:\", \"px;right:\", \"px;\"], function (p) {\n  return p._css4;\n}, function (p) {\n  return p._css5;\n});\n\nvar _StyledDiv2 = _styled__default['default'](\"div\").withConfig({\n  displayName: \"Modal___StyledDiv2\",\n  componentId: \"sc-1ofisn3-5\"\n})([\"position:relative;z-index:1;\"]);\n\nfunction Modal(_ref) {\n  var children = _ref.children,\n      onClose = _ref.onClose,\n      onClosed = _ref.onClosed,\n      padding = _ref.padding,\n      visible = _ref.visible,\n      width = _ref.width,\n      closeButton = _ref.closeButton,\n      props = objectWithoutProperties.objectWithoutProperties(_ref, [\"children\", \"onClose\", \"onClosed\", \"padding\", \"visible\", \"width\", \"closeButton\"]);\n  var theme = Theme.useTheme();\n  var viewport = Viewport.useViewport();\n  return /*#__PURE__*/React__default['default'].createElement(RootPortal.default, null, /*#__PURE__*/React__default['default'].createElement(web.Transition, {\n    native: true,\n    items: visible,\n    from: {\n      opacity: 0,\n      scale: 0.98\n    },\n    enter: {\n      opacity: 1,\n      scale: 1\n    },\n    leave: {\n      opacity: 0,\n      scale: 0.98\n    },\n    config: _objectSpread(_objectSpread({}, springs.springs.smooth), {}, {\n      precision: 0.001\n    }),\n    onDestroyed: function onDestroyed(destroyed) {\n      destroyed && onClosed();\n    }\n  }, function (show) {\n    return show &&\n    /* eslint-disable react/prop-types */\n    function (_ref2) {\n      var opacity = _ref2.opacity,\n          scale = _ref2.scale;\n      return /*#__PURE__*/React__default['default'].createElement(_StyledAnimatedDiv, _extends._extends_1({\n        style: {\n          opacity: opacity\n        }\n      }, props, {\n        _css: theme.overlay.alpha(0.9)\n      }), /*#__PURE__*/React__default['default'].createElement(_StyledAnimatedDiv2, {\n        style: {\n          pointerEvents: visible ? 'auto' : 'none',\n          transform: scale.interpolate(function (v) {\n            return \"scale3d(\".concat(v, \", \").concat(v, \", 1)\");\n          })\n        }\n      }, /*#__PURE__*/React__default['default'].createElement(_StyledDiv, null, /*#__PURE__*/React__default['default'].createElement(_StyledEscapeOutside, {\n        role: \"alertdialog\",\n        useCapture: true,\n        background: theme.surface,\n        onEscapeOutside: onClose,\n        style: {\n          width: css.cssPx(typeof width === 'function' ? width(viewport) : width),\n          borderRadius: \"\".concat(constants.RADIUS, \"px\")\n        },\n        _css2: 360 - SPACE_AROUND * 2,\n        _css3: theme.surface\n      }, closeButton && /*#__PURE__*/React__default['default'].createElement(_StyledButtonIcon, {\n        label: \"Close\",\n        onClick: onClose,\n        _css4: 2 * constants.GU,\n        _css5: 2 * constants.GU\n      }, /*#__PURE__*/React__default['default'].createElement(IconCross.default, null)), /*#__PURE__*/React__default['default'].createElement(_StyledDiv2, {\n        style: {\n          padding: css.cssPx(typeof padding === 'function' ? padding(viewport) : padding)\n        }\n      }, children)))));\n    };\n  }\n  /* eslint-enable react/prop-types */\n  ));\n}\n\nModal.propTypes = {\n  children: index.propTypes.node.isRequired,\n  closeButton: index.propTypes.bool,\n  onClose: index.propTypes.func,\n  onClosed: index.propTypes.func,\n  padding: index.propTypes.oneOfType([index.propTypes.func, index.propTypes.number, index.propTypes.string]),\n  visible: index.propTypes.bool.isRequired,\n  width: index.propTypes.oneOfType([index.propTypes.func, index.propTypes.number, index.propTypes.string])\n};\nModal.defaultProps = {\n  closeButton: true,\n  onClose: miscellaneous.noop,\n  onClosed: miscellaneous.noop,\n  padding: 3 * constants.GU,\n  width: function width(viewport) {\n    return Math.min(viewport.width - SPACE_AROUND * 2, 600);\n  }\n};\nexports.default = Modal;","map":{"version":3,"sources":["../src/components/Modal/Modal.js"],"names":["SPACE_AROUND","GU","children","onClose","onClosed","padding","visible","width","closeButton","props","theme","useTheme","viewport","useViewport","RootPortal","Transition","opacity","scale","springs","precision","destroyed","show","pointerEvents","transform","surface","cssPx","borderRadius","RADIUS","React","IconCross","Modal","PropTypes","noop","Math"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from 'react-spring'\nimport { cssPx, noop } from '../../utils'\nimport { springs, GU, RADIUS } from '../../style'\nimport { useTheme } from '../../theme'\nimport { useViewport } from '../../providers/Viewport'\nimport { IconCross } from '../../icons'\nimport ButtonIcon from '../Button/ButtonIcon'\nimport EscapeOutside from '../EscapeOutside/EscapeOutside'\nimport RootPortal from '../RootPortal/RootPortal'\n\nconst SPACE_AROUND = 4 * GU\n\nfunction Modal({\n  children,\n  onClose,\n  onClosed,\n  padding,\n  visible,\n  width,\n  closeButton,\n  ...props\n}) {\n  const theme = useTheme()\n  const viewport = useViewport()\n\n  return (\n    <RootPortal>\n      <Transition\n        native\n        items={visible}\n        from={{ opacity: 0, scale: 0.98 }}\n        enter={{ opacity: 1, scale: 1 }}\n        leave={{ opacity: 0, scale: 0.98 }}\n        config={{ ...springs.smooth, precision: 0.001 }}\n        onDestroyed={destroyed => {\n          destroyed && onClosed()\n        }}\n      >\n        {show =>\n          show &&\n          /* eslint-disable react/prop-types */\n          (({ opacity, scale }) => (\n            <animated.div\n              css={`\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: ${theme.overlay.alpha(0.9)};\n              `}\n              style={{ opacity }}\n              {...props}\n            >\n              <animated.div\n                css={`\n                  position: absolute;\n                  z-index: 1;\n                  top: 0;\n                  left: 0;\n                  right: 0;\n                  bottom: 0;\n                  display: grid;\n                  align-items: center;\n                  justify-content: center;\n                  overflow: auto;\n                `}\n                style={{\n                  pointerEvents: visible ? 'auto' : 'none',\n                  transform: scale.interpolate(v => `scale3d(${v}, ${v}, 1)`),\n                }}\n              >\n                <div\n                  css={`\n                    padding: ${SPACE_AROUND}px 0;\n                  `}\n                >\n                  <EscapeOutside\n                    role=\"alertdialog\"\n                    useCapture\n                    background={theme.surface}\n                    onEscapeOutside={onClose}\n                    css={`\n                      position: relative;\n                      overflow: hidden;\n                      min-width: ${360 - SPACE_AROUND * 2}px;\n                      background: ${theme.surface};\n                      box-shadow: 0 10px 28px rgba(0, 0, 0, 0.15);\n                    `}\n                    style={{\n                      width: cssPx(\n                        typeof width === 'function' ? width(viewport) : width\n                      ),\n                      borderRadius: `${RADIUS}px`,\n                    }}\n                  >\n                    {closeButton && (\n                      <ButtonIcon\n                        label=\"Close\"\n                        onClick={onClose}\n                        css={`\n                          position: absolute;\n                          z-index: 2;\n                          top: ${2 * GU}px;\n                          right: ${2 * GU}px;\n                        `}\n                      >\n                        <IconCross />\n                      </ButtonIcon>\n                    )}\n                    <div\n                      style={{\n                        padding: cssPx(\n                          typeof padding === 'function'\n                            ? padding(viewport)\n                            : padding\n                        ),\n                      }}\n                      css={`\n                        position: relative;\n                        z-index: 1;\n                      `}\n                    >\n                      {children}\n                    </div>\n                  </EscapeOutside>\n                </div>\n              </animated.div>\n            </animated.div>\n          ))\n        /* eslint-enable react/prop-types */\n        }\n      </Transition>\n    </RootPortal>\n  )\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n  closeButton: PropTypes.bool,\n  onClose: PropTypes.func,\n  onClosed: PropTypes.func,\n  padding: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n  visible: PropTypes.bool.isRequired,\n  width: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.number,\n    PropTypes.string,\n  ]),\n}\n\nModal.defaultProps = {\n  closeButton: true,\n  onClose: noop,\n  onClosed: noop,\n  padding: 3 * GU,\n  width: viewport => Math.min(viewport.width - SPACE_AROUND * 2, 600),\n}\n\nexport default Modal\n"]},"metadata":{},"sourceType":"script"}