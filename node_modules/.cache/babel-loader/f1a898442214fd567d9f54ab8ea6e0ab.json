{"ast":null,"code":"'use strict';\n\nconst CID = require('cids');\n\nconst {\n  Buffer\n} = require('buffer');\n\nconst rmLink = (dagNode, nameOrCid) => {\n  let predicate = null; // It's a name\n\n  if (typeof nameOrCid === 'string') {\n    predicate = link => link.Name === nameOrCid;\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    predicate = link => link.Hash.equals(nameOrCid);\n  }\n\n  if (predicate) {\n    const links = dagNode.Links;\n    let index = 0;\n\n    while (index < links.length) {\n      const link = links[index];\n\n      if (predicate(link)) {\n        links.splice(index, 1);\n      } else {\n        index++;\n      }\n    }\n  } else {\n    throw new Error('second arg needs to be a name or CID');\n  }\n};\n\nmodule.exports = rmLink;","map":null,"metadata":{},"sourceType":"script"}