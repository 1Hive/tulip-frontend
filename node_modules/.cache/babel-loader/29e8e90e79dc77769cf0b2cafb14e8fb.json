{"ast":null,"code":"'use strict';\n\nconst errCode = require('err-code');\n\nconst validateOffsetAndLength = (size, offset, length) => {\n  if (!offset) {\n    offset = 0;\n  }\n\n  if (offset < 0) {\n    throw errCode(new Error('Offset must be greater than or equal to 0'), 'ERR_INVALID_PARAMS');\n  }\n\n  if (offset > size) {\n    throw errCode(new Error('Offset must be less than the file size'), 'ERR_INVALID_PARAMS');\n  }\n\n  if (!length && length !== 0) {\n    length = size - offset;\n  }\n\n  if (length < 0) {\n    throw errCode(new Error('Length must be greater than or equal to 0'), 'ERR_INVALID_PARAMS');\n  }\n\n  if (offset + length > size) {\n    length = size - offset;\n  }\n\n  return {\n    offset,\n    length\n  };\n};\n\nmodule.exports = validateOffsetAndLength;","map":null,"metadata":{},"sourceType":"script"}