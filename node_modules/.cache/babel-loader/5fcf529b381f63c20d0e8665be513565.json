{"ast":null,"code":"/* globals self, window */\n'use strict'; // Get around https://github.com/mysticatea/abort-controller/pull/22\n\nconst {\n  AbortController\n} = typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window\n/* otherwise */\n: require('abort-controller');\n\nconst retimer = require('retimer');\n\nclass TimeoutController extends AbortController {\n  /**\n   * @constructor\n   * @param {number} ms milliseconds\n   */\n  constructor(ms) {\n    super();\n    this._ms = ms;\n    this._timer = retimer(() => this.abort(), ms); // Patch for safari not supported extending built in classes\n\n    Object.setPrototypeOf(this, TimeoutController.prototype);\n  }\n  /**\n   * Aborts the controller and clears the timer\n   */\n\n\n  abort() {\n    this._timer.clear();\n\n    return super.abort();\n  }\n  /**\n   * Clears the timer\n   */\n\n\n  clear() {\n    this._timer.clear();\n  }\n  /**\n   * Resets the timer\n   */\n\n\n  reset() {\n    this._timer.clear();\n\n    this._timer = retimer(() => this.abort(), this._ms);\n  }\n\n}\n\nmodule.exports = TimeoutController;\nmodule.exports.TimeoutController = TimeoutController;","map":null,"metadata":{},"sourceType":"script"}